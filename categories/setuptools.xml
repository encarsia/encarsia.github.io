<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Merge and Destroy (Einträge über setuptools)</title><link>https://encarsia.github.io/</link><description></description><atom:link href="https://encarsia.github.io/categories/setuptools.xml" rel="self" type="application/rss+xml"></atom:link><language>de</language><lastBuildDate>Fri, 26 Mar 2021 12:06:12 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>GTK+-Anwendung mit setuptools packen</title><link>https://encarsia.github.io/posts/setuptools-spicker/</link><dc:creator>Anke (encarsia)</dc:creator><description>&lt;div&gt;&lt;div class="contents pull-right topic" id="inhalt"&gt;
&lt;p class="topic-title"&gt;Inhalt&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://encarsia.github.io/posts/setuptools-spicker/#links" id="id2"&gt;Links&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://encarsia.github.io/posts/setuptools-spicker/#abhangigkeiten" id="id3"&gt;Abhängigkeiten&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://encarsia.github.io/posts/setuptools-spicker/#nicht-python-paketdateien" id="id4"&gt;Nicht Python-Paketdateien&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://encarsia.github.io/posts/setuptools-spicker/#desktop-dateien" id="id5"&gt;Desktop-Dateien&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://encarsia.github.io/posts/setuptools-spicker/#bestehendes-kommando-anpassen" id="id6"&gt;Bestehendes Kommando anpassen&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://encarsia.github.io/posts/setuptools-spicker/#neues-kommando-erstellen" id="id7"&gt;Neues Kommando erstellen&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Der einzige Zweck dieser Seite besteht darin, die Links in meiner setup.py zu entfernen.&lt;/strong&gt;&lt;/p&gt;
&lt;div class="section" id="links"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://encarsia.github.io/posts/setuptools-spicker/#id2"&gt;Links&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://github.com/kennethreitz/setup.py/blob/master/setup.py"&gt;example setup.py&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://stackoverflow.com/questions/25284879/install-desktop-file-with-setup-py"&gt;(stackoverflow) Install .desktop file with setup.py&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://seasonofcode.com/posts/how-to-add-custom-build-steps-and-commands-to-setuppy.html"&gt;How To Add Custom Build Steps and Commands To setup.py&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://stackoverflow.com/questions/36187264/how-to-get-installation-directory-using-setuptools-and-pkg-ressources"&gt;(stackoverflow) How to get installation directory using setuptools and pkg_ressources&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://coderwall.com/p/3q_czg/custom-subcommand-at-setup-py"&gt;Custom subcommand at setup.py&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://dankeder.com/posts/adding-custom-commands-to-setup-py/"&gt;Adding custom commands to setup.py&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://setuptools.readthedocs.io/en/latest/"&gt;setuptools documentation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://github.com/encarsia/non/blob/master/setup.py"&gt;setup.py of my GTK+ application with custom install and uninstall commands&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="abhangigkeiten"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://encarsia.github.io/posts/setuptools-spicker/#id3"&gt;Abhängigkeiten&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;setuptools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;REQUIRED&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"PyGObject"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-5"&gt;&lt;/a&gt;&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-6"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-7"&gt;&lt;/a&gt;    &lt;span class="n"&gt;install_requires&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;REQUIRED&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-8"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_cc948f28a78a464d8af4e01c43d0835b-9"&gt;&lt;/a&gt;    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Angabe des PyPI-Paketnamens, bei GTK+-Pythonprogrammen also mindestens die entsprechenden Bindings, da sonst &lt;code class="docutils literal"&gt;import gi&lt;/code&gt; scheitert.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="nicht-python-paketdateien"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://encarsia.github.io/posts/setuptools-spicker/#id4"&gt;Nicht Python-Paketdateien&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;setuptools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;PACKAGES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"my_package"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;PACKAGE_DIR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"my_package"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"my_package_dir"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-5"&gt;&lt;/a&gt;&lt;span class="n"&gt;PACKAGE_DATA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"my_package"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"ui/*"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"logging.yaml"&lt;/span&gt;&lt;span class="p"&gt;]}&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-7"&gt;&lt;/a&gt;&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-8"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-9"&gt;&lt;/a&gt;    &lt;span class="n"&gt;packages&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PACKAGES&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-10"&gt;&lt;/a&gt;    &lt;span class="n"&gt;package_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PACKAGE_DIR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-11"&gt;&lt;/a&gt;    &lt;span class="n"&gt;package_data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PACKAGE_DATA&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-12"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_a3ca1c9696e74deab81024fde0d9ccc3-13"&gt;&lt;/a&gt;    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Das Paket "my_package" wird aus dem Verzeichnis "my_package_dir" im Verzeichnis "my_package" gepackt.&lt;/p&gt;
&lt;p&gt;Die Dateien, die keinen Python-Code enthalten, also etwa Glade-Dateien, werden als Liste in &lt;code class="docutils literal"&gt;package_data&lt;/code&gt; übergeben. Im Beispiel werden alle Dateien im Unterverzeichnis "ui" sowie die Datei "logging.yaml" ins Paket integriert.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="desktop-dateien"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://encarsia.github.io/posts/setuptools-spicker/#id5"&gt;Desktop-Dateien&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Der Speicherort von .desktop-Dateien und Icons richtet sich nach den Freedesktop-Spezifikationen. Desktop-Dateien befinden sich normalerweise in den Verzeichnissen&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_58c73a25ffcd40fba798a7b7eec2deb3-1"&gt;&lt;/a&gt;~/.local/share/applications
&lt;a name="rest_code_58c73a25ffcd40fba798a7b7eec2deb3-2"&gt;&lt;/a&gt;/usr/local/share/applications
&lt;a name="rest_code_58c73a25ffcd40fba798a7b7eec2deb3-3"&gt;&lt;/a&gt;/usr/share/applications
&lt;/pre&gt;&lt;p&gt;Während der Ausführung von &lt;code class="docutils literal"&gt;install&lt;/code&gt; wird das Präfix ermittelt, es ist also nur die Angabe des relativen Pfads in der &lt;code class="docutils literal"&gt;data_files&lt;/code&gt;-Option notwendig. Gleiches gilt für Icons.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_bea8d2d58358422388027be938144c02-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;setuptools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;rel_app_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"share/applications"&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;rel_icon_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"share/icons/hicolor/scalable/apps"&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;DATAFILES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-7"&gt;&lt;/a&gt;            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;destination_dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"list"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"of"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"files"&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-8"&gt;&lt;/a&gt;            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rel_app_path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"my_app.desktop"&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-9"&gt;&lt;/a&gt;            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rel_icon_path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"my_appicon.svg"&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-10"&gt;&lt;/a&gt;            &lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-11"&gt;&lt;/a&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-12"&gt;&lt;/a&gt;&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-13"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-14"&gt;&lt;/a&gt;    &lt;span class="n"&gt;data_files&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;DATAFILES&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-15"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_bea8d2d58358422388027be938144c02-16"&gt;&lt;/a&gt;    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Dieser Schritt kopiert nur die Dateien in die entsprechenden Zielverzeichnisse. Die korrekten Pfadangaben IN der .desktop-Datei werden durch eine eigene Funktion innerhalb des Install-Kommandos angepasst.&lt;/p&gt;
&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Bemerkung&lt;/p&gt;
&lt;p&gt;Zur Formatierung von Desktop-Dateien gibt es einen separaten Artikel: &lt;a class="reference external" href="https://encarsia.github.io/posts/desktop-dateien/"&gt;Desktop-Dateien&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="bestehendes-kommando-anpassen"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://encarsia.github.io/posts/setuptools-spicker/#id6"&gt;Bestehendes Kommando anpassen&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Die .desktop-Datei enthält Pfadangaben zur auszuführenden Datei sowie zum dazugehörigen Icon. Da das Zielverzeichnis der Installation nicht vorhersehbar ist, müssen diese Pfade während der Installation an die Gegebenheiten angepasst werden.&lt;/p&gt;
&lt;p&gt;Um eigene Funktionen in bestehende Kommandos auszuführen, muss man eine eigene Instanz der entsprechenden Klasse (install, build, bdist etc.) generieren und die "run"-Funktion anpassen.&lt;/p&gt;
&lt;p&gt;Setuptools wird dann mit der Option &lt;code class="docutils literal"&gt;cmd_class&lt;/code&gt; auf diese eigene Klasse übergeben.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;setuptools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;setuptools.command.install&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CustomInstall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-6"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-7"&gt;&lt;/a&gt;        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;my_function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;here&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-8"&gt;&lt;/a&gt;        &lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-10"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;my_function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-11"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-12"&gt;&lt;/a&gt;            &lt;span class="n"&gt;do_some_shit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-13"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-14"&gt;&lt;/a&gt;            &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-15"&gt;&lt;/a&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-16"&gt;&lt;/a&gt;&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-17"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-18"&gt;&lt;/a&gt;    &lt;span class="n"&gt;cmdclass&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"install"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;CustomInstall&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-19"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_eea931369d9c4a2ab9d1b26b6e4c0e6f-20"&gt;&lt;/a&gt;    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Eine Liste mit verfügbaren Kommandos erhält man durch&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_e3131cf7abbf4351831a6160afa44297-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;python setup.py --help-commands
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="neues-kommando-erstellen"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://encarsia.github.io/posts/setuptools-spicker/#id7"&gt;Neues Kommando erstellen&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Es ist einfach möglich, eigene Kommandos mit setuptools zu erzeugen. Möchte man beispielsweise die zuvor installierten Dateien, also das Python-Paket und die Desktop-Dateien, loswerden, muss dies manuell erfolgen. Dafür bietet es sich an, ein Uninstall-Kommando zu erstellen.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;setuptools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Command&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;UnInstall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Command&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-5"&gt;&lt;/a&gt;    &lt;span class="n"&gt;description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"description shown by setup.py --help-commands"&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-6"&gt;&lt;/a&gt;    &lt;span class="n"&gt;user_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s2"&gt;"myoption"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-7"&gt;&lt;/a&gt;                     &lt;span class="s2"&gt;"m"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-8"&gt;&lt;/a&gt;                     &lt;span class="s2"&gt;"myoption description shown by setup.py cmd --help"&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-10"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;initialize_options&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-11"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# method must exist&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-12"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# define all options with default value&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-13"&gt;&lt;/a&gt;        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;myoption&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-14"&gt;&lt;/a&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-15"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;finalize_options&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-16"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# method must exist&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-17"&gt;&lt;/a&gt;        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-18"&gt;&lt;/a&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-19"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-20"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# method must exist&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-21"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# code to be executed goes here&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-22"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"This is a custom command."&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-23"&gt;&lt;/a&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-24"&gt;&lt;/a&gt;&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-25"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-26"&gt;&lt;/a&gt;    &lt;span class="n"&gt;cmdclass&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"uninstall"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;UnInstall&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-27"&gt;&lt;/a&gt;    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_689bd3b47edc4642a9e5399556842938-28"&gt;&lt;/a&gt;    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</description><category>glade</category><category>python</category><category>setuptools</category><guid>https://encarsia.github.io/posts/setuptools-spicker/</guid><pubDate>Sun, 24 Jun 2018 16:55:10 GMT</pubDate></item></channel></rss>