<!DOCTYPE html>
<html prefix="
" lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merge and Destroy · Das Geheimnis der Sphinx </title>
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700%7CAbril+Fatface">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS (de)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../en/rss.xml">
<link rel="canonical" href="https://encarsia.github.io/posts/das-geheimnis-der-sphinx/">
<link rel="icon" href="../../files/favicon.ico" sizes="48x48">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Anke (encarsia)">
<link rel="prev" href="../neue-widgets-in-alten-glade-dateien/" title="Neue Widgets in alten Glade-Dateien" type="text/html">
<link rel="next" href="../gtksv/" title="Texteditor mit GtkSourceView" type="text/html">
<link rel="alternate" hreflang="en" href="../../en/posts/das-geheimnis-der-sphinx/">
</head>
<body class="theme-custom">
    <a href="#content" class="sr-only sr-only-focusable">Springe zum Hauptinhalt</a>
    <div class="hsidebar">
        <div class="container sidebar-sticky">
            
                <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../../index.html" title="Home"><i class="fa fa-home"></i>Home</a>
            <a class="sidebar-nav-item" href="../tutorial-reihe-glade" title="Tutorials"><i class="fa fa-lightbulb-o"></i>Tutorials</a>
            <a class="sidebar-nav-item" href="../../projects/index.html" title="Projects"><i class="fa fa-wrench"></i>Projects</a>
            <a class="sidebar-nav-item" href="https://octodon.social/@encarsia" title="Mastodon"><i class="fa fa-mastodon"></i>Mastodon</a>
            <a class="sidebar-nav-item" href="https://pixelfed.social/encarsia" title="Pixelfed"><i class="fa fa-pixelfed"></i>Pixelfed</a>
            <a class="sidebar-nav-item" href="https://twitter.com/encarsia_" title="Twitter"><i class="fa fa-twitter"></i>Twitter</a>
            <a class="sidebar-nav-item" href="https://github.com/encarsia" title="GitHub"><i class="fa fa-github"></i>GitHub</a>
            <a class="sidebar-nav-item" href="../../pages/gplus_the_end" title="Google+"><i class="fa fa-google-plus-official"></i>Google+</a>
            <a class="sidebar-nav-item" href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i>Tags</a>
            <a class="sidebar-nav-item" href="../../archive.html" title="Archive"><i class="fa fa-folder-open"></i>Archive</a>
            <a class="sidebar-nav-item" href="../../rss.xml" title="RSS"><i class="fa fa-feed"></i>RSS</a>
    
    
    </nav><footer id="footer"><span class="copyright">
              
<hr>
Contents © 2021 <a href="mailto:An.Ke@bahnfreikartoffelbrei.de">Anke (encarsia)</a>
<br> 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Hybrid theme
<a rel="me" href="https://octodon.social/@encarsia"></a>

            </span>
            
            
        </footer>
</div>
    </div>
    <div class="content container" id="content">
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><h1 class="post-title p-name"><a href="." class="u-url">Das Geheimnis der Sphinx</a></h1>

    <p class="dateline">
      <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2017-10-29T11:07:05+01:00" itemprop="datePublished" title="2017-10-29 11:07">2017-10-29 11:07</time>   |   <i class="fa fa-user"></i> 
         Anke (encarsia)
      
      
    </p>
    

    <div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="contents pull-right topic" id="inhalt">
<p class="topic-title">Inhalt</p>
<ul class="simple">
<li><p><a class="reference internal" href="#voruberlegungen" id="id8">Vorüberlegungen</a></p></li>
<li>
<p><a class="reference internal" href="#id1" id="id9">Sphinx</a></p>
<ul>
<li><p><a class="reference internal" href="#initialisierung" id="id10">Initialisierung</a></p></li>
<li>
<p><a class="reference internal" href="#conf-py" id="id11">conf.py</a></p>
<ul>
<li><p><a class="reference internal" href="#epub" id="id12">Epub</a></p></li>
<li><p><a class="reference internal" href="#latex" id="id13">LaTeX</a></p></li>
<li><p><a class="reference internal" href="#sonstiges" id="id14">Sonstiges</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#static" id="id15">_static</a></p></li>
<li><p><a class="reference internal" href="#templates" id="id16">_templates</a></p></li>
<li><p><a class="reference internal" href="#epub-zusatzliche-dateien-einfugen" id="id17">Epub: zusätzliche Dateien einfügen</a></p></li>
<li><p><a class="reference internal" href="#index-rst" id="id18">index.rst</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#bonus-mobi" id="id19">Bonus: Mobi</a></p>
<ul>
<li><p><a class="reference internal" href="#kindlegen" id="id20">KindleGen</a></p></li>
<li><p><a class="reference internal" href="#problem-encoding" id="id21">Problem: Encoding</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id7" id="id22">Nikola</a></p></li>
<li><p><a class="reference internal" href="#automatisierung" id="id23">Automatisierung</a></p></li>
<li><p><a class="reference internal" href="#fazit" id="id24">Fazit</a></p></li>
</ul>
</div>
<p><strong>Ob ich die Tutorial-Artikel nicht als E-Book zusammenfassen könnte, wurde ich gefragt. Ich kann.</strong></p>
<p>Folgt mir auf meiner abenteuerlichen und actiongeladenen Reise, in dem mit Kanonen auf Spatzen geschossen wird und ich den Geheimnissen der rätselhaften Sphinx auf die Spur komme.</p>
<a class="reference external image-reference" href="../../images/sph_cover.jpeg"><img alt="/images/sph_cover.thumbnail.jpeg" src="../../images/sph_cover.thumbnail.jpeg"></a>
<div class="section" id="voruberlegungen">
<h2><a class="toc-backref" href="#id8">Vorüberlegungen</a></h2>
<p>Die GitHub-Page läuft mit dem statischen Seitengenerator <a class="reference external" href="https://getnikola.com/">Nikola</a>, die standardmäßig reStructuredText-Quelldateien parst. Da kommt ein Dokumentationstool, das diese ebenso verarbeiten kann und die Ausgabe in verschiedene Formate ermöglicht, absolut gelegen. All das bietet <a class="reference external" href="http://www.sphinx-doc.org">Sphinx</a>.</p>
<p>Die naheliegende, sich aber möglicherweise als naiv herausstellende, Überlegung war nun, die bestehenden Blogartikelquelldateien so vorzubereiten, dass sich mit wenig Aufwand gewünschte Ausgabeformate immer wieder neu generieren lassen.</p>
<p>Sphinx bietet Builder für</p>
<blockquote>
<ul class="simple">
<li><p><strong>EPUB</strong>, dem offenen E-Book-Standard, nativ von allen E-Reader-Fabrikaten außer den Kindles unterstützt</p></li>
<li><p><strong>PDF</strong>, das per LaTeX (verschiedene Engines verfügbar) erzeugt wird</p></li>
</ul>
</blockquote>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id9">Sphinx</a></h2>
<div class="section" id="initialisierung">
<h3><a class="toc-backref" href="#id10">Initialisierung</a></h3>
<p>Nach der Installation erstellt man das Projektverzeichnis und initialisiert mit</p>
<pre class="code console"><a name="rest_code_7134784cf7884aeca07722a3665ce9e5-1"></a><span class="gp">$ </span>sphinx-quickstart
</pre>
<p>das Grundgerüst. Fast alle Fragen können auf der Voreinstellung belassen werden. Im Projektverzeichnis befindet sich nun die Konfigurationsdatei <code class="docutils literal">conf.py</code> sowie das Root-Dokument <code class="docutils literal">index.rst</code>.</p>
<p>Die Dateien lassen sich nach dem Muster <code class="docutils literal">make Builder</code> erzeugen, die in den Unterverzeichnissen <code class="docutils literal">_build/builder</code> befinden:</p>
<pre class="code console"><a name="rest_code_0c328e5301d243699645fa6063b8a662-1"></a><span class="gp">$ </span>make epub
<a name="rest_code_0c328e5301d243699645fa6063b8a662-2"></a><span class="gp">$ </span>make latexpdf
</pre>
</div>
<div class="section" id="conf-py">
<h3><a class="toc-backref" href="#id11">conf.py</a></h3>
<div class="section" id="epub">
<h4><a class="toc-backref" href="#id12">Epub</a></h4>
<pre class="code python"><a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-1"></a><span class="c1">#HTML-Dateien vor dem Inhalt der index.rst einfügen</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-2"></a><span class="n">epub_pre_files</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">'info.xhtml'</span><span class="p">,</span> <span class="s1">'Info'</span><span class="p">)]</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-3"></a><span class="n">html_additional_pages</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'info'</span><span class="p">:</span> <span class="s1">'info.html'</span><span class="p">}</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-4"></a>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-5"></a><span class="c1">#Titel erzeugen</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-6"></a><span class="n">epub_cover</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'_static/cover.png'</span><span class="p">,</span> <span class="s1">'epub-cover.html'</span><span class="p">)</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-7"></a>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-8"></a><span class="c1">#Stichwortverzeichnis auslassen</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-9"></a><span class="n">epub_use_index</span> <span class="o">=</span> <span class="kc">False</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-10"></a>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-11"></a><span class="c1">#Bezeichnung der Ausgabedatei</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-12"></a><span class="n">epub_basename</span> <span class="o">=</span> <span class="n">output_basename</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-13"></a>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-14"></a><span class="c1">#für die Generierung der info.xhtml benötigt, da sonst None</span>
<a name="rest_code_564775fe0c754bbeb0cc5de73a107fde-15"></a><span class="n">html_last_updated_fmt</span> <span class="o">=</span> <span class="s1">'</span><span class="si">%d</span><span class="s1">. %B %Y'</span>
</pre>
</div>
<div class="section" id="latex">
<h4><a class="toc-backref" href="#id13">LaTeX</a></h4>
<p>Für die PDF-Ausgabe müssen eine Reihe von TeXLive-Paketen installiert sein (siehe <a class="reference external" href="http://www.sphinx-doc.org/en/stable/builders.html#sphinx.builders.latex.LaTeXBuilder">Dokumentation</a>). Als Alternativen seien an dieser Stelle das in <a class="reference external" href="https://calibre-ebook.com/">Calibre</a> integrierte Konvertierungstool <code class="docutils literal"><span class="pre">ebook-convert</span></code> und <a class="reference external" href="http://www.epub2pdf.com/">epub2pdf</a> genannt.</p>
<pre class="code python"><a name="rest_code_28179bb255444b9c9de27412008617ca-1"></a><span class="c1">#Papierformat (Standard ist US-Letter), leere Seiten vermeiden</span>
<a name="rest_code_28179bb255444b9c9de27412008617ca-2"></a><span class="n">latex_elements</span> <span class="o">=</span> <span class="p">{</span>
<a name="rest_code_28179bb255444b9c9de27412008617ca-3"></a>    <span class="s1">'papersize'</span><span class="p">:</span> <span class="s1">'a4paper'</span><span class="p">,</span>
<a name="rest_code_28179bb255444b9c9de27412008617ca-4"></a>    <span class="s1">'classoptions'</span><span class="p">:</span> <span class="s1">'oneside,openany'</span>
<a name="rest_code_28179bb255444b9c9de27412008617ca-5"></a><span class="p">}</span>
<a name="rest_code_28179bb255444b9c9de27412008617ca-6"></a>
<a name="rest_code_28179bb255444b9c9de27412008617ca-7"></a><span class="c1">#Logo auf der Titelseite</span>
<a name="rest_code_28179bb255444b9c9de27412008617ca-8"></a><span class="n">latex_logo</span> <span class="o">=</span> <span class="s1">'_static/logo.png'</span>
</pre>
</div>
<div class="section" id="sonstiges">
<h4><a class="toc-backref" href="#id14">Sonstiges</a></h4>
<dl class="simple">
<dt>Pygments</dt>
<dd>
<p>Syntax-Highlighting, ebenfalls von Nikola unterstützt, hier wie dort bevorzuge ich das Theme "borland".</p>
</dd>
<dt>Bezeichnung der Ausgabedatei</dt>
<dd>
<p>Der Dateiname lässt sich für die verschiedenen Builder jeweils festlegen. Um für alle verwendeten Builder jeweils die gleiche Bezeichnung zu nutzen, verwende ich hier die eigene Variable <code class="docutils literal">output_basename</code>. Diese wird demzufolge nicht von Sphinx unterstützt und nur innerhalb der <code class="docutils literal">conf.py</code> verwendet (in den Variablen htmlhelp_basename, latex_documents, texinfo_documents, epub_basename).</p>
</dd>
</dl>
<pre class="code python"><a name="rest_code_e1e48f39d7f74e5c8b2fb489d7cec52d-1"></a><span class="n">pygments_style</span> <span class="o">=</span> <span class="s1">'borland'</span>
<a name="rest_code_e1e48f39d7f74e5c8b2fb489d7cec52d-2"></a><span class="n">output_basename</span> <span class="o">=</span> <span class="s1">'gladepytutorial'</span>
</pre>
</div>
</div>
<div class="section" id="static">
<h3><a class="toc-backref" href="#id15">_static</a></h3>
<p>In diesem Ordner befinden sich Stylesheets, Bilder und Skripte, die nach den vorgegebenen Dateien geladen werden. So kann man lokale individuelle Stylesheet-Anpassungen vornehmen, ohne das Theme selbst zu modifizieren. Hier befinden sich eine angepasste <code class="docutils literal">pygments.css</code>, <code class="docutils literal">cover.png</code> (Epub) und <code class="docutils literal">logo.png</code> (PDF).</p>
</div>
<div class="section" id="templates">
<h3><a class="toc-backref" href="#id16">_templates</a></h3>
<p>Analog zu _static befinden sich hier individuelle Templates. Diese werden standardmäßig mit der Template-Engine <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> betrieben. Hier befindet sich <code class="docutils literal">info.html</code>, die in der Epub-Ausgabe Verwendung findet.</p>
</div>
<div class="section" id="epub-zusatzliche-dateien-einfugen">
<h3><a class="toc-backref" href="#id17">Epub: zusätzliche Dateien einfügen</a></h3>
<p>Sphinx bietet mit <code class="docutils literal">epub_pre_files</code> (und analog <code class="docutils literal">epub_post_files</code>) die Option, zusätzliche und nicht zur eigentlichen Dokumentation gehörenden (X)HTML-Dateien zum Epub hinzuzufügen. Diese müssen allerdings zunächst als zusätzliche HTML-Seiten generiert werden. Dafür wird in der <code class="docutils literal">conf.py</code> die Variable <code class="docutils literal">html_additional_pages</code> entsprechend gesetzt <a class="footnote-reference brackets" href="#id3" id="id2">1</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd>
<p>Es hat mich einen (EINEN!) Tag gekostet dies herauszufinden...</p>
</dd>
</dl>
</div>
<div class="section" id="index-rst">
<h3><a class="toc-backref" href="#id18">index.rst</a></h3>
<p>Dies ist das Hauptdokument, das von jedem Sphinx-Builder geparst wird. Die Bezeichnung wird in der <code class="docutils literal">conf.py</code> in der Variable <code class="docutils literal">master_doc</code> festgelegt.</p>
<p>Als reguläre reST-Datei kann sie beliebig viel Inhalt aufnehmen. Es ist allerdings zu empfehlen und im Normalfall vermutlich sowieso bereits der Fall, das Dokument in mehrere Dateien aufzuteilen. Sphinx stellt dafür die eigene <a class="reference external" href="http://www.sphinx-doc.org/en/stable/markup/toctree.html">toctree</a>-Directive zur Verfügung.</p>
<pre class="code rest"><a name="rest_code_164f4f38294a4825ae03a7a50c832019-1"></a><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
<a name="rest_code_164f4f38294a4825ae03a7a50c832019-2"></a>    <span class="nc">:maxdepth:</span> 1
<a name="rest_code_164f4f38294a4825ae03a7a50c832019-3"></a>    <span class="nc">:numbered:</span>
<a name="rest_code_164f4f38294a4825ae03a7a50c832019-4"></a>    <span class="nc">:caption:</span> Inhalt
<a name="rest_code_164f4f38294a4825ae03a7a50c832019-5"></a>
<a name="rest_code_164f4f38294a4825ae03a7a50c832019-6"></a>    teildokument1
<a name="rest_code_164f4f38294a4825ae03a7a50c832019-7"></a>    teildokument2
<a name="rest_code_164f4f38294a4825ae03a7a50c832019-8"></a><span class="cp">    ...</span>
</pre>
<p>Dateien außerhalb von <em>toctree</em> werden per <em>include</em>-Directive hinzugefügt.</p>
<p>Es ist auch möglich, Inhalte nur von bestimmten Buildern berücksichtigen zu lassen:</p>
<pre class="code rest"><a name="rest_code_abad7beeaaff43aa8159445c2a322d86-1"></a><span class="p">..</span> <span class="ow">only</span><span class="p">::</span> latex
<a name="rest_code_abad7beeaaff43aa8159445c2a322d86-2"></a>
<a name="rest_code_abad7beeaaff43aa8159445c2a322d86-3"></a><span class="p">    ..</span> <span class="ow">include</span><span class="p">::</span> info.rst
</pre>
</div>
</div>
<div class="section" id="bonus-mobi">
<h2><a class="toc-backref" href="#id19">Bonus: Mobi</a></h2>
<p><em>"Ich habe doch einen Kindle und hätte auch gern so ein E-Book!"</em></p>
<p>Aber klar doch.</p>
<div class="section" id="kindlegen">
<h3><a class="toc-backref" href="#id20">KindleGen</a></h3>
<p>Amazon möchte zwar keine Epubs <a class="footnote-reference brackets" href="#id6" id="id4">2</a> unterstützen, aber sie bieten mit <a class="reference external" href="https://www.amazon.com/gp/feature.html?docId=1000765211">KindleGen</a> ein Tool an, welches diese in die eigenen Formate (KF8, Mobi) überführt.</p>
<p>Auf diese Weise lässt sich mit</p>
<pre class="code console"><a name="rest_code_0c6b39b895744d28ac59f62e59ec9cfd-1"></a><span class="gp">$ </span>kindlegen input.epub
</pre>
<p>eine Mobi-Datei erzeugen.</p>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd>
<p>oder Google-Apps...</p>
</dd>
</dl>
</div>
<div class="section" id="problem-encoding">
<h3><a class="toc-backref" href="#id21">Problem: Encoding</a></h3>
<p>Das aus dem Epub erstellte E-Book im Mobi-Format hat ein Darstellungsproblem mit einigen (Sonder-)Zeichen.</p>
<p>Abhilfe schafft hier die Zeile</p>
<pre class="code xml"><a name="rest_code_bc947afe48ce406396f116c158d33dd4-1"></a><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span> <span class="nt">/&gt;</span>
</pre>
<p>an Stelle von</p>
<pre class="code xml"><a name="rest_code_b04803e0475e4b04830d57e40fb58321-1"></a><span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
</pre>
<p>innerhalb des HTML-Heads. Sphinx bietet dafür die <em>meta</em>-Directive, die allerdings für jede Datei gesetzt werden muss:</p>
<pre class="code rest"><a name="rest_code_9e63577c0e8c4a21914ba6540510b317-1"></a><span class="p">..</span> <span class="ow">meta</span><span class="p">::</span>
<a name="rest_code_9e63577c0e8c4a21914ba6540510b317-2"></a>    <span class="nc">:http-equiv=Content-Type:</span> text/html; charset=UTF-8
</pre>
</div>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id22">Nikola</a></h2>
<p>Das Resultat des ersten Durchlaufs von Sphinx mit der Übersichtsseite und drei Artikeln lässt vorsichtig optimistisch werden. Trotzdem gibt es an diversen Stellen Optimierungsbedarf:</p>
<ol class="arabic">
<li><p>Die Nikola-eigenen Kurzverweise (slug) funktionieren nicht und erfordern eine Konvertierung in "<code class="docutils literal">:ref:</code>"erenz.</p></li>
<li><p>Die Artikelüberschrift ist kein Gliederungselement und fehlt demzufolge im Inhaltsverzeichnis</p></li>
<li>
<p>Nikola-eigene Directives verursachen Fehler. Konvertierung von</p>
<blockquote>
<ul class="simple">
<li><p><em>thumbnail</em> -&gt; figure</p></li>
<li><p><em>listings</em> -&gt; literalinclude</p></li>
</ul>
</blockquote>
</li>
<li><p>relative Pfade in <em>image</em>-Directives anpassen</p></li>
<li><p>Animierte GIFs ignorieren (erzeugen Fehler im LaTeX-Durchlauf, aber nicht im Epub)</p></li>
<li><p>Inhaltsverzeichnisse in den Artikel überflüssig</p></li>
<li><p>"Kommentieren auf G+"-Button entfernen</p></li>
<li><p>Für die Generierung der Mobi-Datei muss jede Datei eine Meta-Anweisung erhalten</p></li>
</ol>
<p>Für eine zufriedenstellende Ausgabe ist es also erforderlich, die Ausgangsdateien hinsichtlich dieser Punkte per Skript zu modifizieren.</p>
</div>
<div class="section" id="automatisierung">
<h2><a class="toc-backref" href="#id23">Automatisierung</a></h2>
<p>Das ist er, der Elefant im Raum.</p>
<p>Sphinx läuft und die <code class="docutils literal">index.rst</code> ist eingerichtet. Die Mission  besteht nun aus folgenden Teilaufgaben:</p>
<ol class="arabic simple">
<li><p>Sphinx soll sich der aktuellen Dateien der GitHub-Page bedienen.</p></li>
<li><p>Diese Dateien sollen gemäß der oben genannten Punkte bearbeitet werden.</p></li>
<li><p>Sphinx soll ein Epub und ein PDF erzeugen.</p></li>
<li><p>KindleGen soll ein Mobi erzeugen.</p></li>
<li><p>Die Dateien sollen im entsprechenden Ordner im GitHub Page-Verzeichnis abgelegt und deployt werden.</p></li>
</ol>
<p>Let's do this.</p>
<p>Die diffizile Arbeit ist bereits erledigt: die Einrichtung von Sphinx und die Problemerfassung. Das Skript selbst arbeitet nun die oben genannten Punkte ab. Weiterhin gibt es der Übersichtlichkeit halber zwei weitere Dateien. Es befinden sich nun im Sphinx-Projektverzeichnis folgende neue Dateien:</p>
<ol class="arabic simple">
<li><p><strong>nibook.py</strong>: sammelt, kopiert, bearbeitet die Quelldateien, erstellt die E-Books und füttert die GitHub-Page (<a class="reference external" href="../../listings/nibook.py.html">Code</a>)</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p><strong>index.lst</strong>: Liste von Dateinamen (ohne Endung), die im Dokument enthalten sein sollen</p></li>
</ol>
<pre class="code text"><a name="rest_code_c794794662e2484aad47de42670885cc-1"></a>übersicht
<a name="rest_code_c794794662e2484aad47de42670885cc-2"></a>artikel1
<a name="rest_code_c794794662e2484aad47de42670885cc-3"></a>artikel2
<a name="rest_code_c794794662e2484aad47de42670885cc-4"></a>artikel5
</pre>
<ol class="arabic simple" start="3">
<li><p><strong>index.tmpl</strong>: aus dieser und der index.lst wird die <code class="docutils literal">index.rst</code> generiert</p></li>
</ol>
<pre class="code rst"><a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-1"></a><span class="cp">.. generated by nibook, posts will be inserted after ".. include-start"</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-2"></a>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-3"></a><span class="cp">.. some text documentation master file, created by</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-4"></a><span class="cp">   sphinx-quickstart on Thu Oct 26 20:26:54 2017.</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-5"></a><span class="cp">   You can adapt this file completely to your liking, but it should at least</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-6"></a><span class="cp">   contain the root `toctree` directive.</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-7"></a>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-8"></a><span class="p">..</span> <span class="ow">meta</span><span class="p">::</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-9"></a>   <span class="nc">:http-equiv=Content-Type:</span> text/html; charset=UTF-8
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-10"></a>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-11"></a><span class="p">..</span> <span class="ow">only</span><span class="p">::</span> latex
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-12"></a>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-13"></a><span class="p">    ..</span> <span class="ow">include</span><span class="p">::</span> info.rst
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-14"></a>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-15"></a><span class="gh">****************************</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-16"></a><span class="gh">Glade-Tutorial mit PyGObject</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-17"></a><span class="gh">****************************</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-18"></a>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-19"></a><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-20"></a>    <span class="nc">:maxdepth:</span> 1
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-21"></a>    <span class="nc">:numbered:</span>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-22"></a>    <span class="nc">:caption:</span> Inhalt
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-23"></a>    <span class="nc">:name:</span> mastertoc
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-24"></a>
<a name="rest_code_68a5fa8d02d74412b5800b2caf71f840-25"></a><span class="cp">    .. include-start</span>
</pre>
</div>
<div class="section" id="fazit">
<h2><a class="toc-backref" href="#id24">Fazit</a></h2>
<p>Wieder was gelernt.</p>
<div class="figure">
<img alt="/images/sph_meme.jpg" src="../../images/sph_meme.jpg"><p class="caption"><a class="reference external" href="../../pages/downloads/">Download</a></p>
</div>
<br><a class="discuss-on-gplus" href="https://plus.google.com/105146352752269764996/posts/YaZGKrpF6Dj">Kommentare bei <i class="fa fa-google-plus"></i></a>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><p itemprop="keywords" class="tags">
            <span class="tag"><a class="p-category" href="../../categories/ebook/" rel="tag">ebook</a></span>
            <span class="tag"><a class="p-category" href="../../categories/glade/" rel="tag">glade</a></span>
            <span class="tag"><a class="p-category" href="../../categories/nikola/" rel="tag">nikola</a></span>
            <span class="tag"><a class="p-category" href="../../categories/python/" rel="tag">python</a></span>
            <span class="tag"><a class="p-category" href="../../categories/sphinx/" rel="tag">sphinx</a></span>
      </p>

            <div class="pager hidden-print pagination">

            <span class="previous pagination-item older">
                <a href="../neue-widgets-in-alten-glade-dateien/" rel="prev" title="Neue Widgets in alten Glade-Dateien">
                Vorheriger Eintrag
                </a>
            </span>


            <span class="next pagination-item newer">
                <a href="../gtksv/" rel="next" title="Texteditor mit GtkSourceView">
Nächster Eintrag
              </a>
            </span>

        </div>

    </nav></aside><section class="comments hidden-print"><h2>Kommentare</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="bahnfreikartoffelbrei",
            disqus_url="https://encarsia.github.io/posts/das-geheimnis-der-sphinx/",
        disqus_title="Das Geheimnis der Sphinx",
        disqus_identifier="cache/posts/das-geheimnis-der-sphinx.html",
        disqus_config = function () {
            this.language = "de";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="bahnfreikartoffelbrei";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    
    
                <script src="../../assets/js/all-nocdn.js" type="text/javascript"></script><!-- fancy dates --><script>
      moment.locale("de");
      fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
