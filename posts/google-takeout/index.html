<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Verloren im Kaninchenbau von Google Takeout | Merge and Destroy</title>
<link href="//fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.0.11/css/fork-awesome.min.css" integrity="sha256-MGU/JUq/40CFrfxjXb5pZjpoZmxiP2KuICN5ElLFNd8=" crossorigin="anonymous">
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (de)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../en/rss.xml">
<link rel="canonical" href="https://encarsia.github.io/posts/google-takeout/">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><meta name="author" content="Anke (encarsia)">
<meta property="og:site_name" content="Merge and Destroy">
<meta property="og:title" content="Verloren im Kaninchenbau von Google Takeout">
<meta property="og:url" content="https://encarsia.github.io/posts/google-takeout/">
<meta property="og:description" content="Inhalt

Die 4, die 20 und Google+, alles zum Mitnehmen
Geschenke auspacken
Auftritt: Nikola
Eyecandy
Wünsch dir was
Fazit
Listings
Usage (README.md)
Plugin




Mach Backups deiner Daten. Habensegesagt">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-05-31T16:10:07+02:00">
<meta property="article:tag" content="google+">
<meta property="article:tag" content="nikola">
<meta property="article:tag" content="python">
<meta property="article:tag" content="takeout">
<link rel="alternate" hreflang="en" href="../../en/posts/google-takeout/">
</head>
<body>
    <section class="social"><ul>
<li><a href="../../index.html" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../tutorial-reihe-glade/index.html" title="Tutorials"><i class="fa fa-lightbulb-o"></i></a></li>
            <li><a href="https://octodon.social/@encarsia" title="Mastodon"><i class="fa fa-mastodon"></i></a></li>
            <li><a href="https://twitter.com/encarsia_" title="Twitter"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://plus.google.com/105146352752269764996/posts" title="Google+"><i class="fa fa-google-plus-official"></i></a></li>
            <li><a href="https://github.com/encarsia" title="Github"><i class="fa fa-github"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../pages/about/index.html" title="About me"><i class="fa fa-user"></i></a></li>
            <li><a href="../../archive.html" title="Archives"><i class="fa fa-folder-open"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name">Verloren im Kaninchenbau von Google Takeout</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2018-05-31T16:10:07+02:00">2018-05-31 16:10</time><a href="../../en/posts/google-takeout/" rel="alternate" hreflang="en">
                English</a>

            
          |  
        <a href="index.rst" id="sourcelink">Source</a>

            </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../../categories/google%2B/" rel="tag">google+</a></li>
           <li><a class="tag p-category" href="../../categories/nikola/" rel="tag">nikola</a></li>
           <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
           <li><a class="tag p-category" href="../../categories/takeout/" rel="tag">takeout</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div>
<div class="contents pull-right topic" id="inhalt">
<p class="topic-title first">Inhalt</p>
<ul class="simple">
<li><a class="reference internal" href="#die-4-die-20-und-google-alles-zum-mitnehmen" id="id2">Die 4, die 20 und Google+, alles zum Mitnehmen</a></li>
<li><a class="reference internal" href="#geschenke-auspacken" id="id3">Geschenke auspacken</a></li>
<li><a class="reference internal" href="#auftritt-nikola" id="id4">Auftritt: Nikola</a></li>
<li><a class="reference internal" href="#eyecandy" id="id5">Eyecandy</a></li>
<li><a class="reference internal" href="#wunsch-dir-was" id="id6">Wünsch dir was</a></li>
<li><a class="reference internal" href="#fazit" id="id7">Fazit</a></li>
<li>
<a class="reference internal" href="#listings" id="id8">Listings</a><ul>
<li><a class="reference internal" href="#usage-readme-md" id="id9">Usage (README.md)</a></li>
<li><a class="reference internal" href="#plugin" id="id10">Plugin</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Mach Backups deiner Daten. Habensegesagt. Aller Daten. Habensegesagt. Und dann kam Google Takeout</strong></p>
<div class="figure">
<img alt="/images/import_gplus_post.png" src="../../images/import_gplus_post.png"><p class="caption">G+-Post-Ansicht von Takeout</p>
</div>
<div class="section" id="die-4-die-20-und-google-alles-zum-mitnehmen">
<h2><a class="toc-backref" href="#id2">Die 4, die 20 und Google+, alles zum Mitnehmen</a></h2>
<p><a class="reference external" href="http://google.com/takeout/">Takeout</a> nennt sich Googles Archivsystem für allerlei Produkte aus dem Hause Alpha. Das Primärziel bestand darin, ein Archiv meiner Google+-Aktivitäten herunterzuladen.</p>
<p>Dies gestaltete sich zunächst recht einfach: das Archiv (bzw. (je nach Größe) die Archive) wird erstellt. Bei Fertigstellung erhält man eine Nachricht mit Downloadlink. Das Archiv verfällt nach einer Woche, aber man kann jederzeit neue erstellen.</p>
<div class="admonition admonition-lektion-1">
<p class="first admonition-title">Lektion 1</p>
<p class="last">Wähle als Dateiformat <em>zip</em>, <em>tgz</em> könnte Encoding-Probleme mit Umlauten haben (Dies ist keine Übung!).</p>
</div>
<p>Ich erinnerte mich dunkel daran, dass ein Import-Plugin für Nikola existierte und malte mir aus, das Archiv einfach dort abzuwerfen und eine halbwegs nutzbare lokale Seite gebaut zu bekommen. Der geneigte Leser wird bereits an dieser Stelle mutmaßen, dass dieser Ansatz nicht funktionierte.</p>
</div>
<div class="section" id="geschenke-auspacken">
<h2><a class="toc-backref" href="#id3">Geschenke auspacken</a></h2>
<p>Nach ersten Untersuchungen zeigen sich folgende Fakten:</p>
<ol class="arabic simple">
<li>Alle G+-Beiträge befinden sich in <tt class="docutils literal">Stream in <span class="pre">Google+/Beiträge</span></tt> als HTML-Dateien. Diese sehen zunächst brauchbar aus.</li>
<li>Enthaltene Bildverweise geben nur den Dateinamen an, der fehlende Dateipfad lädt demzufolgge nur Bilder im selben Verzeichnis, aber</li>
<li>Bilder befinden sich in diversen Unterverzeichnissen, sowohl in <tt class="docutils literal">Beiträge</tt> als auch in <tt class="docutils literal">Fotos</tt> und deren Unterverzeichnissen. Die Mehrheit befindet sich in <tt class="docutils literal">Fotos von Beiträgen</tt>, dort jeweils in Datumsunterverzeichnisse einsortiert.</li>
<li>Ein Datumsformat ist so gut wie jedes andere und so findet man dort in friedlicher Koexistenz Dinge wie:</li>
</ol>
<pre class="code text"><a name="rest_code_27a71acfa9374bbb8462c8e78aff5d1f-1"></a>Fotos von Beiträgen/
<a name="rest_code_27a71acfa9374bbb8462c8e78aff5d1f-2"></a> ├── 02.06.14
<a name="rest_code_27a71acfa9374bbb8462c8e78aff5d1f-3"></a> ├── 02.06.16
<a name="rest_code_27a71acfa9374bbb8462c8e78aff5d1f-4"></a> ├── 22. Juli 2013
<a name="rest_code_27a71acfa9374bbb8462c8e78aff5d1f-5"></a> ├── 23.01.17
<a name="rest_code_27a71acfa9374bbb8462c8e78aff5d1f-6"></a> ├── 2011-08-14
<a name="rest_code_27a71acfa9374bbb8462c8e78aff5d1f-7"></a> └── 2012-03-13
</pre>
<ol class="arabic simple" start="5">
<li>Fotos haben eine dazugehörige JSON-Datei, HTML-Dateien nicht.</li>
<li>Die Inspektion der HTML-Dateien ergibt eine übersichtliche Struktur mit Klassenangabe.</li>
</ol>
<div class="figure">
<a class="reference external image-reference" href="../../images/import_gplus_inspector.png"><img alt="/images/import_gplus_inspector.thumbnail.png" src="../../images/import_gplus_inspector.thumbnail.png"></a>
<p class="caption">Dumdidumdumdum...Inspektor Gadget</p>
</div>
<div class="admonition admonition-lektion-2">
<p class="first admonition-title">Lektion 2</p>
<p class="last">Beiträge lassen sich nur einzeln aufrufen, es gibt jede Menge Deadlinks bei Bilderposts, aber immerhin sieht man den Verteilungstatus (öffentlich, Sammlung, Community), +1, Reshares und Kommentare.</p>
</div>
</div>
<div class="section" id="auftritt-nikola">
<h2><a class="toc-backref" href="#id4">Auftritt: Nikola</a></h2>
<p>Mit leicht getrübten Erwartungen installiere ich das <a class="reference external" href="https://plugins.getnikola.com/v7/import_gplus/">Import-Plugin</a> für <a class="reference external" href="https://getnikola.com/">Nikola</a> und lege los. Es passt gar nichts. Angeblich stehen die Beiträge auch als JSON zur Verfügung. Das war bestimmt auch einst so, jetzt nicht mehr.</p>
<p>Ich hangele mich an den Dateien entlang, importiere zunächst die HTML-Dateien. Das Import-Plugin erstellt grundsätzlich eine neue Nikola-Seite, so dass man hier nach Gusto wüten kann. Dann kümmere ich mich um die Deadlinks. Dann die Titel - ich bin wie im Rausch: mit jedem Build wird es besser.</p>
<p>Das Ergebnis ist eine statische Webseite meines Google+-Streams inklusive Plussen und Kommentaren. Man kommt von den Beiträgen immer zum Originalbeitrag.</p>
</div>
<div class="section" id="eyecandy">
<h2><a class="toc-backref" href="#id5">Eyecandy</a></h2>
<p>Grundsätzlich funktioniert der Import themenunabhängig. <a class="reference external" href="https://themes.getnikola.com/v7/hyde/">hyde</a> liefert ein schönes Ergebnis, etwas nachgeholfen wird mit der <tt class="docutils literal">custom.css</tt>.</p>
</div>
<div class="section" id="wunsch-dir-was">
<h2><a class="toc-backref" href="#id6">Wünsch dir was</a></h2>
<ul class="simple">
<li>eine lokale Suchfunktion wäre schön</li>
<li>gefilterte Anzeige je nach Verteilungsstatus</li>
</ul>
<div class="admonition attention">
<p class="first admonition-title">Achtung!</p>
<p class="last">Plant man ein öffentlich einsehbares Backup des Streams, ist zu beachten, dass der Import auch private Beiträge enthält.</p>
</div>
</div>
<div class="section" id="fazit">
<h2><a class="toc-backref" href="#id7">Fazit</a></h2>
<p>Als langjähriger Google+-Nutzer ist man auf Inkonsistenzen und Verschlimmbesserungen konditioniert, da kommt Takeout als Sparringspartner nur gelegen. Es ist nur eine Frage der Zeit, bis auch diese Plugin-Version den Weg jedes Google-Messengers gehen wird.</p>
<div class="figure">
<img alt="/images/takeout_gplus_slow.gif" src="../../images/takeout_gplus_slow.gif"><p class="caption">Resultat der Nikola-generierten Seite mit hyde-Thema</p>
</div>
<p>Wer sich zu fein ist, das jetzt selbst zu machen, hier:</p>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="../../files/import_gplus.zip">Download Plugin (5,7 kB)</a></li>
</ul>
</blockquote>
<!-- TEASER_END -->
</div>
<div class="section" id="listings">
<h2><a class="toc-backref" href="#id8">Listings</a></h2>
<div class="section" id="usage-readme-md">
<h3><a class="toc-backref" href="#id9">Usage (README.md)</a></h3>
<p><a class="reference external" href="../../listings/import_gplus_README.md.html">import_gplus_README.md</a>  <a class="reference external" href="../../listings/import_gplus_README.md">(Source)</a></p>
<pre class="code md"><a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-1"></a>This plugin does a rough import of a Google+ stream as provided by [<span class="nt">Google Takeout</span>](<span class="na">http://google.com/takeout/</span>)
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-2"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-3"></a>Videos work, content in general works, attached images may or may not work depending on source.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-4"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-5"></a>The output is html, and there's little to no configuration done in the resulting site.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-6"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-7"></a><span class="gu">##</span> IMPORTANT
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-8"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-9"></a>As of today (July 2018) this mostly rewritten plugin works until Google plays around again.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-10"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-11"></a>If you consider to release this into the wilderness, keep in mind that the import includes not only public but also private and community shares.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-12"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-13"></a>Enjoy.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-14"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-15"></a><span class="gu">##</span> Usage
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-16"></a>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-17"></a> <span class="k">*</span> Download Google Takeout as zip file if you use umlauts. There may be encoding issues.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-18"></a> <span class="k">*</span> Extract the dump file, merge parts if you have multiple files.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-19"></a> <span class="k">*</span> Additional Python package requirement: [<span class="nt">BeautifulSoup</span>](<span class="na">https://www.crummy.com/software/BeautifulSoup/</span>).
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-20"></a> <span class="k">*</span> Extract the plugin into the <span class="sb">`plugins`</span> folder of an existing Nikola site. The plugin will create a new site in an subfolder so there won't be any contaminations with actual data. If you are unsure or don't want that you can easily initiate an empty site for the purpose: <span class="sb">`nikola init dummy_site`</span>.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-21"></a> <span class="k">*</span> Open <span class="sb">`plugins/import_gplus.py`</span> and adapt folder names to your language settings.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-22"></a> <span class="k">*</span> Run <span class="sb">`nikola import_gplus path/to/takeout_folder`</span>.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-23"></a> <span class="k">*</span> The plugin inits a new Nikola site called <span class="sb">`new_site`</span> (no shit, Sherlock), you will have to change into that directory to run build commands.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-24"></a> <span class="k">*</span> Building the site can take long and possibly wake up your fans. You may want to test the output with a fraction of the available data.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-25"></a> <span class="k">*</span> Although the output should work with any theme, it looks quite nice with [<span class="nt">hyde</span>](<span class="na">https://themes.getnikola.com/v7/hyde/</span>); hpstr is okay, too. Consider to copy the included <span class="sb">`custom.css`</span> into the <span class="sb">`themes/THEME_NAME/assets/css`</span> directory for an even better experience.
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-26"></a> <span class="k">*</span> Tweaking <span class="sb">`conf.py`</span>:
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-27"></a>  <span class="k">*</span> disable comments:  <span class="sb">`COMMENT_SYSTEM = ""`</span>
<a name="rest_code_e9e9fe5de3e347f49683bce4c000d6e8-28"></a>  <span class="k">*</span> link to your G+ profile in <span class="sb">`NAVIGATION_LINKS`</span>, disable link to RSS feed
</pre>
</div>
<div class="section" id="plugin">
<h3><a class="toc-backref" href="#id10">Plugin</a></h3>
<p><a class="reference external" href="../../listings/import_gplus.py.html">import_gplus.py</a>  <a class="reference external" href="../../listings/import_gplus.py">(Source)</a></p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-1">  1</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-2">  2</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-3">  3</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-4">  4</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-5">  5</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-6">  6</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-7">  7</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-8">  8</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-9">  9</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-10"> 10</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-11"> 11</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-12"> 12</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-13"> 13</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-14"> 14</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-15"> 15</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-16"> 16</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-17"> 17</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-18"> 18</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-19"> 19</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-20"> 20</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-21"> 21</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-22"> 22</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-23"> 23</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-24"> 24</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-25"> 25</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-26"> 26</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-27"> 27</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-28"> 28</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-29"> 29</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-30"> 30</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-31"> 31</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-32"> 32</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-33"> 33</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-34"> 34</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-35"> 35</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-36"> 36</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-37"> 37</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-38"> 38</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-39"> 39</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-40"> 40</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-41"> 41</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-42"> 42</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-43"> 43</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-44"> 44</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-45"> 45</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-46"> 46</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-47"> 47</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-48"> 48</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-49"> 49</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-50"> 50</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-51"> 51</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-52"> 52</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-53"> 53</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-54"> 54</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-55"> 55</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-56"> 56</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-57"> 57</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-58"> 58</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-59"> 59</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-60"> 60</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-61"> 61</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-62"> 62</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-63"> 63</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-64"> 64</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-65"> 65</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-66"> 66</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-67"> 67</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-68"> 68</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-69"> 69</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-70"> 70</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-71"> 71</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-72"> 72</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-73"> 73</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-74"> 74</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-75"> 75</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-76"> 76</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-77"> 77</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-78"> 78</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-79"> 79</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-80"> 80</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-81"> 81</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-82"> 82</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-83"> 83</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-84"> 84</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-85"> 85</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-86"> 86</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-87"> 87</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-88"> 88</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-89"> 89</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-90"> 90</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-91"> 91</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-92"> 92</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-93"> 93</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-94"> 94</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-95"> 95</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-96"> 96</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-97"> 97</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-98"> 98</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-99"> 99</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-100">100</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-101">101</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-102">102</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-103">103</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-104">104</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-105">105</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-106">106</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-107">107</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-108">108</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-109">109</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-110">110</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-111">111</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-112">112</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-113">113</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-114">114</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-115">115</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-116">116</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-117">117</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-118">118</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-119">119</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-120">120</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-121">121</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-122">122</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-123">123</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-124">124</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-125">125</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-126">126</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-127">127</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-128">128</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-129">129</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-130">130</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-131">131</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-132">132</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-133">133</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-134">134</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-135">135</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-136">136</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-137">137</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-138">138</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-139">139</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-140">140</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-141">141</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-142">142</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-143">143</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-144">144</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-145">145</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-146">146</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-147">147</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-148">148</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-149">149</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-150">150</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-151">151</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-152">152</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-153">153</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-154">154</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-155">155</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-156">156</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-157">157</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-158">158</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-159">159</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-160">160</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-161">161</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-162">162</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-163">163</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-164">164</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-165">165</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-166">166</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-167">167</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-168">168</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-169">169</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-170">170</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-171">171</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-172">172</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-173">173</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-174">174</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-175">175</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-176">176</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-177">177</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-178">178</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-179">179</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-180">180</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-181">181</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-182">182</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-183">183</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-184">184</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-185">185</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-186">186</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-187">187</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-188">188</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-189">189</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-190">190</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-191">191</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-192">192</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-193">193</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-194">194</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-195">195</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-196">196</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-197">197</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-198">198</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-199">199</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-200">200</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-201">201</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-202">202</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-203">203</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-204">204</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-205">205</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-206">206</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-207">207</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-208">208</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-209">209</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-210">210</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-211">211</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-212">212</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-213">213</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-214">214</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-215">215</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-216">216</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-217">217</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-218">218</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-219">219</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-220">220</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-221">221</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-222">222</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-223">223</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-224">224</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-225">225</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-226">226</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-227">227</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-228">228</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-229">229</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-230">230</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-231">231</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-232">232</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-233">233</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-234">234</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-235">235</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-236">236</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-237">237</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-238">238</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-239">239</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-240">240</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-241">241</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-242">242</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-243">243</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-244">244</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-245">245</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-246">246</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-247">247</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-248">248</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-249">249</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-250">250</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-251">251</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-252">252</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-253">253</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-254">254</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-255">255</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-256">256</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-257">257</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-258">258</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-259">259</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-260">260</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-261">261</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-262">262</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-263">263</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-264">264</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-265">265</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-266">266</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-267">267</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-268">268</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-269">269</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-270">270</a>
<a href="#rest_code_4916acf9f4894a89b849051ff352ed9b-271">271</a></pre></div></td>
<td class="code"><pre class="code python"><a name="rest_code_4916acf9f4894a89b849051ff352ed9b-1"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-2"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-3"></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span><span class="p">,</span> <span class="n">print_function</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-4"></a><span class="kn">import</span> <span class="nn">os</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-5"></a><span class="kn">import</span> <span class="nn">shutil</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-6"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-7"></a><span class="k">try</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-8"></a>    <span class="kn">import</span> <span class="nn">bs4</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-9"></a><span class="k">except</span> <span class="n">ModuleNotFoundError</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-10"></a>    <span class="k">raise</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-11"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-12"></a><span class="kn">from</span> <span class="nn">nikola.plugin_categories</span> <span class="kn">import</span> <span class="n">Command</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-13"></a><span class="kn">from</span> <span class="nn">nikola</span> <span class="kn">import</span> <span class="n">utils</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-14"></a><span class="kn">from</span> <span class="nn">nikola.utils</span> <span class="kn">import</span> <span class="n">req_missing</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-15"></a><span class="kn">from</span> <span class="nn">nikola.plugins.basic_import</span> <span class="kn">import</span> <span class="n">ImportMixin</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-16"></a><span class="kn">from</span> <span class="nn">nikola.plugins.command.init</span> <span class="kn">import</span> <span class="n">SAMPLE_CONF</span><span class="p">,</span> <span class="n">prepare_config</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-17"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-18"></a><span class="n">LOGGER</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="s1">'import_gplus'</span><span class="p">,</span> <span class="n">utils</span><span class="o">.</span><span class="n">STDERR_HANDLER</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-19"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-20"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-21"></a><span class="k">class</span> <span class="nc">CommandImportGplus</span><span class="p">(</span><span class="n">Command</span><span class="p">,</span> <span class="n">ImportMixin</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-22"></a>    <span class="sd">"""Import a Google+ dump."""</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-23"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-24"></a>    <span class="n">name</span> <span class="o">=</span> <span class="s2">"import_gplus"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-25"></a>    <span class="n">needs_config</span> <span class="o">=</span> <span class="bp">False</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-26"></a>    <span class="n">doc_usage</span> <span class="o">=</span> <span class="s2">"[options] extracted_dump_file_folder"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-27"></a>    <span class="n">doc_purpose</span> <span class="o">=</span> <span class="s2">"import a Google+ dump"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-28"></a>    <span class="n">cmd_options</span> <span class="o">=</span> <span class="n">ImportMixin</span><span class="o">.</span><span class="n">cmd_options</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-29"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-30"></a>    <span class="k">def</span> <span class="nf">_execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-31"></a>        <span class="sd">'''</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-32"></a><span class="sd">            Import Google+ dump</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-33"></a><span class="sd">        '''</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-34"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-35"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-36"></a>            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">help</span><span class="p">())</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-37"></a>            <span class="k">return</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-38"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-39"></a>        <span class="n">options</span><span class="p">[</span><span class="s1">'filename'</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-40"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">export_folder</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s1">'filename'</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-41"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s1">'output_folder'</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-42"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">import_into_existing_site</span> <span class="o">=</span> <span class="bp">False</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-43"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">url_map</span> <span class="o">=</span> <span class="p">{}</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-44"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-45"></a>        <span class="c1"># Google Takeout folder structure, adapt to your language settings</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-46"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-47"></a>        <span class="c1"># Takeout/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-48"></a>        <span class="c1"># ├── +1/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-49"></a>        <span class="c1"># ├── Google+ stream/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-50"></a>        <span class="c1"># |   ├── Posts/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-51"></a>        <span class="c1"># |   ├── Photos/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-52"></a>        <span class="c1"># |   |   ├── Photos of posts/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-53"></a>        <span class="c1"># |   |   └── Photos of polls/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-54"></a>        <span class="c1"># |   ├── Activities/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-55"></a>        <span class="c1"># |   ├── Collections/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-56"></a>        <span class="c1"># |   └── Events/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-57"></a>        <span class="c1"># ├── Google+ Communities/</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-58"></a>        <span class="c1"># └── index.html</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-59"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-60"></a>        <span class="n">gto_root</span> <span class="o">=</span> <span class="s2">"Takeout"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-61"></a>        <span class="n">gto_plus1</span> <span class="o">=</span> <span class="s2">"+1"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-62"></a>        <span class="n">gto_stream</span> <span class="o">=</span> <span class="s2">"Stream in Google+"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-63"></a>        <span class="n">gto_posts</span> <span class="o">=</span> <span class="s2">"Beiträge"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-64"></a>        <span class="n">gto_photos</span> <span class="o">=</span> <span class="s2">"Fotos"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-65"></a>        <span class="n">gto_photos_posts</span> <span class="o">=</span> <span class="s2">"Fotos von Beiträgen"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-66"></a>        <span class="n">gto_photos_polls</span> <span class="o">=</span> <span class="s2">"Umfragefotos"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-67"></a>        <span class="n">gto_activity</span> <span class="o">=</span> <span class="s2">"Aktivitätsprotokoll"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-68"></a>        <span class="n">gto_collections</span> <span class="o">=</span> <span class="s2">"Sammlungen"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-69"></a>        <span class="n">gto_events</span> <span class="o">=</span> <span class="s2">"Veranstaltungen"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-70"></a>        <span class="n">gto_communities</span> <span class="o">=</span> <span class="s2">"Google+ Communities"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-71"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-72"></a>        <span class="c1"># path to HTML formatted post files</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-73"></a>        <span class="n">post_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_folder</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-74"></a>                                 <span class="n">gto_root</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-75"></a>                                 <span class="n">gto_stream</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-76"></a>                                 <span class="n">gto_posts</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-77"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-78"></a>        <span class="c1"># collect all files</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-79"></a>        <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">post_path</span><span class="p">))</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">post_path</span><span class="p">,</span> <span class="n">f</span><span class="p">))]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-80"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-81"></a>        <span class="c1"># filter relevant HTML files</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-82"></a>        <span class="n">html_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">".html"</span><span class="p">)]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-83"></a>        <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"{} posts ready for import"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">html_files</span><span class="p">)))</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-84"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-85"></a>        <span class="c1"># init new Nikola site "new_site", edit conf.py to your needs</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-86"></a>        <span class="c1"># change to this folder for the for build process</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-87"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_context</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_folder</span><span class="p">,</span> <span class="n">html_files</span><span class="p">,</span> <span class="n">post_path</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-88"></a>        <span class="n">conf_template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_base_site</span><span class="p">()</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-89"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_configuration</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_configuration_output_path</span><span class="p">(),</span> <span class="n">conf_template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="o">**</span><span class="n">prepare_config</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)))</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-90"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">import_posts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_folder</span><span class="p">,</span> <span class="n">html_files</span><span class="p">,</span> <span class="n">post_path</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-91"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-92"></a>        <span class="c1"># In the Takeout archive photos are linked to the main working</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-93"></a>        <span class="c1"># directory although they do not necessarily exist there (Hello</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-94"></a>        <span class="c1"># deadlinks!). The image files are spread to several folders.</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-95"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-96"></a>        <span class="c1"># All archive photos will be copied to the "images" folder.</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-97"></a>        <span class="k">try</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-98"></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="p">,</span> <span class="s2">"images"</span><span class="p">))</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-99"></a>            <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"Image folder ceated."</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-100"></a>        <span class="k">except</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-101"></a>            <span class="k">pass</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-102"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-103"></a>        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_folder</span><span class="p">,</span> <span class="n">gto_root</span><span class="p">)):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-104"></a>            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-105"></a>                <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">".jpg"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">".jpeg"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">".png"</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-106"></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="p">,</span> <span class="s2">"images"</span><span class="p">,</span><span class="n">f</span><span class="p">)):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-107"></a>                        <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">f</span><span class="p">),</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="p">,</span> <span class="s2">"images"</span><span class="p">))</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-108"></a>                        <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"{} copied to Nikola image folder."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-109"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-110"></a>    <span class="nd">@staticmethod</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-111"></a>    <span class="k">def</span> <span class="nf">populate_context</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-112"></a>        <span class="c1"># We don't get much data here</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-113"></a>        <span class="n">context</span> <span class="o">=</span> <span class="n">SAMPLE_CONF</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-114"></a>        <span class="n">context</span><span class="p">[</span><span class="s1">'DEFAULT_LANG'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'de'</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-115"></a>        <span class="n">context</span><span class="p">[</span><span class="s1">'BLOG_DESCRIPTION'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">''</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-116"></a>        <span class="n">context</span><span class="p">[</span><span class="s1">'SITE_URL'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'http://localhost:8000/'</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-117"></a>        <span class="n">context</span><span class="p">[</span><span class="s1">'BLOG_EMAIL'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">''</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-118"></a>        <span class="n">context</span><span class="p">[</span><span class="s1">'BLOG_TITLE'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Static G+ stream archive"</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-119"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-120"></a>        <span class="c1"># Get any random post, all have the same data</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-121"></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-122"></a>            <span class="n">soup</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-123"></a>            <span class="n">context</span><span class="p">[</span><span class="s1">'BLOG_AUTHOR'</span><span class="p">]</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"author"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-124"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-125"></a>        <span class="n">context</span><span class="p">[</span><span class="s1">'POSTS'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'''(</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-126"></a><span class="s1">            ("posts/*.html", "posts", "post.tmpl"),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-127"></a><span class="s1">            ("posts/*.rst", "posts", "post.tmpl"),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-128"></a><span class="s1">        )'''</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-129"></a>        <span class="n">context</span><span class="p">[</span><span class="s1">'COMPILERS'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'''{</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-130"></a><span class="s1">        "rest": ('.txt', '.rst'),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-131"></a><span class="s1">        "html": ('.html', '.htm')</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-132"></a><span class="s1">        }</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-133"></a><span class="s1">        '''</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-134"></a>        <span class="k">return</span> <span class="n">context</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-135"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-136"></a>    <span class="k">def</span> <span class="nf">import_posts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-137"></a>        <span class="sd">"""Import all posts."""</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-138"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">out_folder</span> <span class="o">=</span> <span class="s1">'posts'</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-139"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-140"></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-141"></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-142"></a>                <span class="n">soup</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-143"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-144"></a>                <span class="n">description</span> <span class="o">=</span> <span class="s2">""</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-145"></a>                <span class="n">tags</span> <span class="o">=</span> <span class="p">[]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-146"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-147"></a>                <span class="n">title_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-148"></a>                <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prettify_title</span><span class="p">(</span><span class="n">title_string</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-149"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-150"></a>                <span class="c1"># post date is the 2nd link on the page</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-151"></a>                <span class="n">post_date</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-152"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-153"></a>                <span class="c1"># collect complete post content</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-154"></a>                <span class="n">post_text</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="s2">"main-content"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-155"></a>                <span class="n">link_embed</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"link-embed"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-156"></a>                <span class="n">media_link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"media-link"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-157"></a>                <span class="n">album</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="s2">"album"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-158"></a>                <span class="n">video</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="s2">"video-placeholder"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-159"></a>                <span class="n">visibility</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="s2">"visibility"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-160"></a>                <span class="n">activity</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="s2">"post-activity"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-161"></a>                <span class="n">comments</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="s2">"comments"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-162"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-163"></a>                <span class="k">if</span> <span class="n">video</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-164"></a>                    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"video"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-165"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-166"></a>                <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">media_link</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-167"></a>                    <span class="c1"># link to image in image folder if not external link</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-168"></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">[</span><span class="s2">"href"</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"http"</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-169"></a>                        <span class="n">filename</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">"href"</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-170"></a>                        <span class="k">try</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-171"></a>                            <span class="n">link</span><span class="p">[</span><span class="s2">"href"</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">".."</span><span class="p">,</span> <span class="s2">"images"</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-172"></a>                            <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"photo"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-173"></a>                        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-174"></a>                            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"No href attribute to convert link destination ({})"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">link</span><span class="p">))</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-175"></a>                        <span class="k">try</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-176"></a>                            <span class="n">link</span><span class="o">.</span><span class="n">img</span><span class="p">[</span><span class="s2">"src"</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">".."</span><span class="p">,</span> <span class="s2">"images"</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-177"></a>                        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-178"></a>                            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"No src attribute to convert link destination ({})"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">link</span><span class="p">))</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-179"></a>                    <span class="c1"># throw away redundant p tag filled with the post text</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-180"></a>                    <span class="k">try</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-181"></a>                        <span class="n">link</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-182"></a>                    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-183"></a>                        <span class="k">pass</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-184"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-185"></a>                <span class="c1"># multiple entries only in albums, so we only need first item</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-186"></a>                <span class="c1"># BeautifulSoup.find_all() always returns result, so media_link</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-187"></a>                <span class="c1"># is never None</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-188"></a>                <span class="k">try</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-189"></a>                    <span class="n">media_link</span> <span class="o">=</span> <span class="n">media_link</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-190"></a>                <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-191"></a>                    <span class="n">media_link</span> <span class="o">=</span> <span class="bp">None</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-192"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-193"></a>                <span class="k">if</span> <span class="n">album</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-194"></a>                    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"photo_album"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-195"></a>                    <span class="c1"># we don't need media_link if album is available</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-196"></a>                    <span class="n">media_link</span> <span class="o">=</span> <span class="bp">None</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-197"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-198"></a>                <span class="k">if</span> <span class="n">link_embed</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-199"></a>                    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"link"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-200"></a>                    <span class="c1"># we don't need media_link if we got external link</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-201"></a>                    <span class="n">media_link</span> <span class="o">=</span> <span class="bp">None</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-202"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-203"></a>                <span class="n">content</span> <span class="o">=</span> <span class="s2">""</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-204"></a>                <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="p">[</span><span class="n">post_text</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-205"></a>                             <span class="n">link_embed</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-206"></a>                             <span class="n">album</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-207"></a>                             <span class="n">media_link</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-208"></a>                             <span class="n">visibility</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-209"></a>                             <span class="n">activity</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-210"></a>                             <span class="n">comments</span><span class="p">]:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-211"></a>                    <span class="k">if</span> <span class="n">part</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-212"></a>                        <span class="n">content</span> <span class="o">=</span> <span class="s2">"{}</span><span class="se">\n</span><span class="s2">{}</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">part</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-213"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-214"></a>                <span class="c1"># receive link from post date</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-215"></a>                <span class="n">link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"href"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-216"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-217"></a>                <span class="n">slug</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">slugify</span><span class="p">(</span><span class="s2">"{}_{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">post_date</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">title</span><span class="p">),</span> <span class="n">lang</span><span class="o">=</span><span class="s2">"de"</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-218"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-219"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">slug</span><span class="p">:</span>  <span class="c1"># should never happen</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-220"></a>                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">"Error converting post:"</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-221"></a>                    <span class="k">return</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-222"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-223"></a>                <span class="c1"># additional metadata</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-224"></a>                <span class="n">more</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"link"</span><span class="p">:</span> <span class="n">link</span><span class="p">,</span> <span class="c1"># original G+ post</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-225"></a>                        <span class="s2">"hidetitle"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="c1"># doesn't work for index pages</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-226"></a>                        <span class="p">}</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-227"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-228"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">write_metadata</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_folder</span><span class="p">,</span> <span class="n">slug</span> <span class="o">+</span> <span class="s2">".meta"</span><span class="p">),</span> <span class="n">title</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">post_date</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">more</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-229"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">write_content</span><span class="p">(</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-230"></a>                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_folder</span><span class="p">,</span> <span class="n">slug</span> <span class="o">+</span> <span class="s2">".html"</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-231"></a>                    <span class="n">content</span><span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-232"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-233"></a>    <span class="k">def</span> <span class="nf">write_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">post_date</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">more</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-234"></a>        <span class="nb">super</span><span class="p">(</span><span class="n">CommandImportGplus</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">write_metadata</span><span class="p">(</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-235"></a>            <span class="n">filename</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-236"></a>            <span class="n">title</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-237"></a>            <span class="n">slug</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-238"></a>            <span class="n">post_date</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-239"></a>            <span class="n">description</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-240"></a>            <span class="n">tags</span><span class="p">,</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-241"></a>            <span class="o">**</span><span class="n">more</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-242"></a>            <span class="p">)</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-243"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-244"></a>    <span class="k">def</span> <span class="nf">prettify_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-245"></a>        <span class="sd">"""</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-246"></a><span class="sd">            Titles are generated from post text.</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-247"></a><span class="sd">            Cut junk and shorten to one line</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-248"></a><span class="sd">            for readability and convenience.</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-249"></a><span class="sd">        """</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-250"></a>        <span class="c1"># reduce title string to one line</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-251"></a>        <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"&lt;br&gt;"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-252"></a>        <span class="c1"># link in title? just cut it out, ain't nobody got time for that</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-253"></a>        <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"&lt;a "</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-254"></a>        <span class="c1"># same for user link</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-255"></a>        <span class="n">t</span><span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"span class="</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-256"></a>        <span class="c1"># cut trailing dots</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-257"></a>        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">"..."</span><span class="p">):</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-258"></a>            <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-259"></a>        <span class="c1"># cut html elements and fix quotation marks</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-260"></a>        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">[(</span><span class="s2">"&lt;b&gt;"</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-261"></a>                     <span class="p">(</span><span class="s2">"&lt;/b&gt;"</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-262"></a>                     <span class="p">(</span><span class="s2">"&amp;quot;"</span><span class="p">,</span> <span class="s2">"</span><span class="se">\"</span><span class="s2">"</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-263"></a>                     <span class="p">(</span><span class="s2">"&amp;#39;"</span><span class="p">,</span> <span class="s2">"'"</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-264"></a>                     <span class="p">(</span><span class="s2">"&lt;b"</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-265"></a>                     <span class="p">(</span><span class="s2">"&lt;/"</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-266"></a>                     <span class="p">(</span><span class="s2">"&lt;i&gt;"</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-267"></a>                     <span class="p">(</span><span class="s2">"&lt;/i&gt;"</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-268"></a>                     <span class="p">(</span><span class="s2">"&lt;"</span><span class="p">,</span> <span class="s2">""</span><span class="p">),]:</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-269"></a>            <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tag</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tag</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-270"></a>
<a name="rest_code_4916acf9f4894a89b849051ff352ed9b-271"></a>        <span class="k">return</span> <span class="n">t</span>
</pre></td>
</tr></table>
<br><a class="discuss-on-gplus" href="https://plus.google.com/105146352752269764996/posts/SkUoxkiTAK3">Kommentieren auf <i class="fa fa-google-plus"></i></a>
</div>
</div>
</div>
        </div>
        
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../non-release/" rel="prev" title="NoN: Fortschritte und Release">Vorheriger Eintrag</a>
            </li>
            <li class="next">
                <a href="../non-jetzt-noch-viel-toller/" rel="next" title="NoN: jetzt noch toller">Nächster Eintrag</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="bahnfreikartoffelbrei",
            disqus_url="https://encarsia.github.io/posts/google-takeout/",
        disqus_title="Verloren im Kaninchenbau von Google Takeout",
        disqus_identifier="cache/posts/verloren-im-kaninchenbau-von-google-takeout.html",
        disqus_config = function () {
            this.language = "de";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        
    


    </div>

        
       <script>var disqus_shortname="bahnfreikartoffelbrei";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2018 <a href="mailto:An.Ke@bahnfreikartoffelbrei.de">Anke (encarsia)</a> - 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Zen theme based in <a href="https://github.com/arusahni/website-template">Arusahni's website-template</a><br></p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
