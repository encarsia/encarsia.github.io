<!DOCTYPE html>
<html prefix="
" lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merge and Destroy · Texteditor mit GtkSourceView </title>
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700%7CAbril+Fatface">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS (de)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../en/rss.xml">
<link rel="canonical" href="https://encarsia.github.io/posts/gtksv/">
<link rel="icon" href="../../files/favicon.ico" sizes="48x48">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Anke (encarsia)">
<link rel="prev" href="../das-geheimnis-der-sphinx/" title="Das Geheimnis der Sphinx" type="text/html">
<link rel="next" href="../kettlebattle-generator/" title="Neu: der Kettlebattle-Generator" type="text/html">
<link rel="alternate" hreflang="en" href="../../en/posts/gtksv/">
</head>
<body class="theme-custom">
    <a href="#content" class="sr-only sr-only-focusable">Springe zum Hauptinhalt</a>
    <div class="hsidebar">
        <div class="container sidebar-sticky">
            
                <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../../index.html" title="Home"><i class="fa fa-home"></i>Home</a>
            <a class="sidebar-nav-item" href="../tutorial-reihe-glade" title="Tutorials"><i class="fa fa-lightbulb-o"></i>Tutorials</a>
            <a class="sidebar-nav-item" href="../../projects/index.html" title="Projects"><i class="fa fa-wrench"></i>Projects</a>
            <a class="sidebar-nav-item" href="https://octodon.social/@encarsia" title="Mastodon"><i class="fa fa-mastodon"></i>Mastodon</a>
            <a class="sidebar-nav-item" href="https://pixelfed.social/encarsia" title="Pixelfed"><i class="fa fa-pixelfed"></i>Pixelfed</a>
            <a class="sidebar-nav-item" href="https://twitter.com/encarsia_" title="Twitter"><i class="fa fa-twitter"></i>Twitter</a>
            <a class="sidebar-nav-item" href="https://github.com/encarsia" title="GitHub"><i class="fa fa-github"></i>GitHub</a>
            <a class="sidebar-nav-item" href="../../pages/gplus_the_end" title="Google+"><i class="fa fa-google-plus-official"></i>Google+</a>
            <a class="sidebar-nav-item" href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i>Tags</a>
            <a class="sidebar-nav-item" href="../../archive.html" title="Archive"><i class="fa fa-folder-open"></i>Archive</a>
            <a class="sidebar-nav-item" href="../../rss.xml" title="RSS"><i class="fa fa-feed"></i>RSS</a>
    
    
    </nav><footer id="footer"><span class="copyright">
              
<hr>
Contents © 2021 <a href="mailto:An.Ke@bahnfreikartoffelbrei.de">Anke (encarsia)</a>
<br> 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Hybrid theme
<a rel="me" href="https://octodon.social/@encarsia"></a>

            </span>
            
            
        </footer>
</div>
    </div>
    <div class="content container" id="content">
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><h1 class="post-title p-name"><a href="." class="u-url">Texteditor mit GtkSourceView</a></h1>

    <p class="dateline">
      <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2017-11-11T18:27:40-01:00" itemprop="datePublished" title="2017-11-11 18:27">2017-11-11 18:27</time>   |   <i class="fa fa-user"></i> 
         Anke (encarsia)
      
      
    </p>
    

    <div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="contents pull-right topic" id="inhalt">
<p class="topic-title">Inhalt</p>
<ul class="simple">
<li>
<p><a class="reference internal" href="#glade" id="id4">Glade</a></p>
<ul>
<li><p><a class="reference internal" href="#gtksourceview" id="id5">GtkSourceView</a></p></li>
<li><p><a class="reference internal" href="#sourcemap" id="id6">SourceMap</a></p></li>
<li><p><a class="reference internal" href="#headerbar" id="id7">Headerbar</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#python" id="id8">Python</a></p>
<ul>
<li>
<p><a class="reference internal" href="#sourceview" id="id9">SourceView</a></p>
<ul>
<li><p><a class="reference internal" href="#initialisierung" id="id10">Initialisierung</a></p></li>
<li><p><a class="reference internal" href="#datei-laden" id="id11">Datei laden</a></p></li>
<li><p><a class="reference internal" href="#datei-speichern" id="id12">Datei speichern</a></p></li>
<li><p><a class="reference internal" href="#text-hervorheben" id="id13">Text hervorheben</a></p></li>
<li><p><a class="reference internal" href="#text-markieren" id="id14">Text markieren</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#stylechooser" id="id15">StyleChooser</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#links" id="id16">Links</a></p></li>
<li>
<p><a class="reference internal" href="#listings" id="id17">Listings</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id18">Python</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id19">Glade</a></p></li>
</ul>
</li>
</ul>
</div>
<p><strong>Text-Widget mit GtkSourceView</strong></p>
<p>GTK+ bietet mit <em>Gtk.TextView</em> ein Widget zum Anzeigen und Bearbeiten von Text/-dateien an. Wie beim <a class="reference external" href="../uberlistet/">TreeView-Widget</a> werden die Daten (model) und die Anzeige (view) getrennt voneinander gehandhabt. Das datentragende Modell zu <em>TextView</em> ist <em>TextBuffer</em>.</p>
<p><a class="reference external" href="https://wiki.gnome.org/Projects/GtkSourceView">GtkSourceView</a> ist eine Erweiterung und Unterklasse von TextView, die Syntaxhighlighting, Farbschemata, Laden/Speichern, Vervollständigung und andere Funktionen unterstützt.</p>
<p>Im Beispiel wird ein Editor ergestellt, der bestimmte Dateien laden und speichern kann, sowie eine rudimentäre Suchfunktion und ein Widget zum Farbschemawechseln bereitstellt.</p>
<a class="reference external image-reference" href="../../images/22_editor_gtksv.png"><img alt="/images/22_editor_gtksv.thumbnail.png" src="../../images/22_editor_gtksv.thumbnail.png" style="width: 600px;"></a>
<div class="section" id="glade">
<h2><a class="toc-backref" href="#id4">Glade</a></h2>
<div class="section" id="gtksourceview">
<h3><a class="toc-backref" href="#id5">GtkSourceView</a></h3>
<p>Die SourceView-Widgets befinden sich unterhalb einer eigenen gleichnamigen Hauptkategorie in der Seitenleiste.</p>
<ul class="simple">
<li><p><strong>GtkSourceView</strong>: das eigentliche Editorwidget, das in einem <em>ScrolledWindow</em> platziert wird</p></li>
<li><p><strong>GtkSourceMap</strong>: Miniaturansicht und Unterklasse von SourceView</p></li>
<li><p><strong>GtkSourceStyleSchemeChooserWidget</strong>: Widget zur Auswahl eines StyleSchemes</p></li>
</ul>
<p>In Glade lassen sich bereits viele Eigenschaften des Editorbereichs festlegen wie die Anzeige der Zeilennummern, Einrückung, Umbruchverhalten usw., die sich natürlich auch über <code class="docutils literal">set_property</code> festlegen oder ändern lassen.</p>
<p>Beim StyleChooser-Widget wird das Signal <code class="docutils literal"><span class="pre">button-release-event</span></code> belegt, um das ausgewählte StyleScheme auf die SourceView-Widgets anzuwenden.</p>
</div>
<div class="section" id="sourcemap">
<h3><a class="toc-backref" href="#id6">SourceMap</a></h3>
<p>Das Widget muss mit der anzuzeigenden Quelle, einem SourceView-Widget, verknüpft werden (über <em>"Allgemein &gt; View"</em>). Es wird dann der Inhalt des SourceView-Widgets verkleinert (standardmäßig mit Schriftgröße in 1pt) angezeigt. Durch scrollen in SourceMap verändert man gleichzeitig die Anzeige in SourceView.</p>
</div>
<div class="section" id="headerbar">
<h3><a class="toc-backref" href="#id7">Headerbar</a></h3>
<p>Die Headerbar enthält verschiedene Buttons zum Laden, Suchen und Speichern:</p>
<ul class="simple">
<li><p>"Python file" und "Glade file" laden die entsprechenden Dateien dieses Beispieles in den Editor (Signal <code class="docutils literal">clicked</code>)</p></li>
<li><p>Die Sucheingabe ist ein <em>Gtk.SearchEntry</em>-Widget (Signale <code class="docutils literal"><span class="pre">search-changed</span></code> und <code class="docutils literal">activate</code>)</p></li>
<li><p>"Save .bak" und "Save" speichern die Dateien (Signal <code class="docutils literal">clicked</code>)</p></li>
</ul>
</div>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="#id8">Python</a></h2>
<div class="section" id="sourceview">
<h3><a class="toc-backref" href="#id9">SourceView</a></h3>
<div class="section" id="initialisierung">
<h4><a class="toc-backref" href="#id10">Initialisierung</a></h4>
<p>Widgets, die nicht zum <em>Gtk</em>-Modul gehören, müssen zunächst als initialisiert werden (siehe auch <a class="reference external" href="../exterminate/">Vte-Terminal</a>):</p>
<pre class="code python"><a name="rest_code_8a9638962b9f41698ada7c84107ef367-1"></a><span class="n">GObject</span><span class="o">.</span><span class="n">type_register</span><span class="p">(</span><span class="n">GtkSource</span><span class="o">.</span><span class="n">View</span><span class="p">)</span>
</pre>
<p>Das SourceView-Widget besitzt bereits einen integrierten Textbuffer, welcher mit <code class="docutils literal">get_buffer</code> abgefragt werden kann:</p>
<pre class="code python"><a name="rest_code_e866881e0cb342f09281a57fc87a6898-1"></a><span class="bp">self</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span>
</pre>
<p>Desweiteren werden noch Objekte zum Laden und Speichern von Dateien sowie fürs Syntaxhighlighting benötigt:</p>
<pre class="code python"><a name="rest_code_a2f5d73a14e34010a4ee29cf2ab59e33-1"></a><span class="bp">self</span><span class="o">.</span><span class="n">sourcefile</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">File</span><span class="p">()</span>
<a name="rest_code_a2f5d73a14e34010a4ee29cf2ab59e33-2"></a><span class="bp">self</span><span class="o">.</span><span class="n">lang_manager</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">LanguageManager</span><span class="p">()</span>
</pre>
</div>
<div class="section" id="datei-laden">
<h4><a class="toc-backref" href="#id11">Datei laden</a></h4>
<p>Die zu öffnende Datei muss dem <em>GtkSource.File</em>-Objekt im <em>Gio.File</em>-Format und anschließend an <em>GtkSource.FileLoader</em> übergeben werden. Die Information zum Syntaxhighlighting erhält der Buffer:</p>
<pre class="code python"><a name="rest_code_8c7d70c26b71413bb10ce09f2e47fafc-1"></a><span class="n">sourcefile</span><span class="o">.</span><span class="n">set_location</span><span class="p">(</span><span class="n">Gio</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">new_for_path</span><span class="p">(</span><span class="s2">"file"</span><span class="p">))</span>
<a name="rest_code_8c7d70c26b71413bb10ce09f2e47fafc-2"></a><span class="n">buffer</span><span class="o">.</span><span class="n">set_language</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lang_manager</span><span class="o">.</span><span class="n">get_language</span><span class="p">(</span><span class="s2">"language"</span><span class="p">))</span>
<a name="rest_code_8c7d70c26b71413bb10ce09f2e47fafc-3"></a><span class="n">loader</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">FileLoader</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">sourcefile</span><span class="p">)</span>
<a name="rest_code_8c7d70c26b71413bb10ce09f2e47fafc-4"></a><span class="n">loader</span><span class="o">.</span><span class="n">load_async</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="datei-speichern">
<h4><a class="toc-backref" href="#id12">Datei speichern</a></h4>
<p>Analog zum Laden erfolgt das Speichern mit <em>GtkSource.FileSaver</em>. Im Beispiel speichert der "Save"-Button die bestehende Datei (es erfolgt keine "Überschreiben?"-Sicherheitsabfrage) und der "Save .bak"-Button speichert den Inhalt als neue Datei mit genannter Endung ab. Die Übergabe der Dateien erfolgt wie beim Laden <em>Gio.File</em>-formatiert:</p>
<pre class="code python"><a name="rest_code_3a1b26ea51e4467f84a3c7e695f17d79-1"></a><span class="c1"># bestehende Datei überschreiben</span>
<a name="rest_code_3a1b26ea51e4467f84a3c7e695f17d79-2"></a><span class="n">saver</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">FileSaver</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">sourcefile</span><span class="p">)</span>
<a name="rest_code_3a1b26ea51e4467f84a3c7e695f17d79-3"></a><span class="c1"># Datei unter anderem Namen speichern</span>
<a name="rest_code_3a1b26ea51e4467f84a3c7e695f17d79-4"></a><span class="n">saver</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">FileSaver</span><span class="o">.</span><span class="n">new_with_target</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">sourcefile</span><span class="p">,</span> <span class="n">targetfile</span><span class="p">)</span>
<a name="rest_code_3a1b26ea51e4467f84a3c7e695f17d79-5"></a><span class="c1"># Speichern ausführen</span>
<a name="rest_code_3a1b26ea51e4467f84a3c7e695f17d79-6"></a><span class="n">saver</span><span class="o">.</span><span class="n">save_async</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="text-hervorheben">
<h4><a class="toc-backref" href="#id13">Text hervorheben</a></h4>
<p>Zunächst ist festzustellen, dass es sich bei den Funktionen suchen(/ersetzen)/markieren und Texthervorhebungen um zwei getrennt voneinander auszuführenden Mechanismen handelt, für die <em>GtkSource.Settings</em> eingerichtet werden müssen:</p>
<pre class="code python"><a name="rest_code_34f483fd894240b5889da33c57307d96-1"></a><span class="n">settings</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">SearchSettings</span><span class="p">()</span>
<a name="rest_code_34f483fd894240b5889da33c57307d96-2"></a><span class="n">search_context</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">SearchContext</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">settings</span><span class="p">)</span>
</pre>
<p>Alle Vorkommen eines Strings im TextView lassen sich auf zwei Arten visualisieren, einer naheliegenden und einer eleganten.</p>
<p>Die naheliegende Lösung ist die Ausführung von <code class="docutils literal">settings.get_search_text</code> bei der Eingabe von Text in das Suchfeld (Signal <code class="docutils literal"><span class="pre">search-changed</span></code>):</p>
<p>Die andere Möglichkeit, bei der kein Signal benötigt wird, ist die direkte Anbindung der SearchSettings-Eigenschaft "search-text" an das Sucheingabefeld:</p>
<pre class="code python"><a name="rest_code_b7b7741ea3b54eb78526a98316f986c7-1"></a><span class="n">builder</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="s2">"search_entry"</span><span class="p">)</span><span class="o">.</span><span class="n">bind_property</span><span class="p">(</span><span class="s1">'text'</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="s1">'search-text'</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="text-markieren">
<h4><a class="toc-backref" href="#id14">Text markieren</a></h4>
<p><em>GtkSource.SearchContext</em> wird für die Suchen-/Ersetzen-Funktion innerhalb eines <em>GtkSource.Buffer</em> verwendet. Dieser wurde bereits mit den SearchSettings initialisiert.</p>
<p>Die Markierungsfunktionen und Cursorplatzierung erbt <em>GtkSource.Buffer</em> von <em>Gtk.TextBuffer</em>, die Suche wird mit SeachContexts <code class="docutils literal">forward2</code> ausgeführt.</p>
<pre class="code python"><a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-1"></a><span class="k">def</span> <span class="nf">find_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_offset</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-2"></a>    <span class="n">buf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-3"></a>    <span class="n">insert</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">get_iter_at_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_insert</span><span class="p">())</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-4"></a>    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">get_bounds</span><span class="p">()</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-5"></a>    <span class="n">insert</span><span class="o">.</span><span class="n">forward_chars</span><span class="p">(</span><span class="n">start_offset</span><span class="p">)</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-6"></a>    <span class="n">match</span><span class="p">,</span> <span class="n">start_iter</span><span class="p">,</span> <span class="n">end_iter</span><span class="p">,</span> <span class="n">wrapped</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_context</span><span class="o">.</span><span class="n">forward2</span><span class="p">(</span><span class="n">insert</span><span class="p">)</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-7"></a>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-8"></a>    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-9"></a>        <span class="n">buf</span><span class="o">.</span><span class="n">place_cursor</span><span class="p">(</span><span class="n">start_iter</span><span class="p">)</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-10"></a>        <span class="n">buf</span><span class="o">.</span><span class="n">move_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_selection_bound</span><span class="p">(),</span> <span class="n">end_iter</span><span class="p">)</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-11"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">scroll_to_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_insert</span><span class="p">(),</span> <span class="mf">0.25</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-12"></a>        <span class="k">return</span> <span class="kc">True</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-13"></a>    <span class="k">else</span><span class="p">:</span>
<a name="rest_code_cc32e9c8bef64da8a1ba6ed8e4e036b0-14"></a>        <span class="n">buf</span><span class="o">.</span><span class="n">place_cursor</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_iter_at_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_insert</span><span class="p">()))</span>
</pre>
<p>Durch die Signalbindung von <code class="docutils literal">activate</code> im Suchfeld wird die Suche durch Drücken der Eingabetaste an der letzten Position fortgeführt. Für eine Rückwärtssuche muss analog zu <code class="docutils literal">forward2</code> oder <code class="docutils literal">forward_async</code> <code class="docutils literal">backward2</code> oder <code class="docutils literal">backward_async</code> verwendet werden.</p>
</div>
</div>
<div class="section" id="stylechooser">
<h3><a class="toc-backref" href="#id15">StyleChooser</a></h3>
<p>Das Widget zeigt die verfügbaren Stile an. Es ist nicht möglich, lokale Stile anzugeben oder sie zu verändern.</p>
<p>Der angewählte Style lässt sich dann einfach auf den gewünschten Buffer anwenden:</p>
<pre class="code python"><a name="rest_code_ad823ca7ff0145c58f94d3cd76dd87cd-1"></a><span class="k">def</span> <span class="nf">on_signal_emitted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<a name="rest_code_ad823ca7ff0145c58f94d3cd76dd87cd-2"></a>    <span class="n">buffer</span><span class="o">.</span><span class="n">set_style_scheme</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_style_scheme</span><span class="p">())</span>
</pre>
<img alt="/images/22_editor_gtksv.gif" src="../../images/22_editor_gtksv.gif">
</div>
</div>
<div class="section" id="links">
<h2><a class="toc-backref" href="#id16">Links</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.gnome.org/Projects/GtkSourceView">GtkSourceView</a></p></li>
<li><p><a class="reference external" href="https://developer.gnome.org/gtksourceview/stable/">GtkSourceView 3 Reference Manual</a></p></li>
<li><p><a class="reference external" href="https://wiki.gnome.org/Projects/GtkSourceView/StyleSchemes">GtkSourceView style schemes</a></p></li>
<li><p><a class="reference external" href="https://developer.gnome.org/gtk3/stable/TextWidget.html">Text Widget Overview</a></p></li>
<li><p><a class="reference external" href="http://python-gtk-3-tutorial.readthedocs.io/en/latest/textview.html">Multiline Text Editor-Tutorial</a></p></li>
<li><p><a class="reference external" href="http://meldmerge.org/">meld</a>, <a class="reference external" href="https://github.com/GNOME/meld">Repository auf GitHub</a></p></li>
</ul>
<!-- TEASER_END -->
</div>
<div class="section" id="listings">
<h2><a class="toc-backref" href="#id17">Listings</a></h2>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id18">Python</a></h3>
<p><a class="reference external" href="../../listings/22_editor_gtksv.py.html">22_editor_gtksv.py</a>  <a class="reference external" href="../../listings/22_editor_gtksv.py">(Source)</a></p>
<pre class="code python"><a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-1"></a><span class="ch">#!/usr/bin/env python</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-2"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-3"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-4"></a><span class="kn">import</span> <span class="nn">sys</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-5"></a><span class="kn">import</span> <span class="nn">os</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-6"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-7"></a><span class="kn">import</span> <span class="nn">gi</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-8"></a><span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s2">"Gtk"</span><span class="p">,</span> <span class="s2">"3.0"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-9"></a><span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s2">"GtkSource"</span><span class="p">,</span> <span class="s2">"3.0"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-10"></a><span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Gtk</span><span class="p">,</span> <span class="n">GtkSource</span><span class="p">,</span> <span class="n">Gio</span><span class="p">,</span> <span class="n">GObject</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-11"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-12"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-13"></a><span class="k">class</span> <span class="nc">Handler</span><span class="p">:</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-14"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-15"></a>    <span class="k">def</span> <span class="nf">on_stylechooserwidget_button_release_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-16"></a>        <span class="n">x</span><span class="o">.</span><span class="n">buffer</span><span class="o">.</span><span class="n">set_style_scheme</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_style_scheme</span><span class="p">())</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-17"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-18"></a>    <span class="k">def</span> <span class="nf">on_button1_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-19"></a>        <span class="n">x</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="s2">"22_editor_gtksv.py"</span><span class="p">,</span> <span class="s2">"python"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-20"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-21"></a>    <span class="k">def</span> <span class="nf">on_button2_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-22"></a>        <span class="n">x</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="s2">"22_editor_gtksv.glade"</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-23"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-24"></a>    <span class="k">def</span> <span class="nf">on_save_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-25"></a>        <span class="n">saver</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">FileSaver</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">sourcefile</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-26"></a>        <span class="n">saver</span><span class="o">.</span><span class="n">save_async</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-27"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-28"></a>    <span class="k">def</span> <span class="nf">on_saveas_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-29"></a>        <span class="n">saver</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">FileSaver</span><span class="o">.</span><span class="n">new_with_target</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">sourcefile</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">new_for_path</span><span class="p">(</span><span class="s2">"</span><span class="si">{}</span><span class="s2">.bak"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">file</span><span class="p">)))</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-30"></a>        <span class="n">saver</span><span class="o">.</span><span class="n">save_async</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-31"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-32"></a>    <span class="k">def</span> <span class="nf">on_search_entry_search_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-33"></a>        <span class="n">x</span><span class="o">.</span><span class="n">find_text</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-34"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-35"></a>    <span class="k">def</span> <span class="nf">on_search_entry_activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-36"></a>        <span class="n">x</span><span class="o">.</span><span class="n">find_text</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-37"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-38"></a><span class="k">class</span> <span class="nc">Editor</span><span class="p">:</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-39"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-40"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-41"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"org.application.test"</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">ApplicationFlags</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-42"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_app_activate</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-43"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-44"></a>    <span class="k">def</span> <span class="nf">on_app_activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-45"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">builder</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Builder</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-46"></a>        <span class="n">GObject</span><span class="o">.</span><span class="n">type_register</span><span class="p">(</span><span class="n">GtkSource</span><span class="o">.</span><span class="n">View</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-47"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">add_from_file</span><span class="p">(</span><span class="s2">"22_editor_gtksv.glade"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-48"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">connect_signals</span><span class="p">(</span><span class="n">Handler</span><span class="p">())</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-49"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-50"></a>        <span class="c1"># setup SourceView</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-51"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="s2">"sv"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-52"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-53"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sourcefile</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">File</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-54"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lang_manager</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">LanguageManager</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-55"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-56"></a>        <span class="c1"># setup settings for SourceView</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-57"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">SearchSettings</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-58"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="s2">"search_entry"</span><span class="p">)</span><span class="o">.</span><span class="n">bind_property</span><span class="p">(</span><span class="s2">"text"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">,</span> <span class="s2">"search-text"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-59"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">set_search_text</span><span class="p">(</span><span class="s2">"initial highlight"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-60"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">set_wrap_around</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-61"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">search_context</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">SearchContext</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-62"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-63"></a>        <span class="n">window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="s2">"app_window"</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-64"></a>        <span class="n">window</span><span class="o">.</span><span class="n">set_application</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-65"></a>        <span class="n">window</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-66"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-67"></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argv</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-68"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-69"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-70"></a>    <span class="k">def</span> <span class="nf">load_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">lang</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-71"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">f</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-72"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sourcefile</span><span class="o">.</span><span class="n">set_location</span><span class="p">(</span><span class="n">Gio</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">new_for_path</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-73"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="o">.</span><span class="n">set_language</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lang_manager</span><span class="o">.</span><span class="n">get_language</span><span class="p">(</span><span class="n">lang</span><span class="p">))</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-74"></a>        <span class="n">loader</span> <span class="o">=</span> <span class="n">GtkSource</span><span class="o">.</span><span class="n">FileLoader</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sourcefile</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-75"></a>        <span class="n">loader</span><span class="o">.</span><span class="n">load_async</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-76"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-77"></a>    <span class="k">def</span> <span class="nf">find_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_offset</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-78"></a>        <span class="n">buf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-79"></a>        <span class="n">insert</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">get_iter_at_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_insert</span><span class="p">())</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-80"></a>        <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">get_bounds</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-81"></a>        <span class="n">insert</span><span class="o">.</span><span class="n">forward_chars</span><span class="p">(</span><span class="n">start_offset</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-82"></a>        <span class="n">match</span><span class="p">,</span> <span class="n">start_iter</span><span class="p">,</span> <span class="n">end_iter</span><span class="p">,</span> <span class="n">wrapped</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_context</span><span class="o">.</span><span class="n">forward2</span><span class="p">(</span><span class="n">insert</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-83"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-84"></a>        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-85"></a>            <span class="n">buf</span><span class="o">.</span><span class="n">place_cursor</span><span class="p">(</span><span class="n">start_iter</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-86"></a>            <span class="n">buf</span><span class="o">.</span><span class="n">move_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_selection_bound</span><span class="p">(),</span> <span class="n">end_iter</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-87"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">scroll_to_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_insert</span><span class="p">(),</span> <span class="mf">0.25</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-88"></a>            <span class="k">return</span> <span class="kc">True</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-89"></a>        <span class="k">else</span><span class="p">:</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-90"></a>            <span class="n">buf</span><span class="o">.</span><span class="n">place_cursor</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_iter_at_mark</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">get_insert</span><span class="p">()))</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-91"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-92"></a>    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-93"></a>        <span class="n">Gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-94"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-95"></a>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-96"></a><span class="n">x</span> <span class="o">=</span> <span class="n">Editor</span><span class="p">()</span>
<a name="rest_code_9868eeac94be424e9f8b21a8d36e7a41-97"></a><span class="n">x</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id19">Glade</a></h3>
<p><a class="reference external" href="../../listings/22_editor_gtksv.glade.html">22_editor_gtksv.glade</a>  <a class="reference external" href="../../listings/22_editor_gtksv.glade">(Source)</a></p>
<pre class="code xml"><a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-1"></a><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-2"></a><span class="c">&lt;!-- Generated with glade 3.20.1 --&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-3"></a><span class="nt">&lt;interface&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-4"></a>  <span class="nt">&lt;requires</span> <span class="na">lib=</span><span class="s">"gtk+"</span> <span class="na">version=</span><span class="s">"3.20"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-5"></a>  <span class="nt">&lt;requires</span> <span class="na">lib=</span><span class="s">"gtksourceview"</span> <span class="na">version=</span><span class="s">"3.0"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-6"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkApplicationWindow"</span> <span class="na">id=</span><span class="s">"app_window"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-7"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"width_request"</span><span class="nt">&gt;</span>600<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-8"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"height_request"</span><span class="nt">&gt;</span>400<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-9"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-10"></a>    <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-11"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkBox"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-12"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-13"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-14"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"hexpand"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-15"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"vexpand"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-16"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-17"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkScrolledWindow"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-18"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"width_request"</span><span class="nt">&gt;</span>500<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-19"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-20"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-21"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"shadow_type"</span><span class="nt">&gt;</span>in<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-22"></a>            <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-23"></a>              <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkSourceView"</span> <span class="na">id=</span><span class="s">"sv"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-24"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"width_request"</span><span class="nt">&gt;</span>100<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-25"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"height_request"</span><span class="nt">&gt;</span>80<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-26"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-27"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-28"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"wrap_mode"</span><span class="nt">&gt;</span>word-char<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-29"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"left_margin"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-30"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"right_margin"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-31"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"monospace"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-32"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"show_line_numbers"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-33"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"tab_width"</span><span class="nt">&gt;</span>4<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-34"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"insert_spaces_instead_of_tabs"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-35"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"highlight_current_line"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-36"></a>              <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-37"></a>            <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-38"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-39"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-40"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-41"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-42"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>0<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-43"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-44"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-45"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-46"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkSourceMap"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-47"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-48"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-49"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"editable"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-50"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"left_margin"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-51"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"right_margin"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-52"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"monospace"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-53"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"view"</span><span class="nt">&gt;</span>sv<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-54"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-55"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-56"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-57"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-58"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-59"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-60"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-61"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-62"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkSourceStyleSchemeChooserWidget"</span> <span class="na">id=</span><span class="s">"stylechooserwidget"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-63"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-64"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-65"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"button-release-event"</span> <span class="na">handler=</span><span class="s">"on_stylechooserwidget_button_release_event"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-66"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-67"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-68"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-69"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-70"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-71"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-72"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-73"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-74"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-75"></a>    <span class="nt">&lt;child</span> <span class="na">type=</span><span class="s">"titlebar"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-76"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkHeaderBar"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-77"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-78"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-79"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"show_close_button"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-80"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-81"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"button1"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-82"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Python file<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-83"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-84"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-85"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-86"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_button1_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-87"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-88"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-89"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-90"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"button2"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-91"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Glade file<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-92"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-93"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-94"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-95"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_button2_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-96"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-97"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-98"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-99"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-100"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-101"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-102"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkSearchEntry"</span> <span class="na">id=</span><span class="s">"search_entry"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-103"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-104"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-105"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"primary_icon_name"</span><span class="nt">&gt;</span>edit-find-symbolic<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-106"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"primary_icon_activatable"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-107"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"primary_icon_sensitive"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-108"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"activate"</span> <span class="na">handler=</span><span class="s">"on_search_entry_activate"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-109"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"search-changed"</span> <span class="na">handler=</span><span class="s">"on_search_entry_search_changed"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-110"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-111"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-112"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>4<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-113"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-114"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-115"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-116"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"save"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-117"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Save<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-118"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-119"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-120"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-121"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_save_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-122"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-123"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-124"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"pack_type"</span><span class="nt">&gt;</span>end<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-125"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-126"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-127"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-128"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-129"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"saveas"</span><span class="nt">&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-130"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Save .bak<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-131"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-132"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-133"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-134"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_saveas_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-135"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-136"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-137"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"pack_type"</span><span class="nt">&gt;</span>end<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-138"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-139"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-140"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-141"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-142"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-143"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_5bc98b49d7df4c9f81a106ac9205ce49-144"></a><span class="nt">&lt;/interface&gt;</span>
</pre>
<br><a class="discuss-on-gplus" href="https://plus.google.com/105146352752269764996/posts/g7qQT8wi5bJ">Kommentare bei <i class="fa fa-google-plus"></i></a>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><p itemprop="keywords" class="tags">
            <span class="tag"><a class="p-category" href="../../categories/glade/" rel="tag">glade</a></span>
            <span class="tag"><a class="p-category" href="../../categories/python/" rel="tag">python</a></span>
      </p>

            <div class="pager hidden-print pagination">

            <span class="previous pagination-item older">
                <a href="../das-geheimnis-der-sphinx/" rel="prev" title="Das Geheimnis der Sphinx">
                Vorheriger Eintrag
                </a>
            </span>


            <span class="next pagination-item newer">
                <a href="../kettlebattle-generator/" rel="next" title="Neu: der Kettlebattle-Generator">
Nächster Eintrag
              </a>
            </span>

        </div>

    </nav></aside><section class="comments hidden-print"><h2>Kommentare</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="bahnfreikartoffelbrei",
            disqus_url="https://encarsia.github.io/posts/gtksv/",
        disqus_title="Texteditor mit GtkSourceView",
        disqus_identifier="cache/posts/texteditor-mit-gtksourceview.html",
        disqus_config = function () {
            this.language = "de";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="bahnfreikartoffelbrei";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    
    
                <script src="../../assets/js/all-nocdn.js" type="text/javascript"></script><!-- fancy dates --><script>
      moment.locale("de");
      fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
