<!DOCTYPE html>
<html prefix="
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Gute Absichten">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merge and Destroy · Merge and Destroy (old posts, page 2) </title>
<link href="../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700%7CAbril+Fatface">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS (de)" href="../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="rss.xml">
<link rel="canonical" href="https://encarsia.github.io/en/index-2.html">
<link rel="icon" href="../files/favicon.ico" sizes="48x48">
<link rel="prev" href="index-3.html" type="text/html">
<link rel="next" href="index-1.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body class="theme-custom">
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div class="hsidebar">
        <div class="container sidebar-sticky">
            
                <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../index.html" title="Home"><i class="fa fa-home"></i>Home</a>
            <a class="sidebar-nav-item" href="../posts/tutorial-reihe-glade" title="Tutorials"><i class="fa fa-lightbulb-o"></i>Tutorials</a>
            <a class="sidebar-nav-item" href="../projects/index.html" title="Projects"><i class="fa fa-wrench"></i>Projects</a>
            <a class="sidebar-nav-item" href="https://octodon.social/@encarsia" title="Mastodon"><i class="fa fa-mastodon"></i>Mastodon</a>
            <a class="sidebar-nav-item" href="https://pixelfed.social/encarsia" title="Pixelfed"><i class="fa fa-pixelfed"></i>Pixelfed</a>
            <a class="sidebar-nav-item" href="https://twitter.com/encarsia_" title="Twitter"><i class="fa fa-twitter"></i>Twitter</a>
            <a class="sidebar-nav-item" href="https://github.com/encarsia" title="GitHub"><i class="fa fa-github"></i>GitHub</a>
            <a class="sidebar-nav-item" href="../pages/gplus_the_end" title="Google+"><i class="fa fa-google-plus-official"></i>Google+</a>
            <a class="sidebar-nav-item" href="../categories/index.html" title="Tags"><i class="fa fa-tags"></i>Tags</a>
            <a class="sidebar-nav-item" href="../archive.html" title="Archive"><i class="fa fa-folder-open"></i>Archive</a>
            <a class="sidebar-nav-item" href="../rss.xml" title="RSS"><i class="fa fa-feed"></i>RSS</a>
    
    
    </nav><footer id="footer"><span class="copyright">
              
<hr>
Contents © 2021 <a href="mailto:An.Ke@bahnfreikartoffelbrei.de">Anke (encarsia)</a>
<br> 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Hybrid theme
<a rel="me" href="https://octodon.social/@encarsia"></a>

            </span>
            
            
        </footer>
</div>
    </div>
    <div class="content container" id="content">
    
<div class="post">
    <article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/non-fortschritte/" class="u-url">NoN: progress</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2017-01-08T22:18:52+01:00" title="2017-01-08 22:18">2017-01-08 22:18</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/non-fortschritte/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/non-fortschritte/#disqus_thread" data-disqus-identifier="cache/posts/non-fortschritte.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p><strong>Knights of Ni - progress</strong></p>
<p>As <a class="reference external" href="posts/neues-projekt-knights-of-ni/">said before</a> I am currently working on a GUI for <a class="reference external" href="https://getnikola.com">Nikola</a> doing some progress:</p>
<ul class="simple">
<li><p>removed titlebar, using headerbar instead</p></li>
<li><p>switch between multiple Nikola instances</p></li>
<li><p>bookmark local Nikola instances (only adding for now)</p></li>
<li><dl class="simple">
<dt>support for multilinual sites:</dt>
<dd><ul>
<li><p>display of configured languages</p></li>
<li><p>show existent translations in posts/pages tab</p></li>
<li><p>"Translation" tab: show files, generate new translation file for post/page (<em>this is somehow redundant to the posts/pages tab, I still think about it...</em>)</p></li>
</ul></dd>
</dl></li>
<li><p>if there is no title the "Title" column will show the slug or (if this does not exist neither) filename</p></li>
<li><p>some mor log messages to pretent important things happen</p></li>
</ul>
<a class="reference external image-reference" href="../images/non/non2.png"><img alt="/images/non/non2.thumbnail.png" src="../images/non/non2.thumbnail.png"></a>
</div>
    </div>
    </article><article class="post h-entry post-micro"><header><h1 class="post-title p-name"><a href="posts/artikelubersetzungen/" class="u-url">Translating articles</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2017-01-04T21:54:21+01:00" title="2017-01-04 21:54">2017-01-04 21:54</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/artikelubersetzungen/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/artikelubersetzungen/#disqus_thread" data-disqus-identifier="cache/posts/artikelubersetzungen.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>As soon as I figured out multilinguality in Nikola I will translate the tutorial series into English.</p>
<p>...</p>
<p>Well, that was kinda easy...(but I will need some time for translation and writing new stuff and improving the new project).</p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/youniversity-python-tricks/" class="u-url">YouNiversity: Python Tricks</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2017-01-04T20:51:38+01:00" title="2017-01-04 20:51">2017-01-04 20:51</time>
            
                |   <i class="fa fa-comment"></i>             <a href="posts/youniversity-python-tricks/#disqus_thread" data-disqus-identifier="cache/posts/youniversity-python-tricks.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Daniel Bader zeigt auf seinem YouTube-Kanal allerlei Nützliches zum Thema Python.</p>
<div class="youtube-video">
<iframe width="480" height="315" src="https://www.youtube-nocookie.com/embed/gllUwQnYVww?rel=0&amp;wmode=transparent" frameborder="0" allow="encrypted-media" allowfullscreen></iframe>
</div>
<p>Aktuell gibt es sein in Arbeit befindliches Buch <em>"Python Tricks. The Book"</em> gerade zum unschlagbaren Preis von 9 $ (+ 1,71 $ deutsche Umsatzsteuer): <a class="reference external" href="https://dbader.org/products/python-tricks-book/">Klick</a></p>
<p>Es bestehen keine persönlichen oder/und finanziellen Verbindungen.</p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/dialoge/" class="u-url">Dialogues</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2016-12-31T17:51:29+01:00" title="2016-12-31 17:51">2016-12-31 17:51</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/dialoge/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/dialoge/#disqus_thread" data-disqus-identifier="cache/posts/dialoge.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li>
<p><a class="reference internal" href="posts/dialoge/#glade" id="id3">Glade</a></p>
<ul>
<li><p><a class="reference internal" href="posts/dialoge/#aboutdialog" id="id4">AboutDialog</a></p></li>
<li><p><a class="reference internal" href="posts/dialoge/#messagedialog" id="id5">MessageDialog</a></p></li>
<li><p><a class="reference internal" href="posts/dialoge/#buttons-and-responses" id="id6">Buttons and responses</a></p></li>
<li><p><a class="reference internal" href="posts/dialoge/#reestablish-dialogues" id="id7">Reestablish dialogues</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/dialoge/#python" id="id8">Python</a></p>
<ul>
<li><p><a class="reference internal" href="posts/dialoge/#responses" id="id9">Responses</a></p></li>
<li><p><a class="reference internal" href="posts/dialoge/#delete-event" id="id10">Delete-event</a></p></li>
<li><p><a class="reference internal" href="posts/dialoge/#several-glade-files" id="id11">Several Glade files</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/dialoge/#listings" id="id12">Listings</a></p>
<ul>
<li><p><a class="reference internal" href="posts/dialoge/#id1" id="id13">Glade</a></p></li>
<li><p><a class="reference internal" href="posts/dialoge/#id2" id="id14">Python</a></p></li>
</ul>
</li>
</ul>
</div>
<p><strong>Handle dialogue windows</strong></p>
<p>Dialogues are complementary windows which are useful in interaction with the user, to show some relevant information or demand input. The <em>GtkDialog</em> class provides subclasses for common dialogue use cases like the <em>AboutDialog</em> and <em>MessageDialog</em> used in the example file. (<a class="reference external" href="posts/fcdialog/">FileChooserDialog article</a>).</p>
<a class="reference external image-reference" href="../images/13_dialoge.png"><img alt="/images/13_dialoge.thumbnail.png" src="../images/13_dialoge.thumbnail.png"></a>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/dialoge/#id3">Glade</a></h2>
<p>In the widget sidebar dialog widgets are integrated to the <em>"Toplevel</em>" section next to window widgets.</p>
<p>Dialogs are complementary windows to grab the user's focus. They can fixed to a superordinated window but at least be configured transient to a parent window via <em>General &gt; Window Attributes Transient For:"</em>.</p>
<div class="section" id="aboutdialog">
<h3><a class="toc-backref" href="posts/dialoge/#id4">AboutDialog</a></h3>
<p>The "About" dialog window in general gives information about the project, its version, license, participating programmers, translators etc. All this can be directly typed into Glade.</p>
</div>
<div class="section" id="messagedialog">
<h3><a class="toc-backref" href="posts/dialoge/#id5">MessageDialog</a></h3>
<p>The MessageDialog is a standard dialog to show information or call for input. It is configurated to be drawn without window decoration or showing up seperately in the taskbar. Furthermore there is the possibility to add standard buttons.</p>
</div>
<div class="section" id="buttons-and-responses">
<h3><a class="toc-backref" href="posts/dialoge/#id6">Buttons and responses</a></h3>
<p>Dialogs already own an intern <em>GtkButtonBox</em> to place any buttons in.</p>
<p>In constrast to regular windows the <em>clicked</em> signals of the buttons do not have to be assigned in these Buttonboxes (it's still possible to do so, of course). Instead in the <em>"General"</em> button properties you define a response answer (int) and assign the <em>response</em> signal of the <em>GtkDialog</em>.</p>
<p>Standard buttons available for example in MessageDialogs have a fixed response (see also <a class="reference external" href="https://lazka.github.io/pgi-docs/#Gtk-3.0/enums.html#Gtk.ResponseType">Python GI API Reference</a>):</p>
<blockquote>
<ul class="simple">
<li><p><strong>Ok</strong> -5</p></li>
<li><p><strong>Abort</strong> -6</p></li>
<li><p><strong>Close</strong> -7</p></li>
<li><p><strong>Yes</strong> -8</p></li>
<li><p><strong>No</strong> -9</p></li>
<li><p><strong>[X]</strong> -4</p></li>
</ul>
</blockquote>
<p>The huge advantage of that procedure is that the response refers to the dialog object so the responses can be processed by a single function.</p>
</div>
<div class="section" id="reestablish-dialogues">
<h3><a class="toc-backref" href="posts/dialoge/#id7">Reestablish dialogues</a></h3>
<p>The problem of windows closed via <em>destroy</em> signal is that they cannot be reactivated therefore the <em>delete-event</em> signal is used here.</p>
</div>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/dialoge/#id8">Python</a></h2>
<div class="section" id="responses">
<h3><a class="toc-backref" href="posts/dialoge/#id9">Responses</a></h3>
<p>When emitting the <em>response</em> signal the response is passed as parameter. As said before this offers the option to process all responses in one function:</p>
<pre class="code python"><a name="rest_code_569635e4d0714428b01619e8efd207e2-1"></a><span class="k">def</span> <span class="nf">on_dialog_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">response</span><span class="p">):</span>
<a name="rest_code_569635e4d0714428b01619e8efd207e2-2"></a>    <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a name="rest_code_569635e4d0714428b01619e8efd207e2-3"></a>        <span class="n">widget</span><span class="o">.</span><span class="n">hide_on_delete</span><span class="p">()</span>
<a name="rest_code_569635e4d0714428b01619e8efd207e2-4"></a>    <span class="k">elif</span> <span class="n">response</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a name="rest_code_569635e4d0714428b01619e8efd207e2-5"></a>        <span class="n">do</span><span class="o">.</span><span class="n">something</span><span class="p">()</span>
<a name="rest_code_569635e4d0714428b01619e8efd207e2-6"></a>    <span class="k">elif</span> <span class="n">response</span> <span class="o">==</span> <span class="p">(</span><span class="mi">2</span> <span class="ow">or</span> <span class="mi">3</span><span class="p">):</span>
<a name="rest_code_569635e4d0714428b01619e8efd207e2-7"></a>        <span class="n">do</span><span class="o">.</span><span class="n">something</span><span class="o">.</span><span class="n">different</span><span class="p">()</span>
</pre>
</div>
<div class="section" id="delete-event">
<h3><a class="toc-backref" href="posts/dialoge/#id10">Delete-event</a></h3>
<p>The <code class="docutils literal">hide_on_delete()</code> function removes a window but can be reestablished by <code class="docutils literal">show_all()</code>:</p>
<pre class="code python"><a name="rest_code_56d609f7d4674063baaf53871a6ff7be-1"></a><span class="k">def</span> <span class="nf">on_dialog_delete_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
<a name="rest_code_56d609f7d4674063baaf53871a6ff7be-2"></a>    <span class="n">widget</span><span class="o">.</span><span class="n">hide_on_delete</span><span class="p">()</span>
<a name="rest_code_56d609f7d4674063baaf53871a6ff7be-3"></a>    <span class="k">return</span> <span class="kc">True</span>
</pre>
</div>
<div class="section" id="several-glade-files">
<h3><a class="toc-backref" href="posts/dialoge/#id11">Several Glade files</a></h3>
<p>As <a class="reference external" href="posts/fenster-mit-aussicht/">mentioned before</a> several Glade files can be used within a project. It is not possible though to associate dialogs with their parent window if separated into different files. So the <code class="docutils literal">set_transient_for</code> function of <em>GtkWindow</em> is required:</p>
<pre class="code python"><a name="rest_code_c13867d0e8ac452f8301c4480abbddd7-1"></a><span class="n">dialog</span><span class="o">.</span><span class="n">set_transient_for</span><span class="p">(</span><span class="n">mainwindow</span><span class="p">)</span>
</pre>
<p class="more"><a href="posts/dialoge/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/ansichtssache/" class="u-url">Data view</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2016-12-22T00:02:20+01:00" title="2016-12-22 00:02">2016-12-22 00:02</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/ansichtssache/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/ansichtssache/#disqus_thread" data-disqus-identifier="cache/posts/ansichtssache.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="posts/ansichtssache/#treestore-vs-liststore" id="id5">TreeStore vs. ListStore</a></p></li>
<li>
<p><a class="reference internal" href="posts/ansichtssache/#glade" id="id6">Glade</a></p>
<ul>
<li><p><a class="reference internal" href="posts/ansichtssache/#treemodelsort" id="id7">TreeModelSort</a></p></li>
<li><p><a class="reference internal" href="posts/ansichtssache/#treemodelfilter" id="id8">TreeModelFilter</a></p></li>
<li><p><a class="reference internal" href="posts/ansichtssache/#load-formatting-values-from-the-model" id="id9">Load formatting values from the model</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/ansichtssache/#python" id="id10">Python</a></p>
<ul>
<li><p><a class="reference internal" href="posts/ansichtssache/#id1" id="id11">TreeModelSort</a></p></li>
<li><p><a class="reference internal" href="posts/ansichtssache/#id2" id="id12">TreeModelFilter</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/ansichtssache/#listings" id="id13">Listings</a></p>
<ul>
<li><p><a class="reference internal" href="posts/ansichtssache/#id3" id="id14">Glade</a></p></li>
<li><p><a class="reference internal" href="posts/ansichtssache/#id4" id="id15">Python</a></p></li>
</ul>
</li>
</ul>
</div>
<p><strong>Display TreeStore data</strong></p>
<p>(Continuation of the <a class="reference external" href="posts/uberlistet/">ListStore article</a>)</p>
<a class="reference external image-reference" href="../images/12_treestore.png"><img alt="/images/12_treestore.thumbnail.png" src="../images/12_treestore.thumbnail.png" style="width: 480px;"></a>
<div class="section" id="treestore-vs-liststore">
<h2><a class="toc-backref" href="posts/ansichtssache/#id5">TreeStore vs. ListStore</a></h2>
<p>In contrast to ListStores TreeStore rows can possess child rows. That's why the <code class="docutils literal">append</code> function requires another parameter that specifies the parent row reference:</p>
<pre class="code python"><a name="rest_code_027c132dac064dca99eb099238e469d2-1"></a><span class="c1">#append row to liststore</span>
<a name="rest_code_027c132dac064dca99eb099238e469d2-2"></a><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">value1</span><span class="p">,</span><span class="n">value2</span><span class="p">,</span><span class="n">value3</span><span class="p">])</span>
<a name="rest_code_027c132dac064dca99eb099238e469d2-3"></a>
<a name="rest_code_027c132dac064dca99eb099238e469d2-4"></a><span class="c1">#append row to treestore</span>
<a name="rest_code_027c132dac064dca99eb099238e469d2-5"></a><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent</span><span class="p">,[</span><span class="n">value1</span><span class="p">,</span><span class="n">value2</span><span class="p">,</span><span class="n">value3</span><span class="p">])</span>
</pre>
<p>The <em>parent</em> value is either</p>
<ul class="simple">
<li><p><strong>None</strong> if the current row is not a child row of another, or</p></li>
<li><p><strong>TreeIter</strong> pointing to the superordinate row.</p></li>
</ul>
<p>The <em>TreeIter</em> value is generated when creating a row, subordinate rows are created by</p>
<pre class="code python"><a name="rest_code_d69644b2447c4037a42883baa3640bc2-1"></a><span class="n">row1</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">,[</span><span class="n">value1</span><span class="p">,</span><span class="n">value2</span><span class="p">,</span><span class="n">value3</span><span class="p">])</span>
<a name="rest_code_d69644b2447c4037a42883baa3640bc2-2"></a><span class="n">row2</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row1</span><span class="p">,[</span><span class="n">value1</span><span class="p">,</span><span class="n">value2</span><span class="p">,</span><span class="n">value3</span><span class="p">])</span>
</pre>
<p>The TreeIter of a cell is obtained by calling the <code class="docutils literal">get_selection</code> function of the automatically generated <em>GtkTreeSelection</em> widget.</p>
</div>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/ansichtssache/#id6">Glade</a></h2>
<p>In the example there are two TreeStores with some columns and the coresponding TreeView widgets to display the data columns.</p>
<div class="section" id="treemodelsort">
<h3><a class="toc-backref" href="posts/ansichtssache/#id7">TreeModelSort</a></h3>
<p>Sorting a column is set by calling <code class="docutils literal">set_sort_column_id</code>. If this is applied to the TreeStore all TreeView widgets using this store are equally sorted.</p>
<p>If this behaviour is not diesired <em>TreeModelSort</em> elements come into play and which are "interposed" between store and view widgets. First the TreeModelSort is created via <em>"Miscellaneous &gt; Tree Model Sort"</em> from the widget sidebar. Then you choose a source TreeView to use data from. After that the model in the TreeView widget is replaced by the newly created TreeModelSort.</p>
<p>The sort function is now simply applied to the TreeModelSort object instead to the TreeView object.</p>
</div>
<div class="section" id="treemodelfilter">
<h3><a class="toc-backref" href="posts/ansichtssache/#id8">TreeModelFilter</a></h3>
<p><em>TreeModelFilter</em> allows to only show data that matches the specified filter criteria. Handling this object is analogue to TreeModelSort.</p>
<p>In the example the varieties can be filtered according to fruit colour so there is a <em>GtkButtonBox</em> required to put the corresponding buttons into.</p>
</div>
<div class="section" id="load-formatting-values-from-the-model">
<h3><a class="toc-backref" href="posts/ansichtssache/#id9">Load formatting values from the model</a></h3>
<p>Besides the columns containing displayed data there is a "weight" column in the first TreeStore. This value is used to show the cell in bold text. It is realized by setting the CellRenderer's property of <em>"Font weight"</em> to the column containing the corresponding value (normal font is 400). In this way the appearance of cells can be defined, for example colours or font formating.</p>
</div>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/ansichtssache/#id10">Python</a></h2>
<div class="section" id="id1">
<h3><a class="toc-backref" href="posts/ansichtssache/#id11">TreeModelSort</a></h3>
<p>Requesting a position by calling <code class="docutils literal">GtkTreeSelection.get_selected()</code> returns a tuple (model, pos), <em>pos</em> of <em>model</em> points to TreeModelSort (or TreeModelFilter) and requires conversion to the TreeStore position:</p>
<pre class="code python"><a name="rest_code_9c427ab53fd340ca8156cc83cdcfac1d-1"></a><span class="n">model</span><span class="p">,</span><span class="n">pos</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">get_selected</span><span class="p">()</span>
<a name="rest_code_9c427ab53fd340ca8156cc83cdcfac1d-2"></a><span class="n">converted_iter</span> <span class="o">=</span> <span class="n">treesort</span><span class="o">.</span><span class="n">convert_iter_to_child_iter</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
<a name="rest_code_9c427ab53fd340ca8156cc83cdcfac1d-3"></a><span class="n">store</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">converted_iter</span><span class="p">,</span><span class="n">column</span><span class="p">,</span><span class="n">value</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="posts/ansichtssache/#id12">TreeModelFilter</a></h3>
<p>First of all a filter function is required defining the visibility of cells, in the example it's the variable <em>self.color</em>:</p>
<pre class="code python"><a name="rest_code_1726d5cb4ba34ceabe0d7cfd1cb7a1d9-1"></a><span class="k">def</span> <span class="nf">color_filter_func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">model</span><span class="p">,</span><span class="nb">iter</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
<a name="rest_code_1726d5cb4ba34ceabe0d7cfd1cb7a1d9-2"></a>    <span class="k">if</span> <span class="n">model</span><span class="p">[</span><span class="nb">iter</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">:</span>
<a name="rest_code_1726d5cb4ba34ceabe0d7cfd1cb7a1d9-3"></a>        <span class="k">return</span> <span class="kc">True</span>
<a name="rest_code_1726d5cb4ba34ceabe0d7cfd1cb7a1d9-4"></a>    <span class="k">else</span><span class="p">:</span>
<a name="rest_code_1726d5cb4ba34ceabe0d7cfd1cb7a1d9-5"></a>        <span class="k">return</span> <span class="kc">False</span>
</pre>
<p>This function has to be assigned to TreeFilter</p>
<pre class="code python"><a name="rest_code_b122061f3ad24ead84118630f18d886a-1"></a><span class="n">treefilter</span><span class="o">.</span><span class="n">set_visible_func</span><span class="p">(</span><span class="n">filter_func</span><span class="p">)</span>
</pre>
<p>A filter process is then executed by calling the <code class="docutils literal">refilter()</code> function on the TreeFilter object:</p>
<pre class="code python"><a name="rest_code_ad63a00c86124915b22e7bc7542512f2-1"></a><span class="k">def</span> <span class="nf">on_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_ad63a00c86124915b22e7bc7542512f2-2"></a>    <span class="n">x</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span>
<a name="rest_code_ad63a00c86124915b22e7bc7542512f2-3"></a>    <span class="n">x</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"treefilter"</span><span class="p">)</span><span class="o">.</span><span class="n">refilter</span><span class="p">()</span>
</pre>
<p class="more"><a href="posts/ansichtssache/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/neues-projekt-knights-of-ni/" class="u-url">New project: Knights of Ni</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2016-12-11T17:57:35+01:00" title="2016-12-11 17:57">2016-12-11 17:57</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/neues-projekt-knights-of-ni/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/neues-projekt-knights-of-ni/#disqus_thread" data-disqus-identifier="cache/posts/neues-projekt-knights-of-ni.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p><strong>Knights of Ni - small managing tool for the static website generator Nikola</strong></p>
<a class="reference external image-reference" href="../images/non/non_window.png"><img alt="/images/non/non_window.thumbnail.png" src="../images/non/non_window.thumbnail.png"></a>
<p>New little project made of Glade and Python on GitHub: <a class="reference external" href="https://github.com/encarsia/non">Knights of Ni</a>.</p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/exterminate/" class="u-url">Exterminate!</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2016-11-30T15:48:06+01:00" title="2016-11-30 15:48">2016-11-30 15:48</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/exterminate/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/exterminate/#disqus_thread" data-disqus-identifier="cache/posts/exterminate.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="posts/exterminate/#glade" id="id3">Glade</a></p></li>
<li><p><a class="reference internal" href="posts/exterminate/#python" id="id4">Python</a></p></li>
<li>
<p><a class="reference internal" href="posts/exterminate/#listings" id="id5">Listings</a></p>
<ul>
<li><p><a class="reference internal" href="posts/exterminate/#id1" id="id6">Glade</a></p></li>
<li><p><a class="reference internal" href="posts/exterminate/#id2" id="id7">Python</a></p></li>
</ul>
</li>
</ul>
</div>
<p><strong>The VTE terminal widget</strong></p>
<a class="reference external image-reference" href="../images/11_terminal.png"><img alt="/images/11_terminal.thumbnail.png" src="../images/11_terminal.thumbnail.png"></a>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/exterminate/#id3">Glade</a></h2>
<p>The widget can be found in the lower part of the widget side bar and provides a complete terminal emulator. To close the window on the <code class="docutils literal">exit</code> command the <em>child-exited</em> signal has to be assigned.</p>
<p>A button click shall open a Python prompt within the terminal window, so we need the familiar <em>clicked</em> signal.</p>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/exterminate/#id4">Python</a></h2>
<p>Elements used in Glade that are not part of the <em>Gtk</em> module have to be registered as a <em>GObject</em> object (this is also required when using a <em>GtkSourceView</em> widget as the functionality is provided by the <em>GtkSource</em> module):</p>
<pre class="code python"><a name="rest_code_532f84011b5c451bba77406dd264374e-1"></a><span class="n">GObject</span><span class="o">.</span><span class="n">type_register</span><span class="p">(</span><span class="n">Vte</span><span class="o">.</span><span class="n">Terminal</span><span class="p">)</span>
</pre>
<p>The terminal emulator is initiated by calling <code class="docutils literal">spawn_sync</code> expecting 7 parameters. Detailed information on the parameters are available in the <a class="reference external" href="https://lazka.github.io/pgi-docs/#Vte-2.91/classes/Terminal.html#Vte.Terminal.spawn_sync">documentation</a> but for a common start a lot of defaults and Nones will do:</p>
<pre class="code python"><a name="rest_code_5e49d65a27754a90b962d0046aebccf2-1"></a><span class="n">terminal</span><span class="o">.</span><span class="n">spawn_sync</span><span class="p">(</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-2"></a>        <span class="n">Vte</span><span class="o">.</span><span class="n">PtyFlags</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-3"></a>        <span class="kc">None</span><span class="p">,</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-4"></a>        <span class="p">[</span><span class="s2">"/bin/bash"</span><span class="p">],</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-5"></a>        <span class="kc">None</span><span class="p">,</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-6"></a>        <span class="n">GLib</span><span class="o">.</span><span class="n">SpawnFlags</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-7"></a>        <span class="kc">None</span><span class="p">,</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-8"></a>        <span class="kc">None</span><span class="p">,</span>
<a name="rest_code_5e49d65a27754a90b962d0046aebccf2-9"></a>        <span class="p">)</span>
</pre>
<p>The <code class="docutils literal">feed_child</code> function must be called to send a command to the console. The expected parameters are the string including a newline and the length of the string:</p>
<pre class="code python"><a name="rest_code_0c7075efab3545c28720d0f610f53451-1"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">"python</span><span class="se">\n</span><span class="s2">"</span>
<a name="rest_code_0c7075efab3545c28720d0f610f53451-2"></a><span class="n">x</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">feed_child</span><span class="p">(</span><span class="n">command</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">command</span><span class="p">))</span>
</pre>
<p class="more"><a href="posts/exterminate/">Read more…</a></p>
</div>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/youniversity-transforming-python-code/" class="u-url">YouNiversity: Transforming Code into Beautiful, Idiomatic Python</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2016-11-29T12:30:03+01:00" title="2016-11-29 12:30">2016-11-29 12:30</time>
            
                |   <i class="fa fa-comment"></i>             <a href="posts/youniversity-transforming-python-code/#disqus_thread" data-disqus-identifier="cache/posts/youniversity-transforming-code-into-beautiful-idiomatic-python.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div class="youtube-video">
<iframe width="480" height="315" src="https://www.youtube-nocookie.com/embed/OSGv2VnC0go?rel=0&amp;wmode=transparent" frameborder="0" allow="encrypted-media" allowfullscreen></iframe>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/romani-ite-domum/" class="u-url">Romani ite domum</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2016-11-28T14:50:22+01:00" title="2016-11-28 14:50">2016-11-28 14:50</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/romani-ite-domum/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/romani-ite-domum/#disqus_thread" data-disqus-identifier="cache/posts/romani-ite-domum.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="posts/romani-ite-domum/#glade" id="id4">Glade</a></p></li>
<li>
<p><a class="reference internal" href="posts/romani-ite-domum/#python" id="id5">Python</a></p>
<ul>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#translatable-strings" id="id6">Translatable strings</a></p></li>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#configure-bind-textdomain" id="id7">configure (bind)textdomain</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/romani-ite-domum/#gettext" id="id8">GetText</a></p>
<ul>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#pot" id="id9">POT</a></p></li>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#po" id="id10">PO</a></p></li>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#mo" id="id11">MO</a></p></li>
<li>
<p><a class="reference internal" href="posts/romani-ite-domum/#tipps" id="id12">Tipps</a></p>
<ul>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#xgettext-options" id="id13">xgettext options</a></p></li>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#remove-obsolete-strings" id="id14">Remove obsolete strings</a></p></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/romani-ite-domum/#listings" id="id15">Listings</a></p>
<ul>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#id1" id="id16">Glade</a></p></li>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#id2" id="id17">Python</a></p></li>
<li><p><a class="reference internal" href="posts/romani-ite-domum/#id3" id="id18">POT</a></p></li>
</ul>
</li>
</ul>
</div>
<p><strong>Localization with gettext and locale</strong></p>
<a class="reference external image-reference" href="../images/10_lokalisation.png"><img alt="/images/10_lokalisation.thumbnail.png" src="../images/10_lokalisation.thumbnail.png"></a>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/romani-ite-domum/#id4">Glade</a></h2>
<p>Strings in widgets are by default configurated as translatable so there are no preparations required. GetText directly provercesses Glade project files.</p>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/romani-ite-domum/#id5">Python</a></h2>
<div class="section" id="translatable-strings">
<h3><a class="toc-backref" href="posts/romani-ite-domum/#id6">Translatable strings</a></h3>
<p>Approved translatable strings are recognized by <code class="docutils literal">xgettext</code> by brackets with a leading underscore:</p>
<pre class="code python"><a name="rest_code_0048e070398b4d00a45d73891bc143b9-1"></a><span class="n">_</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">gettext</span>
<a name="rest_code_0048e070398b4d00a45d73891bc143b9-2"></a><span class="n">translatable_string</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">"translate me"</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="configure-bind-textdomain">
<h3><a class="toc-backref" href="posts/romani-ite-domum/#id7">configure (bind)textdomain</a></h3>
<p>Now name and location of the MO files have to be configured in the source code:</p>
<pre class="code python"><a name="rest_code_9e5672c483294b84a98314e68af79816-1"></a><span class="n">locale</span><span class="o">.</span><span class="n">bindtextdomain</span><span class="p">(</span><span class="n">appname</span><span class="p">,</span><span class="n">locales_dir</span><span class="p">)</span>
<a name="rest_code_9e5672c483294b84a98314e68af79816-2"></a><span class="n">locale</span><span class="o">.</span><span class="n">textdomain</span><span class="p">(</span><span class="n">locales_dir</span><span class="p">)</span>
<a name="rest_code_9e5672c483294b84a98314e68af79816-3"></a><span class="n">gettext</span><span class="o">.</span><span class="n">bindtextdomain</span><span class="p">(</span><span class="n">appname</span><span class="p">,</span><span class="n">locales_dir</span><span class="p">)</span>
<a name="rest_code_9e5672c483294b84a98314e68af79816-4"></a><span class="n">gettext</span><span class="o">.</span><span class="n">textdomain</span><span class="p">(</span><span class="n">appname</span><span class="p">)</span>
<a name="rest_code_9e5672c483294b84a98314e68af79816-5"></a><span class="n">builder</span><span class="o">.</span><span class="n">set_translation_domain</span><span class="p">(</span><span class="n">appname</span><span class="p">)</span>
</pre>
<p><code class="docutils literal">set_translation_domain</code> has to be called before loading Glade files.</p>
</div>
</div>
<div class="section" id="gettext">
<h2><a class="toc-backref" href="posts/romani-ite-domum/#id8">GetText</a></h2>
<div class="section" id="pot">
<h3><a class="toc-backref" href="posts/romani-ite-domum/#id9">POT</a></h3>
<p>POT is the abbrevation for Portable Object Template. This file contains all original translatable strings. After generating an empty POT file, <code class="docutils literal">xgettext</code> is executed for all source files containing translatable strings:</p>
<pre class="code console"><a name="rest_code_fb3b65b4433446f0815173199a862790-1"></a><span class="gp">$ </span>xgettext --options -o output.pot sourcefile.ext
</pre>
<p>The identified strings are added to the POT file.</p>
<pre class="code console"><a name="rest_code_f51c36241c754030a13b4b6d9c773ab4-1"></a><span class="gp">#</span>: sourcefile.ext:line number
<a name="rest_code_f51c36241c754030a13b4b6d9c773ab4-2"></a><span class="go">msgid "translatable string"</span>
<a name="rest_code_f51c36241c754030a13b4b6d9c773ab4-3"></a><span class="go">msgstr ""</span>
</pre>
<p>The file number reference comment can be avoided by passting the option <code class="docutils literal"><span class="pre">--no-location</span></code>.</p>
<p>In this article's example it is required to run xgettext once for the Glade file and once for the Python source code; the <code class="docutils literal"><span class="pre">-j</span></code> (<code class="docutils literal"><span class="pre">--join-existing</span></code>) option adds new found strings to an existing file:</p>
<pre class="code console"><a name="rest_code_77f8efd6a93040279ebece2b57456100-1"></a><span class="gp">$ </span>xgettext --sort-output --keyword<span class="o">=</span>translatable --language<span class="o">=</span>Glade -j -o 10_localization/TUT.pot 10_lokalisation.glade
<a name="rest_code_77f8efd6a93040279ebece2b57456100-2"></a><span class="gp">$ </span>xgettext --language<span class="o">=</span>Python -j -o 10_localization/TUT.pot 10_lokalisation.py
</pre>
</div>
<div class="section" id="po">
<h3><a class="toc-backref" href="posts/romani-ite-domum/#id10">PO</a></h3>
<p>Translated strings are stored in a PO file per language. A new translation ist invoked by</p>
<pre class="code console"><a name="rest_code_08d5dbd4bd8d42ad829b63579b56e052-1"></a><span class="gp">$ </span>msginit --input<span class="o">=</span>source.pot --locale<span class="o">=</span>xx
<a name="rest_code_08d5dbd4bd8d42ad829b63579b56e052-2"></a><span class="gp"># </span><span class="nv">xx</span><span class="o">=</span>language code
</pre>
<p>that generates a file after the pattern xx.po (p.e. de.po). This file can be edited in any text editor or dedicated tools such like <a class="reference external" href="https://poedit.net/">PoEdit</a>. A German localization for example is created by the command</p>
<pre class="code console"><a name="rest_code_86f98b49425546deb8176070e9837e31-1"></a><span class="gp">$ </span>msginit --input<span class="o">=</span>TUT.pot --locale<span class="o">=</span>de
</pre>
<p>If the POT file is altered the PO files are updated with the new strings by executing <code class="docutils literal">msgmerge</code>:</p>
<pre class="code console"><a name="rest_code_8f3cbfece44040509ae605e82407875b-1"></a><span class="gp">$ </span>msgmerge lang.po template.pot &gt; new_lang.po
</pre>
</div>
<div class="section" id="mo">
<h3><a class="toc-backref" href="posts/romani-ite-domum/#id11">MO</a></h3>
<p>MO files are (machine readable) binary files and mandatory for gettext to work. Localization files are located below the <em>bindtextdomain</em> following the file structure <code class="docutils literal"><span class="pre">path/to/bindtextdomain)/locale/language</span> code/LC_MESSAGES/appname.po</code>.</p>
<p>In the example the bindtextdomain is created in the local directory, the generated <cite>de.po</cite> translation text file then transformed into the  corresponding MO file:</p>
<pre class="code console"><a name="rest_code_d33a59649d86489a84ddac76e92e52ee-1"></a><span class="gp">$ </span>msgfmt --output locale/de/LC_MESSAGES/TUT.mo de.po
</pre>
</div>
<div class="section" id="tipps">
<h3><a class="toc-backref" href="posts/romani-ite-domum/#id12">Tipps</a></h3>
<div class="section" id="xgettext-options">
<h4><a class="toc-backref" href="posts/romani-ite-domum/#id13">xgettext options</a></h4>
<dl class="simple">
<dt><code class="docutils literal"><span class="pre">--no-location</span></code></dt>
<dd>
<p>Oppress writing line number(s) and file name as comment</p>
</dd>
<dt><code class="docutils literal"><span class="pre">--omit-header</span></code></dt>
<dd>
<p>Avoid overwriting header information</p>
</dd>
</dl>
</div>
<div class="section" id="remove-obsolete-strings">
<h4><a class="toc-backref" href="posts/romani-ite-domum/#id14">Remove obsolete strings</a></h4>
<p>Strings that are removed from the template remain in the translation files. You can get rid of these by executing this command:</p>
<pre class="code bash"><a name="rest_code_7959b83c366b4f98a192d4c3a7ac01c2-1"></a>$ msgattrib --set-obsolete --ignore-file<span class="o">=</span>PRJ.pot -o xx.po xx.po
</pre>
<p class="more"><a href="posts/romani-ite-domum/">Read more…</a></p>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="posts/uberlistet/" class="u-url">ListStore</a></h1>
        <div class="metadata">
            <p class="dateline">
              <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2016-11-24T17:55:14+01:00" title="2016-11-24 17:55">2016-11-24 17:55</time>
                        |  
        <i class="fa fa-language"></i> Also available in: 
            <a href="../posts/uberlistet/" rel="alternate" hreflang="de">Deutsch</a> 

                |   <i class="fa fa-comment"></i>             <a href="posts/uberlistet/#disqus_thread" data-disqus-identifier="cache/posts/uberlistet.html">Comments</a>


            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li>
<p><a class="reference internal" href="posts/uberlistet/#glade" id="id4">Glade</a></p>
<ul>
<li><p><a class="reference internal" href="posts/uberlistet/#liststore" id="id5">ListStore</a></p></li>
<li><p><a class="reference internal" href="posts/uberlistet/#widgets" id="id6">Widgets</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/uberlistet/#python" id="id7">Python</a></p>
<ul>
<li><p><a class="reference internal" href="posts/uberlistet/#treestore" id="id8">TreeStore</a></p></li>
<li><p><a class="reference internal" href="posts/uberlistet/#combobox" id="id9">ComboBox</a></p></li>
<li><p><a class="reference internal" href="posts/uberlistet/#edit-cells" id="id10">Edit cells</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="posts/uberlistet/#listings" id="id11">Listings</a></p>
<ul>
<li><p><a class="reference internal" href="posts/uberlistet/#id2" id="id12">Glade</a></p></li>
<li><p><a class="reference internal" href="posts/uberlistet/#id3" id="id13">Python</a></p></li>
</ul>
</li>
</ul>
</div>
<p><strong>Store data sets in ListStores and use ComboBox and TreeView to display the data</strong></p>
<p>There are a bunch of elements required to store and display tables of data in GTK+ applications:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>The model to administrate data. There are two types:</dt>
<dd><ul class="simple">
<li><p><em>ListStore:</em> flat table, besides string and numerical values the rows also can be of GTK+ element type (like buttons or checkboxes), input of data sets in Glade possible</p></li>
<li><p><em>TreeStore:</em> just like ListStore but rows can possess child rows, input of data sets in Glade is not possible (see also <a class="reference external" href="posts/ansichtssache/">TreeStore article</a>)</p></li>
</ul></dd>
</dl></li>
<li><dl class="simple">
<dt>Widgets:</dt>
<dd><ul class="simple">
<li><p><em>TreeView:</em> show, sort and edit data; used by both store model types; a data store can be used my multiple TreeView widgets</p></li>
<li><p><em>ComboBox:</em> comboboxes are used to limit input to given list items, this list can be stored in a List/TreeStore (see also <a class="reference external" href="posts/qual-der-wahl/">spinbutton and combobox article</a>)</p></li>
<li><p><em>CellRenderers:</em> Subwidgets to specify source, layout and other properties (like being editable) of displayed data rows</p></li>
</ul></dd>
</dl></li>
</ol>
<a class="reference external image-reference" href="../images/09_treestore2.png"><img alt="/images/09_treestore2.thumbnail.png" src="../images/09_treestore2.thumbnail.png"></a>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/uberlistet/#id4">Glade</a></h2>
<div class="section" id="liststore">
<h3><a class="toc-backref" href="posts/uberlistet/#id5">ListStore</a></h3>
<p>In the example there is one ListStore created via <em>"Miscellaneous &gt; List Store"</em> which will be later used by three Widgets.</p>
<p>First there are some rows created. ListStore data sets can be inserted in Glade but this in practise is only convenient for typing in few data sets.</p>
<p>Content changes in the ListStore are simultaneously updated in the Widgets using the ListStore. For individual sorting of the same List/TreeStore it is needed to create <em>Gtk.TreeModelSort</em> elements (this element is used in the example of the <a class="reference external" href="posts/ansichtssache/">TreeStore article</a>).</p>
<a class="reference external image-reference" href="../images/09_treestore1.png"><img alt="/images/09_treestore1.thumbnail.png" src="../images/09_treestore1.thumbnail.png"></a>
</div>
<div class="section" id="widgets">
<h3><a class="toc-backref" href="posts/uberlistet/#id6">Widgets</a></h3>
<dl class="simple">
<dt>ComboBox</dt>
<dd>
<p>Creating the widget you are prompted to choose as "TreeView Model". In the edit mode accessible via <em>"Edit &gt; Hierarchy"</em> there is created a CellRendererText. In the first field ("Text") the column to load the items of the dropdown menu from is set. To process the selection you will need the <em>changed</em> signal.</p>
</dd>
<dt>TreeView #1</dt>
<dd>
<p>The first TreeView widget is placed within a <em>Gtk.ScrolledWindow</em> container. Like in a ComboBox there are created CellRenderers representing a column to show in the TreeView table. If the sort indicator is activated columns can be sorted on a column table click.
Columns do not have to be sorted according to the columns they show.</p>
</dd>
<dt>TreeView #2</dt>
<dd>
<p>The second TreeView widget is created within a <em>Gtk.ViewPort</em>.
This container widget does not provide scroll bars but the automatically adapts the necessary size to display the whole content. So for larger tables you will need the <em>Gtk.ScrolledWindow</em>.
The sort indicator is deactivated and the middle column ("Description") is made editible with the signal "edited" allocated.</p>
</dd>
<dt>Button</dt>
<dd>
<p>The button's function is appending a row to the ListStore, so the <em>clicked</em> signal is required.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/uberlistet/#id7">Python</a></h2>
<div class="section" id="treestore">
<h3><a class="toc-backref" href="posts/uberlistet/#id8">TreeStore</a></h3>
<p>The ListStore's row can be iterated over via <code class="docutils literal">for row in store</code>. New rows are added by <code class="docutils literal">append</code>, other options are <code class="docutils literal">insert</code> or <code class="docutils literal">remove</code> to add or delete rows at specific positions.</p>
</div>
<div class="section" id="combobox">
<h3><a class="toc-backref" href="posts/uberlistet/#id9">ComboBox</a></h3>
<p>For accessing a data row you need a <em>Gtk.TreeIter</em> object which points to the position in the model (this can also be achieved by a <em>Gtk.TreePath</em> object).</p>
<pre class="code python"><a name="rest_code_77293d1111254a978a81886d01880a47-1"></a><span class="nb">iter</span><span class="p">,</span><span class="n">model</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_active_iter</span><span class="p">(),</span><span class="n">widget</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
<a name="rest_code_77293d1111254a978a81886d01880a47-2"></a><span class="n">row</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="nb">iter</span><span class="p">]</span>
<a name="rest_code_77293d1111254a978a81886d01880a47-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">"Selection:"</span><span class="p">,</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre>
</div>
<div class="section" id="edit-cells">
<h3><a class="toc-backref" href="posts/uberlistet/#id10">Edit cells</a></h3>
<p>The <em>edited</em> signal passes the position and content of the edited cell. The new content of the <em>CellRendererText</em> has to explicitly be committed to the data store otherwise the content will return to the pre edit state. This can be accomplished by using the passed <em>TreePath</em> position.</p>
<pre class="code python"><a name="rest_code_c94fd9076d4f4e48b3dbd8f2d0e75dac-1"></a><span class="k">def</span> <span class="nf">on_cellrenderer_descr_edited</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">edit</span><span class="p">):</span>
<a name="rest_code_c94fd9076d4f4e48b3dbd8f2d0e75dac-2"></a>    <span class="n">x</span><span class="o">.</span><span class="n">store</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">pos</span><span class="p">)][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">edit</span>
</pre>
<p class="more"><a href="posts/uberlistet/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-3.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="bahnfreikartoffelbrei";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    
    
                <script src="../assets/js/all-nocdn.js" type="text/javascript"></script><!-- fancy dates --><script>
      moment.locale("en");
      fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
