<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Gute Absichten">
<meta name="viewport" content="width=device-width">
<title>Merge and Destroy (old posts, page 6) | Merge and Destroy</title>
<link href="//fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.0.11/css/fork-awesome.min.css" integrity="sha256-MGU/JUq/40CFrfxjXb5pZjpoZmxiP2KuICN5ElLFNd8=" crossorigin="anonymous">
<link href="../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (de)" href="../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="rss.xml">
<link rel="canonical" href="https://encarsia.github.io/en/index-6.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="../index.html" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../posts/tutorial-reihe-glade/index.html" title="Tutorials"><i class="fa fa-lightbulb-o"></i></a></li>
            <li><a href="https://plus.google.com/105146352752269764996/posts" title="Google+"><i class="fa fa-google-plus-official"></i></a></li>
            <li><a href="https://github.com/encarsia" title="Github"><i class="fa fa-github"></i></a></li>
            <li><a href="https://twitter.com/encarsia_" title="Twitter"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://octodon.social/@encarsia" title="Mastodon"><i class="fa fa-mastodon"></i></a></li>
            <li><a href="../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
            <li><a href="../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../pages/about/index.html" title="About me"><i class="fa fa-user"></i></a></li>
            <li><a href="../archive.html" title="Archives"><i class="fa fa-folder-open"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/nikola-everything-zen/">Nikola: everything zen</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2017-10-05T15:45:06+02:00">2017-10-05 15:45</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/nikola-everything-zen/#disqus_thread" data-disqus-identifier="cache/posts/nikola-everything-zen.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/nikola/" rel="tag">nikola</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p><strong>Aktualisiertes zen-Thema für Nikola</strong></p>
<p>Diese Seite wird mit dem statischen Webseitengenerator Nikola betrieben. Dabei wird das zen-Thema verwendet.</p>
<p>Die immer noch aktuelle Version des Themes verwendet Font Awesome 3.2.1, welches nicht mehr unterstützt wird. Die Icons lassen sich natürlich weiterhin verwenden, aber man muss auf aktualisierte und neue Icons verzichten.</p>
<p>Da ich dies sowie ein paar Kleinigkeiten am Theme verändert, aber an LESS vorbei einfach nur im CSS herumgepfuscht habe, werde ich dies nicht committen, sondern nur hier als gepacktes Archiv abladen (für den Fall, dass jemand Interesse daran hat).</p>
<div class="section" id="installation">
<h2>Installation</h2>
<p>Das Theme wird wie gehabt im entsprechenden Verzeichnis entpackt (<tt class="docutils literal">nikola_instanz/themes/</tt>) und anschließend in der <tt class="docutils literal">conf.py</tt> zu</p>
<pre class="code text"><a name="rest_code_6e39953ca79146dba01ed026c9e22880-1"></a>THEME = "zen_fa4"
</pre>
<p>geändert. Die Änderungen werden natürlich erst nach dem nächsten</p>
<pre class="code text"><a name="rest_code_19edec96ca7941d39f091238ca112fa9-1"></a>nikola build
</pre>
<p>wirksam.</p>
</div>
<div class="section" id="less-less-with-css">
<h2>Less LESS with CSS</h2>
<p>Die zen-Themes sind mit dem LESS-Framework erstellt. Der Vorteil daran ist, dass die LESS-Dateien in CSS-Dateien kompiliert werden, die dann ebenso editiert werden können.</p>
<p>Die CSS-Dateien befinden sich in <tt class="docutils literal"><span class="pre">.../themes/zen_fa4/assets/css/</span></tt>, im Fall des zen-Themes benötigt man nur die <tt class="docutils literal">main.css</tt>. Die aktualisierten Font Awesome-Fonts befinden sich (logischerweise) in <tt class="docutils literal"><span class="pre">.../themes/zen_fa4/assets/fonts/</span></tt>.</p>
<p>Möchte man bei LESS bleiben, steht dafür aber auch ein Nikola-Plugin bereit.</p>
</div>
<div class="section" id="links">
<h2>Links</h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="https://getnikola.com/">Nikola static site generator</a></li>
<li><a class="reference external" href="https://themes.getnikola.com/">Themes for Nikola</a></li>
<li><a class="reference external" href="https://themes.getnikola.com/v7/zen/">zen</a></li>
<li><a class="reference external" href="http://lesscss.org/">LESS stylesheet framework</a></li>
<li><a class="reference external" href="https://plugins.getnikola.com/v7/less/">LESS-Plugin für Nikola</a></li>
<li><a class="reference external" href="posts/nikola-zen-forkawesome">Theme mit Fork Awesome-Icons</a></li>
</ul>
</blockquote>
</div>
<div class="section" id="download">
<h2>Download</h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="../files/zen_fa4.zip">zen_fa4.zip (791 kB)</a></li>
</ul>
</blockquote>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/vlc-player/">Media player with VLC</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2017-09-22T19:28:18+02:00">2017-09-22 19:28</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/vlc-player/#disqus_thread" data-disqus-identifier="cache/posts/mediaplayer-mit-vlc.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/glade/" rel="tag">glade</a></li>
           <li><a class="tag p-category" href="categories/python/" rel="tag">python</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="posts/vlc-player/#libvlc" id="id5">LibVLC</a></li>
<li><a class="reference internal" href="posts/vlc-player/#glade" id="id6">Glade</a></li>
<li>
<a class="reference internal" href="posts/vlc-player/#python" id="id7">Python</a><ul>
<li><a class="reference internal" href="posts/vlc-player/#set-up-player" id="id8">Set up player</a></li>
<li><a class="reference internal" href="posts/vlc-player/#media-playback" id="id9">Media playback</a></li>
<li><a class="reference internal" href="posts/vlc-player/#position-scale" id="id10">Position scale</a></li>
</ul>
</li>
<li><a class="reference internal" href="posts/vlc-player/#possibilities-and-limitations" id="id11">Possibilities and limitations</a></li>
<li><a class="reference internal" href="posts/vlc-player/#links" id="id12">Links</a></li>
<li>
<a class="reference internal" href="posts/vlc-player/#listings" id="id13">Listings</a><ul>
<li><a class="reference internal" href="posts/vlc-player/#id1" id="id14">Glade</a></li>
<li><a class="reference internal" href="posts/vlc-player/#id2" id="id15">Python</a></li>
<li><a class="reference internal" href="posts/vlc-player/#example-files" id="id16">Example files</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Creating a media player with LibVLC</strong></p>
<p>VLC is not just a multimedia player but also a framework  with Python bindings available. In this example app a simple media player will be set up via LibVLC (see also the <a class="reference external" href="posts/gst-player">GStreamer mediaplayer article</a>).</p>
<a class="reference external image-reference" href="../images/20_vlc_player.png"><img alt="/images/20_vlc_player.thumbnail.png" src="../images/20_vlc_player.thumbnail.png"></a>
<div class="section" id="libvlc">
<h2><a class="toc-backref" href="posts/vlc-player/#id5">LibVLC</a></h2>
<p>The installation of the VLC Python bindings are mandatory. The package is coomonly found under the name <tt class="docutils literal"><span class="pre">python-vlc</span></tt>.</p>
</div>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/vlc-player/#id6">Glade</a></h2>
<blockquote>
<ul class="simple">
<li>
<strong>display area of the media file:</strong> <em>Gtk.DrawingArea</em> widget</li>
<li>
<strong>control elements:</strong> skip for-/backward (<em>Gtk.Button</em>), pause/resume playback (<em>Gtk.Togglebutton</em>)</li>
<li>
<strong>select media:</strong> buttons to show video or image file</li>
<li>
<strong>manipulate playback:</strong> buttons to mute and rotate video</li>
</ul>
</blockquote>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/vlc-player/#id7">Python</a></h2>
<div class="section" id="set-up-player">
<h3><a class="toc-backref" href="posts/vlc-player/#id8">Set up player</a></h3>
<p>The VLC player is initiated when the corresponding widget (<em>Gtk.DrawingArea</em>) is drawn. The <tt class="docutils literal">realize</tt> is required for that task. This signal in general is available for the widget class.</p>
<pre class="code python"><a name="rest_code_601b7ebbc64e41278d3aa8a7af8e5944-1"></a><span class="n">vlcOptions</span> <span class="o">=</span> <span class="s2">"--no-xlib"</span>
<a name="rest_code_601b7ebbc64e41278d3aa8a7af8e5944-2"></a><span class="n">win_id</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_window</span><span class="p">()</span><span class="o">.</span><span class="n">get_xid</span><span class="p">()</span>
<a name="rest_code_601b7ebbc64e41278d3aa8a7af8e5944-3"></a><span class="n">setup_player</span><span class="p">(</span><span class="n">vlcOptions</span><span class="p">)</span>
<a name="rest_code_601b7ebbc64e41278d3aa8a7af8e5944-4"></a><span class="n">vlcInstance</span> <span class="o">=</span> <span class="n">vlc</span><span class="o">.</span><span class="n">Instance</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
<a name="rest_code_601b7ebbc64e41278d3aa8a7af8e5944-5"></a><span class="n">player</span> <span class="o">=</span> <span class="n">vlcInstance</span><span class="o">.</span><span class="n">media_player_new</span><span class="p">()</span>
<a name="rest_code_601b7ebbc64e41278d3aa8a7af8e5944-6"></a><span class="n">player</span><span class="o">.</span><span class="n">set_xwindow</span><span class="p">(</span><span class="n">win_id</span><span class="p">)</span>
</pre>
<p>Given options can be regular VLC commandline options. In the example app a click on the "rotate" button turns the video 180 degrees. Therefore the player must be initiated again with the option <tt class="docutils literal"><span class="pre">--video-filter=transform{type=180}</span></tt> given.</p>
</div>
<div class="section" id="media-playback">
<h3><a class="toc-backref" href="posts/vlc-player/#id9">Media playback</a></h3>
<p>Just like the GStreamer player VLC is capable of showing various video, audio and image formats.</p>
<pre class="code python"><a name="rest_code_691a164d0fcb466ca543721d3a431971-1"></a><span class="n">player</span><span class="o">.</span><span class="n">set_mrl</span><span class="p">(</span><span class="n">file_url</span><span class="p">)</span>
<a name="rest_code_691a164d0fcb466ca543721d3a431971-2"></a><span class="c1">#start playback</span>
<a name="rest_code_691a164d0fcb466ca543721d3a431971-3"></a><span class="n">player</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
<a name="rest_code_691a164d0fcb466ca543721d3a431971-4"></a><span class="c1">#pause/resume playback</span>
<a name="rest_code_691a164d0fcb466ca543721d3a431971-5"></a><span class="n">player</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
</pre>
</div>
<div class="section" id="position-scale">
<h3><a class="toc-backref" href="posts/vlc-player/#id10">Position scale</a></h3>
<p>The implementation of the progress bar using a slide control is pretty simple.</p>
<pre class="code python"><a name="rest_code_746653fef1284450a6399f7b4bfc7090-1"></a><span class="c1">#retrieve position</span>
<a name="rest_code_746653fef1284450a6399f7b4bfc7090-2"></a><span class="n">player</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
<a name="rest_code_746653fef1284450a6399f7b4bfc7090-3"></a><span class="c1">#define positition</span>
<a name="rest_code_746653fef1284450a6399f7b4bfc7090-4"></a><span class="n">player</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</pre>
<p>Possible values are float numbers between 0 and 1. These functions are quite resource demanding resulting into stuttering playback. In this example the <tt class="docutils literal">get_position</tt> is avoided by retrieving the slider position instead of the video.</p>
</div>
</div>
<div class="section" id="possibilities-and-limitations">
<h2><a class="toc-backref" href="posts/vlc-player/#id11">Possibilities and limitations</a></h2>
<p>Working with LibVLC Python bindings is easy and intuitive in contrast to GStreamer. In addition the <a class="reference external" href="https://plus.google.com/105146352752269764996/posts/jDcBAztBxM9">"headerbar problem"</a> is non-existent.</p>
<p>On the other hand it is not quite minimalistic to resort to a huge and indepentant project. You will have to install VLC and Python bindings instead of just importing the GStreamer module from the GObject Introspection repository.</p>
<p>The overall consumption of resources is bigger.</p>
</div>
<div class="section" id="links">
<h2><a class="toc-backref" href="posts/vlc-player/#id12">Links</a></h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="https://www.olivieraubert.net/vlc/python-ctypes/doc/">LibVLC Python bindings documentation</a></li>
<li><a class="reference external" href="https://www.codementor.io/princerapa/python-media-player-vlc-gtk-favehuy2b">How to Build a Python Media Player using LibVLC and GTK+</a></li>
<li><a class="reference external" href="https://superuser.com/questions/650291/how-to-get-video-duration-in-seconds">How to get video duration in seconds?</a></li>
<li><a class="reference external" href="posts/gst-player">Mediaplayer mit GStreamer</a></li>
</ul>
</blockquote>
<p class="more"><a href="posts/vlc-player/">Read more…</a></p>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/gst-player/">Media player with GStreamer</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2017-09-21T15:19:40+02:00">2017-09-21 15:19</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/gst-player/#disqus_thread" data-disqus-identifier="cache/posts/mediaplayer-mit-gstreamer.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/glade/" rel="tag">glade</a></li>
           <li><a class="tag p-category" href="categories/python/" rel="tag">python</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="posts/gst-player/#glade" id="id5">Glade</a></li>
<li>
<a class="reference internal" href="posts/gst-player/#python" id="id6">Python</a><ul>
<li>
<a class="reference internal" href="posts/gst-player/#set-up-player" id="id7">Set up player</a><ul>
<li><a class="reference internal" href="posts/gst-player/#elements-and-pipelines" id="id8">Elements and pipelines</a></li>
<li><a class="reference internal" href="posts/gst-player/#predefined-pipelines" id="id9">Predefined pipelines</a></li>
</ul>
</li>
<li><a class="reference internal" href="posts/gst-player/#and-action" id="id10">And action!</a></li>
<li><a class="reference internal" href="posts/gst-player/#progress-bar" id="id11">Progress bar</a></li>
</ul>
</li>
<li><a class="reference internal" href="posts/gst-player/#possibilities-and-limitations" id="id12">Possibilities and limitations</a></li>
<li><a class="reference internal" href="posts/gst-player/#links" id="id13">Links</a></li>
<li>
<a class="reference internal" href="posts/gst-player/#listings" id="id14">Listings</a><ul>
<li><a class="reference internal" href="posts/gst-player/#id1" id="id15">Glade</a></li>
<li><a class="reference internal" href="posts/gst-player/#id2" id="id16">Python</a></li>
<li><a class="reference internal" href="posts/gst-player/#example-files" id="id17">Example files</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Creating a media player with GStreamer 1.x</strong></p>
<p><a class="reference external" href="https://gstreamer.freedesktop.org/">GStreamer</a> is a multimedia framework that can be used ti show (de)code and otherwise alter media files.</p>
<a class="reference external image-reference" href="../images/19_gst_player.png"><img alt="/images/19_gst_player.thumbnail.png" src="../images/19_gst_player.thumbnail.png"></a>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/gst-player/#id5">Glade</a></h2>
<blockquote>
<ul class="simple">
<li>
<strong>display area of the media file:</strong> <em>Gtk.DrawingArea</em> widget</li>
<li>
<strong>control elements:</strong> skip for-/backward (<em>Gtk.Button</em>), pause/resume playback (<em>Gtk.Togglebutton</em>)</li>
<li>
<strong>select media:</strong> buttons to show video or image file</li>
</ul>
</blockquote>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/gst-player/#id6">Python</a></h2>
<div class="section" id="set-up-player">
<h3><a class="toc-backref" href="posts/gst-player/#id7">Set up player</a></h3>
<div class="section" id="elements-and-pipelines">
<h4><a class="toc-backref" href="posts/gst-player/#id8">Elements and pipelines</a></h4>
<p>GStreamer manages all kinds of media data streams. Every step in the procession chain is defined as an <em>element</em> connected to <em>pipelines</em>. A common pipeline consists of "source", "filter"/"decode" and "sink" elements.</p>
<pre class="code text"><a name="rest_code_fcd99967271f4f2c842c85431b0880b6-1"></a>------------------------------------------------------
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-2"></a>|  pipeline                                          |
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-3"></a>|                                                    |
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-4"></a>|  -------------   ----------------   -------------- |
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-5"></a>|  | source    |   | filter       |   | sink       | |
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-6"></a>|  |           |-&gt;&gt;| decoder      |-&gt;&gt;|            | |
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-7"></a>|  | input     |   | processing   |   | output     | |
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-8"></a>|  -------------   ----------------   -------------- |
<a name="rest_code_fcd99967271f4f2c842c85431b0880b6-9"></a>------------------------------------------------------
</pre>
<p>This is done by the <em>Gst</em> module:</p>
<pre class="code python"><a name="rest_code_18681211bbbc444a838f17b133cd0217-1"></a><span class="c1">#init Gst and create pipeline</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-2"></a><span class="n">Gst</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-3"></a><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Gst</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">()</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-4"></a>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-5"></a><span class="c1">#create elements</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-6"></a><span class="n">src</span> <span class="o">=</span> <span class="n">Gst</span><span class="o">.</span><span class="n">ElementFactory</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">"filesrc"</span><span class="p">,</span><span class="s2">"source"</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-7"></a><span class="n">decode</span> <span class="o">=</span> <span class="n">Gst</span><span class="o">.</span><span class="n">ElementFactory</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">"decodebin"</span><span class="p">,</span><span class="s2">"decode"</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-8"></a><span class="n">sink</span> <span class="o">=</span> <span class="n">Gst</span><span class="o">.</span><span class="n">ElementFactory</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">"xvimagesink"</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-9"></a>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-10"></a><span class="c1">#configure elements</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-11"></a><span class="n">src</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">"location"</span><span class="p">,</span><span class="n">file_location</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-12"></a>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-13"></a><span class="c1">#add elements to pipeline</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-14"></a><span class="n">pipeline</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-15"></a><span class="n">pipeline</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">decode</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-16"></a><span class="n">pipeline</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sink</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-17"></a>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-18"></a><span class="c1">#link elements together</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-19"></a><span class="n">src</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">decode</span><span class="p">)</span>
<a name="rest_code_18681211bbbc444a838f17b133cd0217-20"></a><span class="n">decode</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">sink</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="predefined-pipelines">
<h4><a class="toc-backref" href="posts/gst-player/#id9">Predefined pipelines</a></h4>
<p>There are plenty of possibilities such like handling audio and video signals separated from each other by assigning a "videosink" and an "audiosink" and so on. On the other hand there are given pipelines for standard tasks like media playback.
In this case there can be made use of the "playbin" element which also significantly reduces the code:</p>
<pre class="code python"><a name="rest_code_e42b3761c23b4ceab26ac72c0d7b9cef-1"></a><span class="n">Gst</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<a name="rest_code_e42b3761c23b4ceab26ac72c0d7b9cef-2"></a><span class="n">player</span> <span class="o">=</span> <span class="n">Gst</span><span class="o">.</span><span class="n">ElementFactory</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">"playbin"</span><span class="p">,</span><span class="s2">"player"</span><span class="p">)</span>
<a name="rest_code_e42b3761c23b4ceab26ac72c0d7b9cef-3"></a><span class="n">sink</span> <span class="o">=</span> <span class="n">Gst</span><span class="o">.</span><span class="n">ElementFactory</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">"xvimagesink"</span><span class="p">)</span>
<a name="rest_code_e42b3761c23b4ceab26ac72c0d7b9cef-4"></a><span class="n">player</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">"uri"</span><span class="p">,</span><span class="n">uri_of_file</span><span class="p">)</span>
<a name="rest_code_e42b3761c23b4ceab26ac72c0d7b9cef-5"></a><span class="n">player</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">"video-sink"</span><span class="p">,</span> <span class="n">sink</span><span class="p">)</span>
</pre>
</div>
</div>
<div class="section" id="and-action">
<h3><a class="toc-backref" href="posts/gst-player/#id10">And action!</a></h3>
<p>A pipeline or playbin element can now be controled by <em>Gst.STATE</em>:
.. code-block:: python</p>
<blockquote>
player.set_state(Gst.State.PLAYING)
player.set_state(Gst.State.PAUSED)</blockquote>
</div>
<div class="section" id="progress-bar">
<h3><a class="toc-backref" href="posts/gst-player/#id11">Progress bar</a></h3>
<p>The video progress in this example will not be visualized by a <em>Gtk.ProgressBar</em> but by a horizontal <em>Gtk.Scale</em>. This widget allows to manually set a position with the mouse instead of just showing a value using the <em>value-changed</em> signal. Strictly speaking the <em>change-value</em> signal is a much cleaner solution here which will be used in the <a class="reference external" href="posts/vlc-player">follow-up article</a> on relizing the media player with LibVLC.</p>
</div>
</div>
<div class="section" id="possibilities-and-limitations">
<h2><a class="toc-backref" href="posts/gst-player/#id12">Possibilities and limitations</a></h2>
<p>Getting to know how to utilize GStreamer there appear a bunch of obstacles (read as: the incompetent author of this article tend to widely generalize based on her experiences):</p>
<p>There are plenty of tutorials but two circumstances make them difficult to comply with:</p>
<ol class="arabic simple">
<li>The primary language in GStreamer is C. Good luck with your Python stuff.</li>
<li>Many older tutorials and manuals do not work out of the box because of major version leap of both GStreamer (0.10 to 1.x) and Python (2.x auf 3.x).</li>
</ol>
<p>In addition there are effects that are hard to understand. The example given in this article does not work if the Gtk window contains a headerbar. In theory this should be solved by using the "gtksink" but I haven't figured out yet how to assign that sink to a specific widget.</p>
</div>
<div class="section" id="links">
<h2><a class="toc-backref" href="posts/gst-player/#id13">Links</a></h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://brettviren.github.io/pygst-tutorial-org/">Tutorial on using GStreamer Python Bindings in org-mode</a></li>
<li><a class="reference external" href="https://github.com/hadware/gstreamer-python-player/blob/master/seek.py">gstreamer-python-player/seek.py example</a></li>
<li><a class="reference external" href="https://gstreamer.freedesktop.org/documentation/plugins.html">GStreamer List of Elements and Plugins</a></li>
<li><a class="reference external" href="https://gstreamer.freedesktop.org/documentation/index.html">GStreamer documentation</a></li>
<li><a class="reference external" href="https://adnanalamkhan.wordpress.com/2015/03/01/using-gstreamer-1-0-with-python/">Using GStreamer 1.0 with Python</a></li>
<li><a class="reference external" href="posts/vlc-player">Mediaplayer mit VLC</a></li>
</ul>
</blockquote>
<p class="more"><a href="posts/gst-player/">Read more…</a></p>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/gpt-v04-release/">GPT: v0.4 Release</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2017-08-28T18:03:37+02:00">2017-08-28 18:03</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/gpt-v04-release/#disqus_thread" data-disqus-identifier="cache/posts/gpt-v04-release.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/goprotool/" rel="tag">goprotool</a></li>
           <li><a class="tag p-category" href="categories/python/" rel="tag">python</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p><strong>JFTR: GoProTool v0.4 release</strong></p>
<p>Some minor changes/fixes for the <a class="reference external" href="https://github.com/encarsia/gpt">project</a>. Recent development status is available as a (pre-)release: <a class="reference external" href="https://github.com/encarsia/gpt/releases/tag/v0.4">Release v0.4 "scarlatina"</a>.</p>
<p>NEW:</p>
<ul class="simple">
<li>import files from any directory (and not just from detected SD cards) with corresponding button added to the toolbar</li>
</ul>
<p>FIXED:</p>
<ul class="simple">
<li>folder selection on import</li>
<li>progress status on video import</li>
</ul>
<p>"FIXED":</p>
<ul class="simple">
<li>headerbar removed from the media preview version because no images on playback</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This issue will probably be fixed by switching to LibVLC instead of GStreamer, see also <a class="reference external" href="posts/vlc-player">LibVLC tutorial article</a>.</p>
</div>
<a class="reference external image-reference" href="../images/window_player_v0.4.png"><img alt="/images/window_player_v0.4.thumbnail.png" src="../images/window_player_v0.4.thumbnail.png"></a>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/gsettings/">The GSettings configuration storage system</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2017-04-22T23:47:12+01:00">2017-04-22 23:47</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/gsettings/#disqus_thread" data-disqus-identifier="cache/posts/gsettings.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/glade/" rel="tag">glade</a></li>
           <li><a class="tag p-category" href="categories/gsettings/" rel="tag">gsettings</a></li>
           <li><a class="tag p-category" href="categories/python/" rel="tag">python</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="posts/gsettings/#schemas" id="id3">Schemas</a></li>
<li><a class="reference internal" href="posts/gsettings/#glade" id="id4">Glade</a></li>
<li>
<a class="reference internal" href="posts/gsettings/#python" id="id5">Python</a><ul>
<li><a class="reference internal" href="posts/gsettings/#load-global-schema" id="id6">Load global schema</a></li>
<li><a class="reference internal" href="posts/gsettings/#load-local-schema" id="id7">Load local schema</a></li>
<li><a class="reference internal" href="posts/gsettings/#bind-widget" id="id8">Bind widget</a></li>
<li><a class="reference internal" href="posts/gsettings/#get-and-set-values" id="id9">Get and set values</a></li>
</ul>
</li>
<li><a class="reference internal" href="posts/gsettings/#links" id="id10">Links</a></li>
<li>
<a class="reference internal" href="posts/gsettings/#listings" id="id11">Listings</a><ul>
<li><a class="reference internal" href="posts/gsettings/#schema" id="id12">Schema</a></li>
<li><a class="reference internal" href="posts/gsettings/#id1" id="id13">Glade</a></li>
<li><a class="reference internal" href="posts/gsettings/#id2" id="id14">Python</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Manage application settings with GNOME's GSettings</strong></p>
<p>GSettings is the central application configuration system of the GNOME desktop. Settings are stored in binary form so you will need to use a low-level configuration tool which provides a  backend for GSettings. This can be either have a graphical (dconf-editor) or commandline interface (gsettings).</p>
<p>In this article's example background images will be read, set and bookmarked.</p>
<a class="reference external image-reference" href="../images/17_gsettings.png"><img alt="/images/17_gsettings.thumbnail.png" src="../images/17_gsettings.thumbnail.png"></a>
<div class="section" id="schemas">
<h2><a class="toc-backref" href="posts/gsettings/#id3">Schemas</a></h2>
<p>An initial configuration for an application is defined in a schema file. This XML formatted text file then will be transformed into its machine readable equivalent.</p>
<p>This is an example for a schema file with one property (key):</p>
<pre class="code xml"><a name="rest_code_80282ec4e8d8407881511feba5fd4e80-1"></a><span class="nt">&lt;schemalist&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-2"></a>  <span class="nt">&lt;schema</span> <span class="na">id=</span><span class="s">"org.gtk.Test"</span> <span class="na">path=</span><span class="s">"/org/gtk/Test/"</span><span class="nt">&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-3"></a>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-4"></a>    <span class="nt">&lt;key</span> <span class="na">name=</span><span class="s">"string-key"</span> <span class="na">type=</span><span class="s">"s"</span><span class="nt">&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-5"></a>      <span class="nt">&lt;default&gt;</span>""<span class="nt">&lt;/default&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-6"></a>      <span class="nt">&lt;summary&gt;</span>A string<span class="nt">&lt;/summary&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-7"></a>      <span class="nt">&lt;description&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-8"></a>        Configuration key defined for a string. Default value is set to an empty string.
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-9"></a>      <span class="nt">&lt;/description&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-10"></a>    <span class="nt">&lt;/key&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-11"></a>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-12"></a>  <span class="nt">&lt;/schema&gt;</span>
<a name="rest_code_80282ec4e8d8407881511feba5fd4e80-13"></a><span class="nt">&lt;/schemalist&gt;</span>
</pre>
<p>The nomenclature for the file is "<tt class="docutils literal">schema.id.gschema.xml</tt>".
The standard installation directory for schema files is <tt class="docutils literal"><span class="pre">/usr/share/glib-2.0/schemas</span></tt>. Schema files can also be stored outside of this folder (p.e. local, for testing purposes) but these will not be shown by dconf-editor.</p>
<p>Now the schema files must be compiled</p>
<pre class="code bash"><a name="rest_code_b8595c72bd5a4f3aa5b122f2c76dc9d3-1"></a>glib-compile-schemas /path/to/schema/files/
<a name="rest_code_b8595c72bd5a4f3aa5b122f2c76dc9d3-2"></a><span class="c1">#default directory</span>
<a name="rest_code_b8595c72bd5a4f3aa5b122f2c76dc9d3-3"></a>glib-compile-schemas /usr/share/glib-2.0/schemas/
</pre>
<p>The compiled file which is now used by GSettings is named <tt class="docutils literal">gschemas.compiled</tt>.</p>
</div>
<div class="section" id="glade">
<h2><a class="toc-backref" href="posts/gsettings/#id4">Glade</a></h2>
<p>For displaying image files the <em>GtkImage</em> widget is required. All controls of the example app are placed in the headerbar:</p>
<blockquote>
<ul class="simple">
<li>"Open File" button: opens <a class="reference external" href="posts/fcdialog">FileChooserDialog</a>
</li>
<li>switch: turns desktop icons on or off</li>
<li>"Fav" togglebutton: bookmarks file drawn in the image widget, shows whether image file is bookmarked as favourite</li>
<li>"Set as wallpaper" button: use file as background image</li>
<li>
<em>MenuButton</em>: list of bookmarked files</li>
</ul>
</blockquote>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="posts/gsettings/#id5">Python</a></h2>
<div class="section" id="load-global-schema">
<h3><a class="toc-backref" href="posts/gsettings/#id6">Load global schema</a></h3>
<p>Load an existing configuration:</p>
<pre class="code python"><a name="rest_code_9c44f5caaff14e60b50384aa1b79fbb0-1"></a><span class="n">setting</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Settings</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"full.schema.path"</span><span class="p">)</span>
<a name="rest_code_9c44f5caaff14e60b50384aa1b79fbb0-2"></a><span class="c1">#load desktop background configuration</span>
<a name="rest_code_9c44f5caaff14e60b50384aa1b79fbb0-3"></a><span class="n">setting</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Settings</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"org.gnome.desktop.background"</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="load-local-schema">
<h3><a class="toc-backref" href="posts/gsettings/#id7">Load local schema</a></h3>
<p>If the schema file is not stored in the standard directory the location of the <tt class="docutils literal">schemas.compiled</tt> file must be given first:</p>
<pre class="code python"><a name="rest_code_7154e45e48d6443aa9af71cc27d08db2-1"></a><span class="n">schema_source</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsSchemaSource</span><span class="o">.</span><span class="n">new_from_directory</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
<a name="rest_code_7154e45e48d6443aa9af71cc27d08db2-2"></a>            <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsSchemaSource</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>
<a name="rest_code_7154e45e48d6443aa9af71cc27d08db2-3"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsSchemaSource</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">schema_source</span><span class="p">,</span><span class="s2">"org.example.wallpaper-changer"</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span>
<a name="rest_code_7154e45e48d6443aa9af71cc27d08db2-4"></a><span class="n">setting</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Settings</span><span class="o">.</span><span class="n">new_full</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="bind-widget">
<h3><a class="toc-backref" href="posts/gsettings/#id8">Bind widget</a></h3>
<p>It is possible to directly bind GSettings properties to a widget. Property statuses then can be displayed or manipulated:</p>
<pre class="code python"><a name="rest_code_cbd0a0d7c5cf4bd5b6456249539e6e52-1"></a><span class="n">setting</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">"setting-key"</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="nb">property</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsBindFlags</span><span class="o">...</span><span class="p">)</span>
</pre>
<p>In the example app this is done with the switch widget:</p>
<pre class="code python"><a name="rest_code_e25549961b7d40caa5d2391e8a473837-1"></a><span class="bp">self</span><span class="o">.</span><span class="n">bg_setting</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">"show-desktop-icons"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"switch"</span><span class="p">),</span> <span class="s2">"active"</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsBindFlags</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">)</span>
</pre>
<p>The switch shows the current configuration status on application startup. Changes on the switch control button are applied instantly.</p>
</div>
<div class="section" id="get-and-set-values">
<h3><a class="toc-backref" href="posts/gsettings/#id9">Get and set values</a></h3>
<p>Property settings can be retrieved and defined by <tt class="docutils literal">get_"type"</tt> and <tt class="docutils literal">set_"type"</tt>. The relevant function to use is dependent on the key type, use <tt class="docutils literal">get_string</tt> and <tt class="docutils literal">set_string</tt> for strings, <tt class="docutils literal">get_int</tt> and <tt class="docutils literal">set_int</tt> for interger and so on (see <a class="reference external" href="https://lazka.github.io/pgi-docs/#Gio-2.0/classes/Settings.html">PyGObject API Reference</a>).</p>
<p>A property value request via <tt class="docutils literal">get_value(key)</tt> returnes a value of type <a class="reference external" href="https://lazka.github.io/pgi-docs/#GLib-2.0/classes/Variant.html#GLib.Variant">GLib.Variant</a>.
Therefore the  <tt class="docutils literal">set_value(key)</tt> function also requires this datatype.</p>
<p>Value contents can be converted into simple datatypes:</p>
<pre class="code python"><a name="rest_code_9e7b2c3595df442e808a56267f04148b-1"></a><span class="c1">#return string</span>
<a name="rest_code_9e7b2c3595df442e808a56267f04148b-2"></a><span class="n">setting</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">get_string</span><span class="p">()</span>
<a name="rest_code_9e7b2c3595df442e808a56267f04148b-3"></a><span class="c1">#return anything (list, string, bool etc.)</span>
<a name="rest_code_9e7b2c3595df442e808a56267f04148b-4"></a><span class="n">setting</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">unpack</span><span class="p">()</span>
</pre>
<p>and vice versa:</p>
<pre class="code python"><a name="rest_code_967bd55403224224b3ec9ed30bc3d72f-1"></a><span class="n">setting</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">GLib</span><span class="o">.</span><span class="n">Variant</span><span class="p">(</span><span class="n">string_type</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre>
<p>The <a class="reference external" href="https://developer.gnome.org/glib/stable/gvariant-format-strings.html">GNOME developer documentation</a> provides a list of avaliable string types.</p>
<p>In the example app this is used to update the bookmark list:</p>
<pre class="code python"><a name="rest_code_8932dd9d34a5430294479a56a71103c6-1"></a><span class="n">app_setting</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">"favourites"</span><span class="p">,</span> <span class="n">GLib</span><span class="o">.</span><span class="n">Variant</span><span class="p">(</span><span class="s1">'as'</span><span class="p">,</span><span class="n">fav_list</span><span class="p">))</span>
</pre>
</div>
</div>
<div class="section" id="links">
<h2><a class="toc-backref" href="posts/gsettings/#id10">Links</a></h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="https://www.florian-diesch.de/doc/gnome3/standardeinstellungen-in-gsettings-aendern.html">Standardeinstellungen in GSettings ändern (German)</a></li>
<li><a class="reference external" href="http://zderadicka.eu/gsettings-flexible-configuration-system/">Introduction to GSettings in Python</a></li>
<li><a class="reference external" href="https://marianochavero.wordpress.com/2012/04/03/short-example-of-gsettings-bindings-in-python/">Short Example of GSettings Bindings with Python using a Gtk Switch</a></li>
<li><a class="reference external" href="http://zderadicka.eu/gsettings-flexible-configuration-system/">GSettings - flexible configuration system</a></li>
<li><a class="reference external" href="https://wiki.ubuntuusers.de/GNOME_Konfiguration/dconf/">dconf (ubuntuusers-Wiki)</a></li>
<li><a class="reference external" href="https://blog.gtk.org/2017/05/01/first-steps-with-gsettings/">First steps with GSettings</a></li>
</ul>
</blockquote>
</div>
<div class="section" id="listings">
<h2><a class="toc-backref" href="posts/gsettings/#id11">Listings</a></h2>
<div class="section" id="schema">
<h3><a class="toc-backref" href="posts/gsettings/#id12">Schema</a></h3>
<p><a class="reference external" href="../listings/org.example.wallpaper-changer.gschema.xml.html">org.example.wallpaper-changer.gschema.xml</a>  <a class="reference external" href="../listings/org.example.wallpaper-changer.gschema.xml">(Source)</a></p>
<pre class="code xml"><a name="rest_code_57f637a46f7d4f9bbce805af21931644-1"></a><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-2"></a>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-3"></a><span class="nt">&lt;schemalist&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-4"></a>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-5"></a>  <span class="nt">&lt;schema</span> <span class="na">path=</span><span class="s">"/org/example/wallpaper-changer/"</span> <span class="na">id=</span><span class="s">"org.example.wallpaper-changer"</span><span class="nt">&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-6"></a>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-7"></a>    <span class="nt">&lt;key</span> <span class="na">name=</span><span class="s">"favourites"</span> <span class="na">type=</span><span class="s">"as"</span><span class="nt">&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-8"></a>      <span class="nt">&lt;default&gt;</span>[]<span class="nt">&lt;/default&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-9"></a>      <span class="nt">&lt;summary&gt;</span>List of favourite wallpapers<span class="nt">&lt;/summary&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-10"></a>      <span class="nt">&lt;description&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-11"></a>        Add or remove entry by pressing the 'fav' toggle button.
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-12"></a>      <span class="nt">&lt;/description&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-13"></a>    <span class="nt">&lt;/key&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-14"></a>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-15"></a>  <span class="nt">&lt;/schema&gt;</span>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-16"></a>
<a name="rest_code_57f637a46f7d4f9bbce805af21931644-17"></a><span class="nt">&lt;/schemalist&gt;</span>
</pre>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="posts/gsettings/#id13">Glade</a></h3>
<p><a class="reference external" href="../listings/17_gsettings.glade.html">17_gsettings.glade</a>  <a class="reference external" href="../listings/17_gsettings.glade">(Source)</a></p>
<pre class="code xml"><a name="rest_code_ae63d09801944d13875d6b11ab171d6f-1"></a><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-2"></a><span class="c">&lt;!-- Generated with glade 3.20.0 --&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-3"></a><span class="nt">&lt;interface&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-4"></a>  <span class="nt">&lt;requires</span> <span class="na">lib=</span><span class="s">"gtk+"</span> <span class="na">version=</span><span class="s">"3.20"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-5"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkFileFilter"</span> <span class="na">id=</span><span class="s">"filefilter"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-6"></a>    <span class="nt">&lt;mime-types&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-7"></a>      <span class="nt">&lt;mime-type&gt;</span>image/*<span class="nt">&lt;/mime-type&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-8"></a>    <span class="nt">&lt;/mime-types&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-9"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-10"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkImage"</span> <span class="na">id=</span><span class="s">"image1"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-11"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-12"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-13"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"icon_name"</span><span class="nt">&gt;</span>emblem-favorite<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-14"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-15"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkMenu"</span> <span class="na">id=</span><span class="s">"menu"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-16"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-17"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-18"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-19"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkApplicationWindow"</span> <span class="na">id=</span><span class="s">"window"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-20"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-21"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"destroy"</span> <span class="na">handler=</span><span class="s">"on_window_destroy"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-22"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"size-allocate"</span> <span class="na">handler=</span><span class="s">"on_window_size_allocate"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-23"></a>    <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-24"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkImage"</span> <span class="na">id=</span><span class="s">"image_area"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-25"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"width_request"</span><span class="nt">&gt;</span>400<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-26"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"height_request"</span><span class="nt">&gt;</span>300<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-27"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-28"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-29"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"stock"</span><span class="nt">&gt;</span>gtk-missing-image<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-30"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-31"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-32"></a>    <span class="nt">&lt;child</span> <span class="na">type=</span><span class="s">"titlebar"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-33"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkHeaderBar"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-34"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-35"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-36"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"title"</span><span class="nt">&gt;</span>Wallpaper changer<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-37"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"has_subtitle"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-38"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"show_close_button"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-39"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-40"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"open_button"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-41"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Open file...<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-42"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-43"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-44"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-45"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_open_button_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-46"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-47"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-48"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-49"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkBox"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-50"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-51"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-52"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"orientation"</span><span class="nt">&gt;</span>vertical<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-53"></a>            <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-54"></a>              <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkLabel"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-55"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-56"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-57"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Desktop icons<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-58"></a>              <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-59"></a>              <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-60"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-61"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-62"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>0<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-63"></a>              <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-64"></a>            <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-65"></a>            <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-66"></a>              <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkSwitch"</span> <span class="na">id=</span><span class="s">"switch"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-67"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-68"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-69"></a>              <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-70"></a>              <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-71"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-72"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-73"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-74"></a>              <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-75"></a>            <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-76"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-77"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-78"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-79"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-80"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-81"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-82"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkMenuButton"</span> <span class="na">id=</span><span class="s">"fav_menu"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-83"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-84"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-85"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-86"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"popup"</span><span class="nt">&gt;</span>menu<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-87"></a>            <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-88"></a>              <span class="nt">&lt;placeholder/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-89"></a>            <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-90"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-91"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-92"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"pack_type"</span><span class="nt">&gt;</span>end<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-93"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-94"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-95"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-96"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-97"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"setwp_button"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-98"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Set as wallpaper<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-99"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-100"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-101"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-102"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_setwp_button_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-103"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-104"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-105"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"pack_type"</span><span class="nt">&gt;</span>end<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-106"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-107"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-108"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-109"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-110"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkToggleButton"</span> <span class="na">id=</span><span class="s">"fav_button"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-111"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-112"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-113"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-114"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"image"</span><span class="nt">&gt;</span>image1<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-115"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"always_show_image"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-116"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"toggled"</span> <span class="na">handler=</span><span class="s">"on_fav_button_toggled"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-117"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-118"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-119"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"pack_type"</span><span class="nt">&gt;</span>end<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-120"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-121"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-122"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-123"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-124"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-125"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-126"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkImage"</span> <span class="na">id=</span><span class="s">"preview"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-127"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"width_request"</span><span class="nt">&gt;</span>200<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-128"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-129"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-130"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"margin_right"</span><span class="nt">&gt;</span>5<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-131"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-132"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkFileChooserDialog"</span> <span class="na">id=</span><span class="s">"filechooser_dialog"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-133"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"width_request"</span><span class="nt">&gt;</span>800<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-134"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"height_request"</span><span class="nt">&gt;</span>600<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-135"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-136"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"type_hint"</span><span class="nt">&gt;</span>dialog<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-137"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"transient_for"</span><span class="nt">&gt;</span>window<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-138"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"attached_to"</span><span class="nt">&gt;</span>window<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-139"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"filter"</span><span class="nt">&gt;</span>filefilter<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-140"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"preview_widget"</span><span class="nt">&gt;</span>preview<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-141"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"use_preview_label"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-142"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"delete-event"</span> <span class="na">handler=</span><span class="s">"on_dialog_close"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-143"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"file-activated"</span> <span class="na">handler=</span><span class="s">"on_filechooser_dialog_file_activated"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-144"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"response"</span> <span class="na">handler=</span><span class="s">"on_filechooser_dialog_response"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-145"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"update-preview"</span> <span class="na">handler=</span><span class="s">"on_filechooser_dialog_update_preview"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-146"></a>    <span class="nt">&lt;child</span> <span class="na">internal-child=</span><span class="s">"vbox"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-147"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkBox"</span> <span class="na">id=</span><span class="s">"fcbox"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-148"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-149"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"orientation"</span><span class="nt">&gt;</span>vertical<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-150"></a>        <span class="nt">&lt;child</span> <span class="na">internal-child=</span><span class="s">"action_area"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-151"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButtonBox"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-152"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-153"></a>            <span class="nt">&lt;child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-154"></a>              <span class="nt">&lt;placeholder/&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-155"></a>            <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-156"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-157"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-158"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-159"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-160"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>0<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-161"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-162"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-163"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-164"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-165"></a>    <span class="nt">&lt;child</span> <span class="na">type=</span><span class="s">"titlebar"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-166"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkHeaderBar"</span><span class="nt">&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-167"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-168"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-169"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"title"</span><span class="nt">&gt;</span>Choose image file<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-170"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"show_close_button"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-171"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-172"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-173"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_ae63d09801944d13875d6b11ab171d6f-174"></a><span class="nt">&lt;/interface&gt;</span>
</pre>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="posts/gsettings/#id14">Python</a></h3>
<p><a class="reference external" href="../listings/17_gsettings.py.html">17_gsettings.py</a>  <a class="reference external" href="../listings/17_gsettings.py">(Source)</a></p>
<pre class="code python"><a name="rest_code_810c5900e60c41d69579a98b8a2c6312-1"></a><span class="ch">#!/usr/bin/python</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-2"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-3"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-4"></a><span class="kn">import</span> <span class="nn">sys</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-5"></a><span class="kn">import</span> <span class="nn">os</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-6"></a><span class="kn">import</span> <span class="nn">gi</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-7"></a><span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s1">'Gtk'</span><span class="p">,</span><span class="s1">'3.0'</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-8"></a><span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Gtk</span><span class="p">,</span> <span class="n">Gio</span><span class="p">,</span> <span class="n">GLib</span><span class="p">,</span> <span class="n">GdkPixbuf</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-9"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-10"></a><span class="k">class</span> <span class="nc">Handler</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-11"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-12"></a>    <span class="k">def</span> <span class="nf">on_window_destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">window</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-13"></a>        <span class="n">window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-14"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-15"></a>    <span class="k">def</span> <span class="nf">on_dialog_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="o">*</span><span class="n">event</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-16"></a>        <span class="n">widget</span><span class="o">.</span><span class="n">hide_on_delete</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-17"></a>        <span class="k">return</span> <span class="bp">True</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-18"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-19"></a>    <span class="k">def</span> <span class="nf">on_filechooser_dialog_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">response</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-20"></a>        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-21"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_dialog_close</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-22"></a>        <span class="k">elif</span> <span class="n">response</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-23"></a>            <span class="n">app</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_filename</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-24"></a>            <span class="n">app</span><span class="o">.</span><span class="n">draw_pixbuf</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-25"></a>            <span class="n">app</span><span class="o">.</span><span class="n">handle_fav</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-26"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_dialog_close</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-27"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-28"></a>    <span class="k">def</span> <span class="nf">on_filechooser_dialog_file_activated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-29"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_filechooser_dialog_response</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-30"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-31"></a>    <span class="k">def</span> <span class="nf">on_open_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-32"></a>        <span class="n">app</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"filechooser_dialog"</span><span class="p">)</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-33"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-34"></a>    <span class="k">def</span> <span class="nf">on_setwp_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-35"></a>        <span class="n">app</span><span class="o">.</span><span class="n">bg_setting</span><span class="o">.</span><span class="n">set_string</span><span class="p">(</span><span class="s2">"picture-uri"</span><span class="p">,</span><span class="s2">"file://</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">app</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-36"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-37"></a>    <span class="k">def</span> <span class="nf">on_window_size_allocate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">size</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-38"></a>        <span class="n">app</span><span class="o">.</span><span class="n">draw_pixbuf</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-39"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-40"></a>    <span class="k">def</span> <span class="nf">on_filechooser_dialog_update_preview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-41"></a>        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_filename</span><span class="p">()</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_filename</span><span class="p">()):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-42"></a>            <span class="n">pixbuf</span> <span class="o">=</span> <span class="n">GdkPixbuf</span><span class="o">.</span><span class="n">Pixbuf</span><span class="o">.</span><span class="n">new_from_file_at_scale</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-43"></a>            <span class="n">app</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"preview"</span><span class="p">)</span><span class="o">.</span><span class="n">set_from_pixbuf</span><span class="p">(</span><span class="n">pixbuf</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-44"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-45"></a>    <span class="k">def</span> <span class="nf">on_fav_button_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-46"></a>        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_active</span><span class="p">():</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-47"></a>            <span class="c1">#add file to fav_list if not in list</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-48"></a>            <span class="k">if</span> <span class="n">app</span><span class="o">.</span><span class="n">uri</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">fav_list</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-49"></a>                <span class="n">app</span><span class="o">.</span><span class="n">fav_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-50"></a>        <span class="k">else</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-51"></a>            <span class="c1">#remove file from fav_list if in list</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-52"></a>            <span class="k">if</span> <span class="n">app</span><span class="o">.</span><span class="n">uri</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">fav_list</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-53"></a>                <span class="n">app</span><span class="o">.</span><span class="n">fav_list</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-54"></a>        <span class="c1">#update GSettings entry for favourites</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-55"></a>        <span class="n">app</span><span class="o">.</span><span class="n">app_setting</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">"favourites"</span><span class="p">,</span> <span class="n">GLib</span><span class="o">.</span><span class="n">Variant</span><span class="p">(</span><span class="s1">'as'</span><span class="p">,</span> <span class="n">app</span><span class="o">.</span><span class="n">fav_list</span><span class="p">))</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-56"></a>        <span class="c1">#update fav list in popup menu</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-57"></a>        <span class="n">popup</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"menu"</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-58"></a>        <span class="c1">#remove all items</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-59"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">popup</span><span class="o">.</span><span class="n">get_children</span><span class="p">():</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-60"></a>            <span class="n">popup</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-61"></a>        <span class="c1">#reload all items from fav_list</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-62"></a>        <span class="k">for</span> <span class="n">fav</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">fav_list</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-63"></a>            <span class="c1">#only label menuitem with filename instead of path</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-64"></a>            <span class="n">item</span><span class="o">=</span><span class="n">Gtk</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fav</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-65"></a>            <span class="n">item</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_choose_fav_from_menu</span><span class="p">,</span><span class="n">fav</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-66"></a>            <span class="n">popup</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-67"></a>        <span class="n">popup</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-68"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-69"></a>    <span class="k">def</span> <span class="nf">on_choose_fav_from_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="nb">file</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-70"></a>        <span class="n">app</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="nb">file</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-71"></a>        <span class="n">app</span><span class="o">.</span><span class="n">draw_pixbuf</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-72"></a>        <span class="n">app</span><span class="o">.</span><span class="n">handle_fav</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-73"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-74"></a><span class="k">class</span> <span class="nc">ExampleApp</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-75"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-76"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-77"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-78"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"org.application.test"</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">ApplicationFlags</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-79"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_app_activate</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-80"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"shutdown"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_app_shutdown</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-81"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-82"></a>    <span class="k">def</span> <span class="nf">on_app_activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-83"></a>        <span class="n">builder</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Builder</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-84"></a>        <span class="n">builder</span><span class="o">.</span><span class="n">add_from_file</span><span class="p">(</span><span class="s2">"17_gsettings.glade"</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-85"></a>        <span class="n">builder</span><span class="o">.</span><span class="n">connect_signals</span><span class="p">(</span><span class="n">Handler</span><span class="p">())</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-86"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">get_object</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-87"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-88"></a>        <span class="c1">#load existing GSettings application config</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-89"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bg_setting</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Settings</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"org.gnome.desktop.background"</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-90"></a>        <span class="c1">#get_value returns Gio formatted file path</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-91"></a>        <span class="nb">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bg_setting</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">"picture-uri"</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-92"></a>        <span class="c1">#convert path into string</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-93"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="nb">file</span><span class="o">.</span><span class="n">get_string</span><span class="p">()[</span><span class="mi">7</span><span class="p">:]</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-94"></a>        <span class="c1">#bind GSettings key to GTK+ object</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-95"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bg_setting</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">"show-desktop-icons"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"switch"</span><span class="p">),</span> <span class="s2">"active"</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsBindFlags</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-96"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-97"></a>        <span class="c1">#add GSettings schema from compiled XML file located in current directory (only recommended for test use, standard location: /usr/share/glib-2.0/schemas/)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-98"></a>        <span class="n">schema_source</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsSchemaSource</span><span class="o">.</span><span class="n">new_from_directory</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-99"></a>                <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsSchemaSource</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-100"></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsSchemaSource</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">schema_source</span><span class="p">,</span><span class="s2">"org.example.wallpaper-changer"</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-101"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app_setting</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Settings</span><span class="o">.</span><span class="n">new_full</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-102"></a>        <span class="c1">#convert value (GLib.Variant) into native list</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-103"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">fav_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_setting</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">"favourites"</span><span class="p">)</span><span class="o">.</span><span class="n">unpack</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-104"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-105"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"window"</span><span class="p">)</span><span class="o">.</span><span class="n">set_application</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-106"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"window"</span><span class="p">)</span><span class="o">.</span><span class="n">set_wmclass</span><span class="p">(</span><span class="s2">"Wallpaper changer"</span><span class="p">,</span><span class="s2">"Wallpaper changer"</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-107"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"window"</span><span class="p">)</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-108"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-109"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">draw_pixbuf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-110"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">handle_fav</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-111"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-112"></a>    <span class="k">def</span> <span class="nf">draw_pixbuf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">file</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-113"></a>        <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"image_area"</span><span class="p">)</span><span class="o">.</span><span class="n">get_allocation</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-114"></a>        <span class="n">pixbuf</span> <span class="o">=</span> <span class="n">GdkPixbuf</span><span class="o">.</span><span class="n">Pixbuf</span><span class="o">.</span><span class="n">new_from_file_at_scale</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="p">,</span><span class="n">size</span><span class="o">.</span><span class="n">height</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-115"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"image_area"</span><span class="p">)</span><span class="o">.</span><span class="n">set_from_pixbuf</span><span class="p">(</span><span class="n">pixbuf</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-116"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-117"></a>    <span class="k">def</span> <span class="nf">handle_fav</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">uri</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-118"></a>        <span class="c1">#set toggle button to correct state</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-119"></a>        <span class="k">if</span> <span class="n">uri</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fav_list</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-120"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"fav_button"</span><span class="p">)</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-121"></a>        <span class="k">else</span><span class="p">:</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-122"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"fav_button"</span><span class="p">)</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-123"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-124"></a>    <span class="k">def</span> <span class="nf">on_app_shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-125"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-126"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-127"></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argv</span><span class="p">):</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-128"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-129"></a>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-130"></a><span class="n">app</span> <span class="o">=</span> <span class="n">ExampleApp</span><span class="p">()</span>
<a name="rest_code_810c5900e60c41d69579a98b8a2c6312-131"></a><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-7.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-5.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="bahnfreikartoffelbrei";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2018 <a href="mailto:An.Ke@bahnfreikartoffelbrei.de">Anke (encarsia)</a> - 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Zen theme based in <a href="https://github.com/arusahni/website-template">Arusahni's website-template</a><br></p>
            
        </footer>
</div>
    </section><script src="../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
