<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Stand-alone | Merge and Destroy</title>
<link href="//fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.0.11/css/fork-awesome.min.css" integrity="sha256-MGU/JUq/40CFrfxjXb5pZjpoZmxiP2KuICN5ElLFNd8=" crossorigin="anonymous">
<link href="../../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (de)" href="../../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="canonical" href="https://encarsia.github.io/en/posts/application/">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><meta name="author" content="Anke (encarsia)">
<meta property="og:site_name" content="Merge and Destroy">
<meta property="og:title" content="Stand-alone">
<meta property="og:url" content="https://encarsia.github.io/en/posts/application/">
<meta property="og:description" content="Contents

XML files
Glade
GMenu


Python
Initialize GtkApplication
Appmenu
Start and quit


Links
Listings
Glade
GMenu
Python




Run program as GtkApplication
GtkApplication handles different importa">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-01-14T13:51:29+01:00">
<meta property="article:tag" content="glade">
<meta property="article:tag" content="python">
<link rel="alternate" hreflang="de" href="../../../posts/application/">
</head>
<body>
    <section class="social"><ul>
<li><a href="../../../index.html" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../../../posts/tutorial-reihe-glade/index.html" title="Tutorials"><i class="fa fa-lightbulb-o"></i></a></li>
            <li><a href="https://octodon.social/@encarsia" title="Mastodon"><i class="fa fa-mastodon"></i></a></li>
            <li><a href="https://twitter.com/encarsia_" title="Twitter"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://plus.google.com/105146352752269764996/posts" title="Google+"><i class="fa fa-google-plus-official"></i></a></li>
            <li><a href="https://github.com/encarsia" title="Github"><i class="fa fa-github"></i></a></li>
            <li><a href="../../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
            <li><a href="../../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../../pages/about/index.html" title="About me"><i class="fa fa-user"></i></a></li>
            <li><a href="../../../archive.html" title="Archives"><i class="fa fa-folder-open"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name">Stand-alone</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2017-01-14T13:51:29+01:00">2017-01-14 13:51</time><a href="../../../posts/application/" rel="alternate" hreflang="de">
                Deutsch</a>

            
          |  
        <a href="index.rst" id="sourcelink">Source</a>

            </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../../categories/glade/" rel="tag">glade</a></li>
           <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div>
<div class="contents warning pull-right topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li>
<a class="reference internal" href="#xml-files" id="id6">XML files</a><ul>
<li><a class="reference internal" href="#glade" id="id7">Glade</a></li>
<li><a class="reference internal" href="#gmenu" id="id8">GMenu</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#python" id="id9">Python</a><ul>
<li><a class="reference internal" href="#initialize-gtkapplication" id="id10">Initialize <em>GtkApplication</em></a></li>
<li><a class="reference internal" href="#appmenu" id="id11">Appmenu</a></li>
<li><a class="reference internal" href="#start-and-quit" id="id12">Start and quit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#links" id="id13">Links</a></li>
<li>
<a class="reference internal" href="#listings" id="id14">Listings</a><ul>
<li><a class="reference internal" href="#id3" id="id15">Glade</a></li>
<li><a class="reference internal" href="#id4" id="id16">GMenu</a></li>
<li><a class="reference internal" href="#id5" id="id17">Python</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Run program as GtkApplication</strong></p>
<p><em>GtkApplication</em> handles different important aspects of a GTK+ application like GTK+ initialization, session management and desktop integration.</p>
<a class="reference external image-reference" href="../../../images/14_application.png"><img alt="/images/14_application.thumbnail.png" src="../../../images/14_application.thumbnail.png"></a>
<div class="section" id="xml-files">
<h2><a class="toc-backref" href="#id6">XML files</a></h2>
<div class="section" id="glade">
<h3><a class="toc-backref" href="#id7">Glade</a></h3>
<p>Glade is used as usual, main windows should be <a href="#id1"><span class="problematic" id="id2">**</span></a>GtkApplicationWindows*. As example the file from the <a class="reference external" href="../dialoge/">dialogue article</a> is reused.</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 17); <em><a href="#id2">backlink</a></em></p>
Inline strong start-string without end-string.</div>
</div>
<div class="section" id="gmenu">
<h3><a class="toc-backref" href="#id8">GMenu</a></h3>
<p>The GNOME Shell supports appmenus residing in the (top) panel. The Gmenu XML file must be formatted to be recognized as <em>GioMenu</em>:</p>
<pre class="code xml"><a name="rest_code_af24793b45c64b7392039fde3558ef36-1"></a><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-2"></a><span class="nt">&lt;interface&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-3"></a> <span class="nt">&lt;menu</span> <span class="na">id=</span><span class="s">"appmenu"</span><span class="nt">&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-4"></a>    <span class="nt">&lt;section&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-5"></a>      <span class="nt">&lt;item&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-6"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Menu Item<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-7"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"action"</span><span class="nt">&gt;</span>app.item<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-8"></a>      <span class="nt">&lt;/item&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-9"></a>    <span class="nt">&lt;/section&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-10"></a>  <span class="nt">&lt;/menu&gt;</span>
<a name="rest_code_af24793b45c64b7392039fde3558ef36-11"></a><span class="nt">&lt;/interface&gt;</span>
</pre>
<p>Glade identifies this file format as an outdated Glade file and refuses to open it. Apart from that <em>GtkBuilder</em> can handle the menu and address identifiers.</p>
</div>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="#id9">Python</a></h2>
<div class="section" id="initialize-gtkapplication">
<h3><a class="toc-backref" href="#id10">Initialize <em>GtkApplication</em></a></h3>
<p>The initialization process requires the parameters <em>application_id</em> and <em>flags</em>. Flags can normally set to 0 being the same as FLAGS_NONE (see <a class="reference external" href="https://lazka.github.io/pgi-docs/Gio-2.0/flags.html#Gio.ApplicationFlags">Gio.ApplicationFlags</a>), naming conventions for application_id are <a class="reference external" href="https://people.gnome.org/~gcampagna/docs/Gio-2.0/Gio.Application.id_is_valid.html">listed here</a>.</p>
<p>The application can be connected to different signals being emitted on preassigned events. It is mandatory to at least define an <tt class="docutils literal">activate</tt> signal:</p>
<pre class="code python"><a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-1"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-2"></a>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-3"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"org.application.test"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-4"></a>    <span class="c1">#self.app.connect("startup", self.on_app_startup) #optional</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_app_activate</span><span class="p">)</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-6"></a>    <span class="c1">#self.app.connect("shutdown", self.on_app_shutdown) #optional</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-7"></a>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-8"></a><span class="k">def</span> <span class="nf">on_app_activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-9"></a>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-10"></a>    <span class="c1">#setting up GtkBuilder etc.</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-11"></a>    <span class="o">...</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-12"></a>    <span class="o">...</span>
<a name="rest_code_f382ebf2694c49f1919cacdadd32d29c-13"></a>    <span class="o">...</span>
</pre>
</div>
<div class="section" id="appmenu">
<h3><a class="toc-backref" href="#id11">Appmenu</a></h3>
<p>GMenu XML files are loaded by <em>GtkBuilder</em>:</p>
<pre class="code python"><a name="rest_code_e0fe1a932e8c448d93730e68b6fcf895-1"></a><span class="n">builder</span><span class="o">.</span><span class="n">add_from_file</span><span class="p">(</span><span class="s2">"menu.ui"</span><span class="p">)</span>
<a name="rest_code_e0fe1a932e8c448d93730e68b6fcf895-2"></a><span class="n">app</span><span class="o">.</span><span class="n">set_app_menu</span><span class="p">(</span><span class="n">builder</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="s2">"appmenu"</span><span class="p">))</span>
</pre>
<p>Menu entries now have to be connected to actions which are created as <em>GioSimpleActions</em>:</p>
<pre class="code python"><a name="rest_code_cb98e0a6912144349ccbb8dac318b88f-1"></a><span class="k">def</span> <span class="nf">add_simple_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<a name="rest_code_cb98e0a6912144349ccbb8dac318b88f-2"></a>    <span class="n">action</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SimpleAction</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a name="rest_code_cb98e0a6912144349ccbb8dac318b88f-3"></a>    <span class="n">action</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
<a name="rest_code_cb98e0a6912144349ccbb8dac318b88f-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
</pre>
<p>In the example file actions invokes dialog windows.</p>
</div>
<div class="section" id="start-and-quit">
<h3><a class="toc-backref" href="#id12">Start and quit</a></h3>
<p><em>GtkApplication</em> takes over the handling of the GTK+ mainloop so there is no need of starting and quitting GTK+ manually and <tt class="docutils literal">run()</tt> and <tt class="docutils literal">quit()</tt> called instead:</p>
<pre class="code text"><a name="rest_code_30a1123a62f9473f84468a1c92206eca-1"></a>Gtk.main()      -&gt;  app.run(argv)
<a name="rest_code_30a1123a62f9473f84468a1c92206eca-2"></a>Gtk.main_quit() -&gt;  app.quit()
</pre>
<p>If the application is quit by the [X] button or the "Quit" appmenu entry the "shutdown" signal is emitted (see above) and the program is terminated. That means there is no need to define these signals like in previous examples using <em>GtkWindow</em>. The "shutdown" also works even if the signal is not explicitly connected to a function during the initialization process.</p>
</div>
</div>
<div class="section" id="links">
<h2><a class="toc-backref" href="#id13">Links</a></h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="https://developer.gnome.org/gtk3/stable/GtkApplication.html">GNOME Developer: GtkApplication</a></li>
<li><a class="reference external" href="http://www.bachsau.com/2015/07/13/how-to-use-gtk-3-in-python-to-manage-your-whole-application/">How to use GTK+ 3 in Python to manage your whole application</a></li>
<li><a class="reference external" href="http://stackoverflow.com/questions/19481439/how-to-create-a-complete-menu-using-gio-actions-in-pygi-gtk">Stackoverflow: How to create a complete menu using GIO Actions in PyGI GTK?</a></li>
</ul>
</blockquote>
<!-- TEASER_END -->
</div>
<div class="section" id="listings">
<h2><a class="toc-backref" href="#id14">Listings</a></h2>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id15">Glade</a></h3>
<p><a class="reference external" href="../../../listings/13_dialoge.glade.html">13_dialoge.glade</a>  <a class="reference external" href="../../../listings/13_dialoge.glade">(Source)</a></p>
<pre class="code xml"><a name="rest_code_b42ad85a0617462f9dd1448588425c26-1"></a><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-2"></a><span class="c">&lt;!-- Generated with glade 3.20.0 --&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-3"></a><span class="nt">&lt;interface&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-4"></a>  <span class="nt">&lt;requires</span> <span class="na">lib=</span><span class="s">"gtk+"</span> <span class="na">version=</span><span class="s">"3.20"</span><span class="nt">/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-5"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkApplicationWindow"</span> <span class="na">id=</span><span class="s">"window"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-6"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-7"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"title"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Titel<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-8"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"destroy"</span> <span class="na">handler=</span><span class="s">"on_window_destroy"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-9"></a>    <span class="nt">&lt;child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-10"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkBox"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-11"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-12"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-13"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"orientation"</span><span class="nt">&gt;</span>vertical<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-14"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-15"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"aboutbutton"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-16"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>GtkAboutDialog<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-17"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-18"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-19"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-20"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_aboutbutton_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-21"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-22"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-23"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-24"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-25"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>0<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-26"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-27"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-28"></a>        <span class="nt">&lt;child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-29"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"messagebutton"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-30"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>GtkMessageDialog<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-31"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-32"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-33"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-34"></a>            <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"clicked"</span> <span class="na">handler=</span><span class="s">"on_messagebutton_clicked"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-35"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-36"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-37"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-38"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-39"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-40"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-41"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-42"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-43"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-44"></a>    <span class="nt">&lt;child</span> <span class="na">type=</span><span class="s">"titlebar"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-45"></a>      <span class="nt">&lt;placeholder/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-46"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-47"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-48"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkAboutDialog"</span> <span class="na">id=</span><span class="s">"aboutdialog"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-49"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-50"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"type_hint"</span><span class="nt">&gt;</span>dialog<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-51"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"transient_for"</span><span class="nt">&gt;</span>window<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-52"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"attached_to"</span><span class="nt">&gt;</span>window<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-53"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"program_name"</span><span class="nt">&gt;</span>Glade-Tutorial<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-54"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"version"</span><span class="nt">&gt;</span>1.0<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-55"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"logo_icon_name"</span><span class="nt">&gt;</span>help-about<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-56"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"license_type"</span><span class="nt">&gt;</span>mit-x11<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-57"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"delete-event"</span> <span class="na">handler=</span><span class="s">"on_dialog_delete_event"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-58"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"response"</span> <span class="na">handler=</span><span class="s">"on_dialog_response"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-59"></a>    <span class="nt">&lt;child</span> <span class="na">internal-child=</span><span class="s">"vbox"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-60"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkBox"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-61"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-62"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"orientation"</span><span class="nt">&gt;</span>vertical<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-63"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"spacing"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-64"></a>        <span class="nt">&lt;child</span> <span class="na">internal-child=</span><span class="s">"action_area"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-65"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButtonBox"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-66"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-67"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"layout_style"</span><span class="nt">&gt;</span>end<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-68"></a>            <span class="nt">&lt;child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-69"></a>              <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButton"</span> <span class="na">id=</span><span class="s">"button1"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-70"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"label"</span><span class="nt">&gt;</span>gtk-ok<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-71"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"visible"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-72"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-73"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"receives_default"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-74"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"use_stock"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-75"></a>              <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-76"></a>              <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-77"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-78"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-79"></a>                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-80"></a>              <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-81"></a>            <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-82"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-83"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-84"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-85"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-86"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>0<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-87"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-88"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-89"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-90"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-91"></a>    <span class="nt">&lt;action-widgets&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-92"></a>      <span class="nt">&lt;action-widget</span> <span class="na">response=</span><span class="s">"-8"</span><span class="nt">&gt;</span>button1<span class="nt">&lt;/action-widget&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-93"></a>    <span class="nt">&lt;/action-widgets&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-94"></a>    <span class="nt">&lt;child</span> <span class="na">type=</span><span class="s">"titlebar"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-95"></a>      <span class="nt">&lt;placeholder/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-96"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-97"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-98"></a>  <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkMessageDialog"</span> <span class="na">id=</span><span class="s">"messdialog"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-99"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-100"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"type_hint"</span><span class="nt">&gt;</span>dialog<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-101"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"transient_for"</span><span class="nt">&gt;</span>window<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-102"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"buttons"</span><span class="nt">&gt;</span>yes-no<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-103"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"text"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span>b<span class="ni">&amp;gt;</span>MessageDialog schließen?<span class="ni">&amp;lt;</span>/b<span class="ni">&amp;gt;</span><span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-104"></a>    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"use_markup"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-105"></a>    <span class="nt">&lt;signal</span> <span class="na">name=</span><span class="s">"response"</span> <span class="na">handler=</span><span class="s">"on_dialog_response"</span> <span class="na">swapped=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-106"></a>    <span class="nt">&lt;child</span> <span class="na">internal-child=</span><span class="s">"vbox"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-107"></a>      <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkBox"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-108"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-109"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"orientation"</span><span class="nt">&gt;</span>vertical<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-110"></a>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"spacing"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-111"></a>        <span class="nt">&lt;child</span> <span class="na">internal-child=</span><span class="s">"action_area"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-112"></a>          <span class="nt">&lt;object</span> <span class="na">class=</span><span class="s">"GtkButtonBox"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-113"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"can_focus"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-114"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"homogeneous"</span><span class="nt">&gt;</span>True<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-115"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"layout_style"</span><span class="nt">&gt;</span>end<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-116"></a>          <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-117"></a>          <span class="nt">&lt;packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-118"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"expand"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-119"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fill"</span><span class="nt">&gt;</span>False<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-120"></a>            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"position"</span><span class="nt">&gt;</span>0<span class="nt">&lt;/property&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-121"></a>          <span class="nt">&lt;/packing&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-122"></a>        <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-123"></a>      <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-124"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-125"></a>    <span class="nt">&lt;child</span> <span class="na">type=</span><span class="s">"titlebar"</span><span class="nt">&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-126"></a>      <span class="nt">&lt;placeholder/&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-127"></a>    <span class="nt">&lt;/child&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-128"></a>  <span class="nt">&lt;/object&gt;</span>
<a name="rest_code_b42ad85a0617462f9dd1448588425c26-129"></a><span class="nt">&lt;/interface&gt;</span>
</pre>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id16">GMenu</a></h3>
<p><a class="reference external" href="../../../listings/14_giomenu.ui.html">14_giomenu.ui</a>  <a class="reference external" href="../../../listings/14_giomenu.ui">(Source)</a></p>
<pre class="code xml"><a name="rest_code_437eb166bc614d6fa40fd06a3199719d-1"></a><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-2"></a><span class="nt">&lt;interface&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-3"></a>  <span class="nt">&lt;menu</span> <span class="na">id=</span><span class="s">"appmenu"</span><span class="nt">&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-4"></a>    <span class="nt">&lt;section&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-5"></a>      <span class="nt">&lt;item&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-6"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>About<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-7"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"action"</span><span class="nt">&gt;</span>app.about<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-8"></a>      <span class="nt">&lt;/item&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-9"></a>      <span class="nt">&lt;item&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-10"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Message<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-11"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"action"</span><span class="nt">&gt;</span>app.message<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-12"></a>      <span class="nt">&lt;/item&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-13"></a>    <span class="nt">&lt;/section&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-14"></a>    <span class="nt">&lt;section&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-15"></a>      <span class="nt">&lt;item&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-16"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">translatable=</span><span class="s">"yes"</span><span class="nt">&gt;</span>Quit<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-17"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"action"</span><span class="nt">&gt;</span>app.quit<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-18"></a>        <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">"accel"</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span>Primary<span class="ni">&amp;gt;</span>q<span class="nt">&lt;/attribute&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-19"></a>      <span class="nt">&lt;/item&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-20"></a>    <span class="nt">&lt;/section&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-21"></a>  <span class="nt">&lt;/menu&gt;</span>
<a name="rest_code_437eb166bc614d6fa40fd06a3199719d-22"></a><span class="nt">&lt;/interface&gt;</span>
</pre>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id17">Python</a></h3>
<p><a class="reference external" href="../../../listings/14_application.py.html">14_application.py</a>  <a class="reference external" href="../../../listings/14_application.py">(Source)</a></p>
<pre class="code python"><a name="rest_code_96a386de748144bfa6693476c59c9457-1"></a><span class="ch">#!/usr/bin/python</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-2"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-3"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-4"></a><span class="kn">import</span> <span class="nn">sys</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-5"></a><span class="kn">import</span> <span class="nn">gi</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-6"></a><span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s1">'Gtk'</span><span class="p">,</span><span class="s1">'3.0'</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-7"></a><span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Gtk</span><span class="p">,</span> <span class="n">Gio</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-8"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-9"></a><span class="k">class</span> <span class="nc">Handler</span><span class="p">:</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-10"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-11"></a>    <span class="k">def</span> <span class="nf">on_window_destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">window</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-12"></a>        <span class="n">window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-13"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-14"></a>    <span class="k">def</span> <span class="nf">on_dialog_delete_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-15"></a>        <span class="n">widget</span><span class="o">.</span><span class="n">hide_on_delete</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-16"></a>        <span class="k">return</span> <span class="bp">True</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-17"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-18"></a>    <span class="k">def</span> <span class="nf">on_aboutbutton_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-19"></a>        <span class="n">app</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"aboutdialog"</span><span class="p">)</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-20"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-21"></a>    <span class="k">def</span> <span class="nf">on_messagebutton_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-22"></a>        <span class="n">app</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"messdialog"</span><span class="p">)</span><span class="o">.</span><span class="n">format_secondary_text</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-23"></a>        <span class="n">app</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"messdialog"</span><span class="p">)</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-24"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-25"></a>    <span class="k">def</span> <span class="nf">on_dialog_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">response</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-26"></a>        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="o">-</span><span class="mi">8</span><span class="p">:</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-27"></a>            <span class="n">widget</span><span class="o">.</span><span class="n">hide_on_delete</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-28"></a>        <span class="k">elif</span> <span class="n">response</span> <span class="o">==</span> <span class="o">-</span><span class="mi">9</span><span class="p">:</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-29"></a>            <span class="n">widget</span><span class="o">.</span><span class="n">format_secondary_text</span><span class="p">(</span><span class="s2">"Doch!"</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-30"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-31"></a><span class="k">class</span> <span class="nc">ExampleApp</span><span class="p">:</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-32"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-33"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-34"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"org.application.test"</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">ApplicationFlags</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-36"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"startup"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_app_startup</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-37"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_app_activate</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-38"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"shutdown"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_app_shutdown</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-39"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-40"></a>        <span class="n">appinfo</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">DesktopAppInfo</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">"non.desktop"</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-41"></a>        <span class="k">print</span><span class="p">(</span><span class="n">appinfo</span><span class="o">.</span><span class="n">get_startup_wm_class</span><span class="p">())</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-42"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-43"></a>    <span class="k">def</span> <span class="nf">on_app_startup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-44"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">"Gio.Application startup signal emitted"</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-45"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-46"></a>    <span class="k">def</span> <span class="nf">on_app_activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-47"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">"Gio.Application activate signal emitted"</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-48"></a>        <span class="n">builder</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Builder</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-49"></a>        <span class="n">builder</span><span class="o">.</span><span class="n">add_from_file</span><span class="p">(</span><span class="s2">"13_dialoge.glade"</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-50"></a>        <span class="n">builder</span><span class="o">.</span><span class="n">add_from_file</span><span class="p">(</span><span class="s2">"14_giomenu.ui"</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-51"></a>        <span class="n">builder</span><span class="o">.</span><span class="n">connect_signals</span><span class="p">(</span><span class="n">Handler</span><span class="p">())</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-52"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-53"></a>        <span class="n">app</span><span class="o">.</span><span class="n">set_app_menu</span><span class="p">(</span><span class="n">builder</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="s2">"appmenu"</span><span class="p">))</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-54"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">get_object</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-55"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"window"</span><span class="p">)</span><span class="o">.</span><span class="n">set_application</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-56"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-57"></a>        <span class="c1">#print(Gio.AppInfo.get_all())</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-58"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-59"></a>        <span class="c1">#display application name in upper panel of the GNOME Shell</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-60"></a>        <span class="c1">#self.obj("window").set_wmclass("Application test","Application test")</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-61"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"window"</span><span class="p">)</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-62"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-63"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">add_simple_action</span><span class="p">(</span><span class="s2">"about"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_action_about_activated</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-64"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">add_simple_action</span><span class="p">(</span><span class="s2">"message"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_action_message_activated</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-65"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">add_simple_action</span><span class="p">(</span><span class="s2">"quit"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_action_quit_activated</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-66"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-67"></a>    <span class="k">def</span> <span class="nf">on_app_shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-68"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">"Gio.Application shutdown signal emitted"</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-69"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-70"></a>    <span class="k">def</span> <span class="nf">add_simple_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-71"></a>        <span class="n">action</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SimpleAction</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-72"></a>        <span class="n">action</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-73"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-74"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-75"></a>    <span class="k">def</span> <span class="nf">on_action_about_activated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">user_data</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-76"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="s2">"aboutdialog"</span><span class="p">)</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-77"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-78"></a>    <span class="k">def</span> <span class="nf">on_action_message_activated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">user_data</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-79"></a>        <span class="n">Handler</span><span class="p">()</span><span class="o">.</span><span class="n">on_messagebutton_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-80"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-81"></a>    <span class="k">def</span> <span class="nf">on_action_quit_activated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">user_data</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-82"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-83"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-84"></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argv</span><span class="p">):</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-85"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-86"></a>
<a name="rest_code_96a386de748144bfa6693476c59c9457-87"></a><span class="n">app</span> <span class="o">=</span> <span class="n">ExampleApp</span><span class="p">()</span>
<a name="rest_code_96a386de748144bfa6693476c59c9457-88"></a><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
        </div>
        
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../non-fortschritte/" rel="prev" title="NoN: progress">Previous post</a>
            </li>
            <li class="next">
                <a href="../application-fortsetzung/" rel="next" title="Desktop integration">Next post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="bahnfreikartoffelbrei",
            disqus_url="https://encarsia.github.io/en/posts/application/",
        disqus_title="Stand-alone",
        disqus_identifier="cache/posts/application.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        
    


    </div>

        
       <script>var disqus_shortname="bahnfreikartoffelbrei";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2018 <a href="mailto:An.Ke@bahnfreikartoffelbrei.de">Anke (encarsia)</a> - 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Zen theme based in <a href="https://github.com/arusahni/website-template">Arusahni's website-template</a><br></p>
            
        </footer>
</div>
    </section><script src="../../../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
