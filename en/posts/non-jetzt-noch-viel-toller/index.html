<!DOCTYPE html>
<html prefix="
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merge and Destroy · NoN: jetzt noch toller </title>
<link href="../../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700%7CAbril+Fatface">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS (de)" href="../../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="canonical" href="https://encarsia.github.io/en/posts/non-jetzt-noch-viel-toller/">
<link rel="icon" href="../../../files/favicon.ico" sizes="48x48">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Anke (encarsia)">
<link rel="prev" href="../google-takeout/" title="Lost in the rabbit hole of Google Takeout" type="text/html">
<link rel="next" href="../setuptools-spicker/" title="Packing GTK+ applications with setuptools" type="text/html">
<link rel="alternate" hreflang="de" href="../../../posts/non-jetzt-noch-viel-toller/">
</head>
<body class="theme-custom">
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div class="hsidebar">
        <div class="container sidebar-sticky">
            
                <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../../../index.html" title="Home"><i class="fa fa-home"></i>Home</a>
            <a class="sidebar-nav-item" href="../../../posts/tutorial-reihe-glade" title="Tutorials"><i class="fa fa-lightbulb-o"></i>Tutorials</a>
            <a class="sidebar-nav-item" href="../../../projects/index.html" title="Projects"><i class="fa fa-wrench"></i>Projects</a>
            <a class="sidebar-nav-item" href="https://octodon.social/@encarsia" title="Mastodon"><i class="fa fa-mastodon"></i>Mastodon</a>
            <a class="sidebar-nav-item" href="https://pixelfed.social/encarsia" title="Pixelfed"><i class="fa fa-pixelfed"></i>Pixelfed</a>
            <a class="sidebar-nav-item" href="https://twitter.com/encarsia_" title="Twitter"><i class="fa fa-twitter"></i>Twitter</a>
            <a class="sidebar-nav-item" href="https://github.com/encarsia" title="GitHub"><i class="fa fa-github"></i>GitHub</a>
            <a class="sidebar-nav-item" href="../../../pages/gplus_the_end" title="Google+"><i class="fa fa-google-plus-official"></i>Google+</a>
            <a class="sidebar-nav-item" href="../../../categories/index.html" title="Tags"><i class="fa fa-tags"></i>Tags</a>
            <a class="sidebar-nav-item" href="../../../archive.html" title="Archive"><i class="fa fa-folder-open"></i>Archive</a>
            <a class="sidebar-nav-item" href="../../../rss.xml" title="RSS"><i class="fa fa-feed"></i>RSS</a>
    
    
    </nav><footer id="footer"><span class="copyright">
              
<hr>
Contents © 2020 <a href="mailto:An.Ke@bahnfreikartoffelbrei.de">Anke (encarsia)</a>
<br> 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Hybrid theme

            </span>
            
            
        </footer>
</div>
    </div>
    <div class="content container" id="content">
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><h1 class="post-title p-name"><a href="." class="u-url">NoN: jetzt noch toller</a></h1>

    <p class="dateline">
      <i class="fa fa-clock-o"></i> <time class="published dt-published" datetime="2018-06-24T15:45:12+02:00" itemprop="datePublished" title="2018-06-24 15:45">2018-06-24 15:45</time>   |   <i class="fa fa-user"></i> 
         Anke (encarsia)
      
      
    </p>
    

    <div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p><strong>Knights of Ni - sag niemals nie</strong></p>
<p>Nach den <a class="reference external" href="../non-release/">kürzlichen Änderungen</a> an der Oberfläche gibt es nun erfreuliche Fortschritte darunter zu vermelden.</p>
<div class="section" id="neuigkeiten">
<h2>Neuigkeiten</h2>
<ol class="arabic simple">
<li>Man kann NoN jetzt richtig (mit Hilfe von setuptools) installieren und deinstallieren.</li>
<li>Vom Programm generierte Dateien werden nun wie üblich im eigenen Verzeichnis im Homeverzeichnis gespeichert.</li>
<li>Der Programmablauf wurde beschleunigt und die Dateizugriffe massiv reduziert, indem die Posts-/Pages-Informationen für den wiederholten Abruf geparst und in einer JSON-Datei abgelegt werden.</li>
</ol>
</div>
<div class="section" id="installation-via-setuptools">
<h2>Installation via setuptools</h2>
<p>Bei der Installation via <a class="reference external" href="https://pypi.org/project/setuptools/">setuptools</a> werden sowohl das Programm inklusive der UI als auch ein Desktopeintrag installiert. Nach der Installation lässt sich das Programm in GNOME also bequem über <tt class="docutils literal">[super]</tt> + <tt class="docutils literal">[n]</tt> (... <tt class="docutils literal">[o]</tt> ... <tt class="docutils literal">[n]</tt>) + <tt class="docutils literal">[enter]</tt> starten.</p>
<p>Um dies alles auch wieder loszuwerden, gibt es ein zusätzliches <cite>uninstall</cite>-Kommando. Beide Kommandos sind mit der Option <tt class="docutils literal"><span class="pre">--user</span></tt> möglich:</p>
<pre class="code console"><a name="rest_code_521b8c02da8c4642b4184e548d5b5b43-1"></a><span class="gp">#</span> <span class="o">(</span>De-/<span class="o">)</span>Installation im lokalen Nutzerverzeichnis
<a name="rest_code_521b8c02da8c4642b4184e548d5b5b43-2"></a><span class="gp">$</span> python setup.py install --user
<a name="rest_code_521b8c02da8c4642b4184e548d5b5b43-3"></a><span class="gp">$</span> python setup.py uninstall --user
<a name="rest_code_521b8c02da8c4642b4184e548d5b5b43-4"></a>
<a name="rest_code_521b8c02da8c4642b4184e548d5b5b43-5"></a><span class="gp">#</span> systemweite <span class="o">(</span>De-/<span class="o">)</span>Installation
<a name="rest_code_521b8c02da8c4642b4184e548d5b5b43-6"></a><span class="gp">$</span> sudo python setup.py install
<a name="rest_code_521b8c02da8c4642b4184e548d5b5b43-7"></a><span class="gp">$</span> sudo python setup.py uninstall
</pre>
</div>
<div class="section" id="dateistruktur">
<h2>Dateistruktur</h2>
<p>Die Nutzerdaten liegen jetzt in <tt class="docutils literal"><span class="pre">~/.non</span></tt>. Dort befinden sich</p>
<blockquote>
<ol class="arabic simple">
<li>die Konfigurationsdatei <tt class="docutils literal">config.yaml</tt>, in der der Pfad zur aktuellen/letzten Nikola-Seite und die Bookmarks gespeichert sind,</li>
<li>die Logdatei <tt class="docutils literal">non.log</tt> sowie</li>
<li>die geparsten Daten der aufgerufenen Nikola-Seiten jeweils als JSON-Datei.</li>
</ol>
</blockquote>
</div>
<div class="section" id="speicherung-von-meta-daten">
<h2>Speicherung von (Meta-)Daten</h2>
<p>Für die Anzeige im TreeStore wurden die Daten bisher sowieso intern als Dictionary gespeichert. Das Ineffiziente daran war allerdings, dass die Daten bei jedem Refresh immer neu abgerufen wurden. Dies ist nicht notwendig und mit zunehmender Größe der Seite auch sehr zäh.</p>
<p>Die Lösung bestand also darin, die Daten des Dictionary zum einen für den späteren Gebrauch in einer Datei zu speichern und zum anderen es nur durch eine Update-Funktion auf aktualisierte Inhalte zu überprüfen.</p>
<p>Auf diese Weise werden beim ersten Aufruf einer Nikola-Konfiguration alle Posts/Pages, Tags und Kategorien oder bei erneutem Aufruf die Daten aus der entsprechenden JSON-Datei eingelesen. Die Aktualisierung erfolgt über den Abgleich der letzten Dateimodifikation. Die JSON-Datei wird beim Wechsel in eine andere Nikola-Seite (z.B. über ein Bookmark) oder bei Programmende gespeichert.</p>
</div>
<div class="section" id="links">
<h2>Links</h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/encarsia/non">Knights of Ni-Repository</a></li>
<li><a class="reference external" href="https://getnikola.com">Nikola</a></li>
<li><dl class="first docutils">
<dt>Beiträge im Blog</dt>
<dd><ul class="first last">
<li><a class="reference external" href="../neues-projekt-knights-of-ni/">Neues Projekt: Knights of Ni</a></li>
<li><a class="reference external" href="../non-fortschritte/">NoN: Fortschritte</a></li>
<li><a class="reference external" href="../non-konsole/">NoN: Konsoledierung</a></li>
<li><a class="reference external" href="../non-release/">NoN: Fortschritte und Release</a></li>
<li><a class="reference external" href="../setuptools-spicker/">Der setuptools-Spicker</a></li>
</ul></dd>
</dl></li>
</ul>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><p itemprop="keywords" class="tags">
            <span class="tag"><a class="p-category" href="../../categories/nikola/" rel="tag">nikola</a></span>
            <span class="tag"><a class="p-category" href="../../categories/non/" rel="tag">non</a></span>
            <span class="tag"><a class="p-category" href="../../categories/python/" rel="tag">python</a></span>
      </p>

            <div class="pager hidden-print pagination">

            <span class="previous pagination-item older">
                <a href="../google-takeout/" rel="prev" title="Lost in the rabbit hole of Google Takeout">
                Previous post
                </a>
            </span>


            <span class="next pagination-item newer">
                <a href="../setuptools-spicker/" rel="next" title="Packing GTK+ applications with setuptools">
Next post
              </a>
            </span>

        </div>

    </nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="bahnfreikartoffelbrei",
            disqus_url="https://encarsia.github.io/en/posts/non-jetzt-noch-viel-toller/",
        disqus_title="NoN: jetzt noch toller",
        disqus_identifier="cache/posts/non-jetzt-noch-viel-toller.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="bahnfreikartoffelbrei";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    
    
                <script src="../../../assets/js/all-nocdn.js" type="text/javascript"></script><!-- fancy dates --><script>
      moment.locale("en");
      fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
